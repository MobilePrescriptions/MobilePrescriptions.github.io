(function(a,d){d.isDudaone=d.isMultiScreen})(jQuery,window);
(function(a,d){var b={has:function(a,b){return-1!==b.toLowerCase().indexOf(a.toLowerCase())},lowerize:function(a){return a.toLowerCase()}},c=function(){for(var a,b=0,c,g,h,q,p,z=arguments;b<z.length;b+=2){p=z[b];var n=z[b+1];if("undefined"===typeof a)for(h in a={},n)c=n[h],"object"===typeof c?a[c[0]]=d:a[c]=d;for(c=g=0;c<p.length;c++)if(q=p[c].exec(this.getUA())){for(h=0;h<n.length;h++)p=q[++g],c=n[h],"object"===typeof c&&0<c.length?2==c.length?a[c[0]]="function"==typeof c[1]?c[1].call(this,p):c[1]:
3==c.length?a[c[0]]="function"!==typeof c[1]||c[1].exec&&c[1].test?p?p.replace(c[1],c[2]):d:p?c[1].call(this,p,c[2]):d:4==c.length&&(a[c[0]]=p?c[3].call(this,p.replace(c[1],c[2])):d):a[c]=p?p:d;break}if(q)break}return a},g=function(a,c){for(var g in c)if("object"===typeof c[g]&&0<c[g].length)for(var h=0;h<c[g].length;h++){if(b.has(c[g][h],a))return"?"===g?d:g}else if(b.has(c[g],a))return"?"===g?d:g;return a},h={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2E3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",
7:"NT 6.1",8:"NT 6.2",RT:"ARM"},m=[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],["name","version","major"],[/\s(opr)\/((\d+)?[\w\.]+)/i],[["name","Opera"],"version","major"],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,
/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],["name","version","major"],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[["name","IE"],"version","major"],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[["name","Yandex"],"version","major"],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[["name",/_/g," "],"version","major"],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],["name","version","major"],[/(dolfin)\/((\d+)?[\w\.]+)/i],[["name","Dolphin"],
"version","major"],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[["name","Chrome"],"version","major"],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],["version","major",["name","Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],["version","major","name"],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],["name",["major",g,{1:["/8","/1","/3"],2:"/4","?":"/"}],["version",g,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419",
"?":"/"}]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],["name","version","major"],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[["name","Netscape"],"version","major"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(uc\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i,
/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],["name","version","major"]],k=[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",b.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/(ia64(?=;)|68k(?=\))|arm(?=v\d+;)|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],
["architecture",b.lowerize]],u=[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/\((ip[honed]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor",
"model",["type","mobile"]],[/\((bb10);\s(\w+)/i],[["vendor","BlackBerry"],"model",["type","mobile"]],[/android.+((transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+))/i],[["vendor","Asus"],"model",["type","tablet"]],[/(sony)\s(tablet\s[ps])/i],["vendor","model",["type","tablet"]],[/(nintendo)\s([wids3u]+)/i],["vendor","model",["type","console"]],[/((playstation)\s[3portablevi]+)/i],[["vendor","Sony"],"model",["type","console"]],[/(sprint\s(\w+))/i],[["vendor",g,{HTC:"APA",Sprint:"Sprint"}],["model",g,
{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],["vendor",["model",/_/g," "],["type","mobile"]],[/\s((milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?))[\w\s]+build\//i,/(mot)[\s-]?(\w+)*/i],[["vendor","Motorola"],"model",["type","mobile"]],[/android.+\s((mz60\d|xoom[\s2]{0,2}))\sbuild\//i],[["vendor","Motorola"],"model",["type","tablet"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9))/i],
[["vendor","Samsung"],"model",["type","tablet"]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/(sie)-(\w+)*/i],[["vendor","Siemens"],"model",["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w-;]{10}((a\d{3}))/i],[["vendor","Acer"],"model",["type","tablet"]],[/android\s3\.[\s\w-;]{10}(lg?)-([06cv9]{3,4})/i],
[["vendor","LG"],"model",["type","tablet"]],[/((nexus\s4))/i,/(lg)[e;\s-\/]+(\w+)*/i],[["vendor","LG"],"model",["type","mobile"]],[/(mobile|tablet);.+rv\:.+gecko\//i],["type","vendor","model"]],z=[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv\:([\w\.]+).*(gecko)/i],["version","name"]],n=[[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],
["name",["version",g,h]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",g,h]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[["name","Symbian"],"version"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name","Firefox OS"],"version"],[/(nintendo|playstation)\s([wids3portablevu]+)/i,
/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.]+\d)*/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],["name","version"],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[["name","iOS"],["version",
/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],["name",["version",/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],["name","version"]],p=function(b){var d=b||(a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:"");if(!(this instanceof p))return(new p(b)).getResult();this.getBrowser=function(){return c.apply(this,m)};this.getCPU=function(){return c.apply(this,k)};this.getDevice=
function(){return c.apply(this,u)};this.getEngine=function(){return c.apply(this,z)};this.getOS=function(){return c.apply(this,n)};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return d};this.setUA=function(a){d=a;return this};this.setUA(d)};if("undefined"!==typeof exports)"undefined"!==typeof module&&module.exports&&(exports=module.exports=p),exports.UAParser=p;else if(a.UAParser=
p,"function"===typeof define&&define.amd&&define(function(){return p}),"undefined"!==typeof a.jQuery){var B=a.jQuery,q=new p;B.ua=q.getResult();B.ua.get=function(){return q.getUA()};B.ua.set=function(a){q.setUA(a);a=q.getResult();for(var b in a)B.ua[b]=a[b]}}})(this);
var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d",encode:function(a){var d="",b,c,g,h,m,k,u=0;for(a=Base64._utf8_encode(a);u<a.length;)b=a.charCodeAt(u++),c=a.charCodeAt(u++),g=a.charCodeAt(u++),h=b>>2,b=(b&3)<<4|c>>4,m=(c&15)<<2|g>>6,k=g&63,isNaN(c)?m=k=64:isNaN(g)&&(k=64),d=d+Base64._keyStr.charAt(h)+Base64._keyStr.charAt(b)+Base64._keyStr.charAt(m)+Base64._keyStr.charAt(k);return d},decode:function(a){var d="",b,c,g,h,m,k=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,
"");k<a.length;)b=Base64._keyStr.indexOf(a.charAt(k++)),c=Base64._keyStr.indexOf(a.charAt(k++)),h=Base64._keyStr.indexOf(a.charAt(k++)),m=Base64._keyStr.indexOf(a.charAt(k++)),b=b<<2|c>>4,c=(c&15)<<4|h>>2,g=(h&3)<<6|m,d+=String.fromCharCode(b),64!=h&&(d+=String.fromCharCode(c)),64!=m&&(d+=String.fromCharCode(g));return d=Base64._utf8_decode(d)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var d="",b=0;b<a.length;b++){var c=a.charCodeAt(b);128>c?d+=String.fromCharCode(c):(127<c&&2048>c?d+=
String.fromCharCode(c>>6|192):(d+=String.fromCharCode(c>>12|224),d+=String.fromCharCode(c>>6&63|128)),d+=String.fromCharCode(c&63|128))}return d},_utf8_decode:function(a){for(var d="",b=0,c=c1=c2=0;b<a.length;)c=a.charCodeAt(b),128>c?(d+=String.fromCharCode(c),b++):191<c&&224>c?(c2=a.charCodeAt(b+1),d+=String.fromCharCode((c&31)<<6|c2&63),b+=2):(c2=a.charCodeAt(b+1),c3=a.charCodeAt(b+2),d+=String.fromCharCode((c&15)<<12|(c2&63)<<6|c3&63),b+=3);return d}},hexcase=0,b64pad="";
function hex_sha1(a){var d=0;a=rstr2hex(rstr_sha1(str2rstr_utf8(a)));for(var b=0;b<a.length;b++)d+=a.charCodeAt(b);return d}function b64_sha1(a){return rstr2b64(rstr_sha1(str2rstr_utf8(a)))}function any_sha1(a,d){return rstr2any(rstr_sha1(str2rstr_utf8(a)),d)}function hex_hmac_sha1(a,d){return rstr2hex(rstr_hmac_sha1(str2rstr_utf8(a),str2rstr_utf8(d)))}function b64_hmac_sha1(a,d){return rstr2b64(rstr_hmac_sha1(str2rstr_utf8(a),str2rstr_utf8(d)))}
function any_hmac_sha1(a,d,b){return rstr2any(rstr_hmac_sha1(str2rstr_utf8(a),str2rstr_utf8(d)),b)}function sha1_vm_test(){return"a9993e364706816aba3e25717850c26c9cd0d89d"==hex_sha1("abc").toLowerCase()}function rstr_sha1(a){return binb2rstr(binb_sha1(rstr2binb(a),8*a.length))}
function rstr_hmac_sha1(a,d){var b=rstr2binb(a);16<b.length&&(b=binb_sha1(b,8*a.length));for(var c=Array(16),g=Array(16),h=0;16>h;h++)c[h]=b[h]^909522486,g[h]=b[h]^1549556828;b=binb_sha1(c.concat(rstr2binb(d)),512+8*d.length);return binb2rstr(binb_sha1(g.concat(b),672))}function rstr2hex(a){try{hexcase}catch(d){hexcase=0}for(var b=hexcase?"0123456789ABCDEF":"0123456789abcdef",c="",g,h=0;h<a.length;h++)g=a.charCodeAt(h),c+=b.charAt(g>>>4&15)+b.charAt(g&15);return c}
function rstr2b64(a){try{b64pad}catch(d){b64pad=""}for(var b="",c=a.length,g=0;g<c;g+=3)for(var h=a.charCodeAt(g)<<16|(g+1<c?a.charCodeAt(g+1)<<8:0)|(g+2<c?a.charCodeAt(g+2):0),m=0;4>m;m++)b=8*g+6*m>8*a.length?b+b64pad:b+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>>6*(3-m)&63);return b}
function rstr2any(a,d){var b=d.length,c=[],g,h,m,k,u=Array(Math.ceil(a.length/2));for(g=0;g<u.length;g++)u[g]=a.charCodeAt(2*g)<<8|a.charCodeAt(2*g+1);for(;0<u.length;){k=[];for(g=m=0;g<u.length;g++)if(m=(m<<16)+u[g],h=Math.floor(m/b),m-=h*b,0<k.length||0<h)k[k.length]=h;c[c.length]=m;u=k}b="";for(g=c.length-1;0<=g;g--)b+=d.charAt(c[g]);c=Math.ceil(8*a.length/(Math.log(d.length)/Math.log(2)));for(g=b.length;g<c;g++)b=d[0]+b;return b}
function str2rstr_utf8(a){for(var d="",b=-1,c,g;++b<a.length;)c=a.charCodeAt(b),g=b+1<a.length?a.charCodeAt(b+1):0,55296<=c&&56319>=c&&56320<=g&&57343>=g&&(c=65536+((c&1023)<<10)+(g&1023),b++),127>=c?d+=String.fromCharCode(c):2047>=c?d+=String.fromCharCode(192|c>>>6&31,128|c&63):65535>=c?d+=String.fromCharCode(224|c>>>12&15,128|c>>>6&63,128|c&63):2097151>=c&&(d+=String.fromCharCode(240|c>>>18&7,128|c>>>12&63,128|c>>>6&63,128|c&63));return d}
function str2rstr_utf16le(a){for(var d="",b=0;b<a.length;b++)d+=String.fromCharCode(a.charCodeAt(b)&255,a.charCodeAt(b)>>>8&255);return d}function str2rstr_utf16be(a){for(var d="",b=0;b<a.length;b++)d+=String.fromCharCode(a.charCodeAt(b)>>>8&255,a.charCodeAt(b)&255);return d}function rstr2binb(a){for(var d=Array(a.length>>2),b=0;b<d.length;b++)d[b]=0;for(b=0;b<8*a.length;b+=8)d[b>>5]|=(a.charCodeAt(b/8)&255)<<24-b%32;return d}
function binb2rstr(a){for(var d="",b=0;b<32*a.length;b+=8)d+=String.fromCharCode(a[b>>5]>>>24-b%32&255);return d}
function binb_sha1(a,d){a[d>>5]|=128<<24-d%32;a[(d+64>>9<<4)+15]=d;for(var b=Array(80),c=1732584193,g=-271733879,h=-1732584194,m=271733878,k=-1009589776,u=0;u<a.length;u+=16){for(var z=c,n=g,p=h,B=m,q=k,y=0;80>y;y++){b[y]=16>y?a[u+y]:bit_rol(b[y-3]^b[y-8]^b[y-14]^b[y-16],1);var r=safe_add(safe_add(bit_rol(c,5),sha1_ft(y,g,h,m)),safe_add(safe_add(k,b[y]),sha1_kt(y))),k=m,m=h,h=bit_rol(g,30),g=c,c=r}c=safe_add(c,z);g=safe_add(g,n);h=safe_add(h,p);m=safe_add(m,B);k=safe_add(k,q)}return[c,g,h,m,k]}
function sha1_ft(a,d,b,c){return 20>a?d&b|~d&c:40>a?d^b^c:60>a?d&b|d&c|b&c:d^b^c}function sha1_kt(a){return 20>a?1518500249:40>a?1859775393:60>a?-1894007588:-899497514}function safe_add(a,d){var b=(a&65535)+(d&65535);return(a>>16)+(d>>16)+(b>>16)<<16|b&65535}function bit_rol(a,d){return a<<d|a>>>32-d}$(document).ready(function(){initHandlers();initBlogs()});
var RSS_CONTAINER_SELECTOR=".dmRssContainer",RSS_CONTAINER_MORE_POSTS_BUTTON="#dmMorePostsButton",RSS_CONTAINER_MORE_POSTS_INNER_DIV=".dmMorePostsButtonClass",POST_ITEM=".dmRssItem",POST_ITEM_LINK=".dmRssA",POST_NEXT_ITEM_ELEMENT="#dmNextItemLink",POST_PREV_ITEM_ELEMENT="#dmPrevItemLink",SEARCH_ELEMENT=".dmSearchElementMain",SEARCH_RESULTS_MAIN_DIV=".dmSearchResultsMain",SEARCH_BUTTON=".dmSearchButton",SEARCH_RESULTS_DIV=".dmSearchResults",SEARCH_INPUT=".dmSearchInput",queryNumber=1,lastSearchTerm=
"",blogItems=[],currentShownPost=new PostItem("");
function initBlogs(){if(0<$(RSS_CONTAINER_SELECTOR).length){blogItems=[];var a=$(POST_ITEM).length;$(POST_ITEM).each(function(a){elm=$(this).find(POST_ITEM_LINK);var c=elm.attr("href");blogItems[a]=new PostItem(c);elm.click(function(c){currentShownPost=blogItems[a]})});for(var d=0;d<blogItems.length;d++)0<d&&(blogItems[d].prevLink=blogItems[d-1].link),d<a-1&&(blogItems[d].nextLink=blogItems[d+1].link)}0<$("#dmPostBackToMain").length&&($("#dmPostBackToMain").css("display","none"),$(Parameters.HomeLinkSelector).attr("href",
$("#dmPostBackToMain").attr("href")))}function initHandlers(){"true"==$(SEARCH_BUTTON).attr("autocomplete")&&$(SEARCH_INPUT).bind("keyup",function(a){search()})}function findPostItem(a){for(var d=0;d<blogItems.length;d++)if(-1!=a.indexOf(blogItems[d].link))return blogItems[d];return null}function PostItem(a){this.link=a;this.nextLink=this.prevLink=""}
function fetchMoreBlogItems(a){if("BLOGGER"==Parameters.WebPlatform)fetchMoreBlogItemsForBlogger(a);else{var d={commandID:"loadMorePosts"};d._url=a;d._morePostsLabel=$(RSS_CONTAINER_MORE_POSTS_INNER_DIV).html();a="/_dm/s/rt/api/public/wpl/site/"+Parameters.SiteId;var b=$(RSS_CONTAINER_MORE_POSTS_BUTTON).offset().top+2,c=jQuery.DM.getPageWidth()/2-102;if($.browser.msie||$.browser.mozilla)c=jQuery.DM.getPageWidth()/2-125;b=[c,b];setLoaderSize(8,2);jQuery.DM.setLoadingOnScreen(!0,b,!1);jQuery.DM.assignLoaderColor(RSS_CONTAINER_MORE_POSTS_INNER_DIV);
$.ajax({url:a,type:"post",data:JSON.stringify(d),async:!0,contentType:"application/json",error:function(a,b,c){jQuery.DM.setLoadingOnScreen(!1)},success:function(a){var b=$(RSS_CONTAINER_MORE_POSTS_BUTTON);jQuery.DM.setLoadingOnScreen(!1);if(a.postList){var c=$("\x3cdiv\x3e\x3c/div\x3e").append($(a.postList).find(RSS_CONTAINER_SELECTOR)).html();a=$(POST_ITEM_LINK)[$(POST_ITEM).length-1];a=$(a).attr("href");isDudaone||null==$.DM.getQueryParam(a,"url")||(a=unescape($.DM.getQueryParam(a,"url")));a=$.DM.getQueryParam(a,
"post_id");for(var c=$(c),d=$(POST_ITEM_LINK,c),u=-1,z=0;z<d.length;z++){var n=$(d[z]).attr("href");isDudaone||null==$.DM.getQueryParam(n,"url")||(n=unescape($.DM.getQueryParam(n,"url")));if(a==$.DM.getQueryParam(n,"post_id")){u=z;break}}if(-1<u)for(z=0;z<=u;z++)c.find($(d[z])).parent().remove();a=c.html();$(a).insertBefore(b);b.remove();jQuery.DM.initAjaxLinks();jQuery.DM.updateIOSHeight();initBlogs();jQuery.DM.isUseLayout()&&jQuery.layoutManager.initLayout()}}})}}
function fetchMoreBlogItemsForBlogger(a){a=$(RSS_CONTAINER_MORE_POSTS_BUTTON).attr("href");var d=$(RSS_CONTAINER_MORE_POSTS_BUTTON).offset().top+2,b=jQuery.DM.getPageWidth()/2-102;if($.browser.msie||$.browser.mozilla)b=jQuery.DM.getPageWidth()/2-125;d=[b,d];setLoaderSize(8,2);jQuery.DM.setLoadingOnScreen(!0,d,!1);jQuery.DM.assignLoaderColor(RSS_CONTAINER_MORE_POSTS_INNER_DIV);jQuery.DM.executeAjaxCommand(a,function(a){jQuery.DM.setLoadingOnScreen(!1);a=$(a.content).find(RSS_CONTAINER_SELECTOR).html();
var b=$(RSS_CONTAINER_MORE_POSTS_BUTTON);$(a).insertBefore(RSS_CONTAINER_MORE_POSTS_BUTTON);b.remove();jQuery.DM.initAjaxLinks();jQuery.DM.updateIOSHeight();initBlogs()},function(a,b,d){jQuery.DM.setLoadingOnScreen(!1)})}
function search(){var a=$(SEARCH_ELEMENT),d=$(SEARCH_INPUT).val().trim();if(""==d)queryNumber++,a.empty(),a.css("display","none"),$.DM.darkenPreviewScreen(!1);else if(lastSearchTerm!=d||"none"==a.css("display")){queryNumber++;lastSearchTerm=d;d={commandID:"searchPosts"};d._searchTerm=$(SEARCH_INPUT).val();d._providerType=$(SEARCH_BUTTON).attr("providertype");d._rssURL=$(SEARCH_BUTTON).attr("rssurl");d._openSearchDescriptor=$(SEARCH_BUTTON).attr("opensearchdescriptor");d._maxResults=$(SEARCH_BUTTON).attr("maxresults");
d._queryNumber=queryNumber;var b="/_dm/s/rt/api/public/wpl/site/"+Parameters.SiteId,c=$(SEARCH_INPUT).offset().top+6,c=[$(SEARCH_INPUT).width()+2*$(SEARCH_INPUT).offset().left-40,c];setLoaderSize(5,2);jQuery.DM.setLoadingOnScreen(!0,c,!1);$.ajax({url:b,type:"post",data:JSON.stringify(d),async:!0,contentType:"application/json",error:function(a,b,c){jQuery.DM.setLoadingOnScreen(!1)},success:function(b){b.results&&b.queryNumber==queryNumber&&(a.empty(),0==b.resultsNum?(a.css("display","none"),$.DM.darkenPreviewScreen(!1)):
(b=$(b.results),b.find(SEARCH_RESULTS_MAIN_DIV).html(),a.append(b),a.css("display","block"),a.focus(),$(SEARCH_INPUT).addClass("dmSearchInputWithResults"),$.DM.darkenPreviewScreen(!0),$("#dmBlackWrapper").unbind("click").bind("click",function(){a.css("display","none");$.DM.darkenPreviewScreen(!1)})));jQuery.DM.setLoadingOnScreen(!1)}})}}function closeSearch(){$(SEARCH_ELEMENT).css("display","none");$(SEARCH_INPUT).removeClass("dmSearchInputWithResults");$.DM.darkenPreviewScreen(!1)}
function initSwipeHandlers(){if(!dmNoSwipe){var a=findPostItem(currentShownPost.link);jQuery.DM.initSwipeSelectors(".dmBlogInnerPostPage",function(){if(""!=a.nextLink){currentShownPost=new PostItem(a.nextLink);currentShownPost.prevLink=a.link;var d=findPostItem(a.nextLink);null!=d&&(currentShownPost.nextLink=d.link);jQuery(POST_NEXT_ITEM_ELEMENT).attr("href",a.nextLink);jQuery(POST_NEXT_ITEM_ELEMENT).attr("animationType","forward");jQuery(POST_NEXT_ITEM_ELEMENT).trigger("click");return!0}return!1},
function(){if(""!=a.prevLink){currentShownPost=new PostItem(a.prevLink);currentShownPost.nextLink=a.link;var d=findPostItem(a.prevLink);null!=d&&(currentShownPost.prevLink=d.link);jQuery(POST_PREV_ITEM_ELEMENT).attr("href",a.prevLink);jQuery(POST_PREV_ITEM_ELEMENT).attr("animationType","backward");jQuery(POST_PREV_ITEM_ELEMENT).trigger("click");return!0}return!1})}}
function cropImage(a){$image=$(a);a=new Image;a.src=$image.attr("src");$image.css("position","static");$div=$image.parent();$div.css("overflow","hidden");-1==$image.attr("src").indexOf("transparent.gif")&&$div.css("background","white");width=a.width;height=a.height;divwidth=$div.width();divheight=$div.height();width>height?($image.css("height",""+divheight+"px"),width=$image.width,width>divwidth&&(console.log(width-divwidth,width,divwidth),diff=width-divwidth,$image.css("left",""+(0-diff/2)+"px"))):
($image.css("width",""+divwidth+"px"),height=$image.height,height>divheight&&(console.log(height-divwidth,height,divwidth),diff=height-divheight,$image.css("top",""+(0-diff/2)+"px")))}
(function(){var a,d;jQuery.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a=jQuery.uaMatch(navigator.userAgent);d={};a.browser&&(d[a.browser]=!0,d.version=a.version);d.chrome?d.webkit=!0:d.webkit&&(d.safari=!0);d.msie=!!navigator.userAgent.match(/MSIE|Trident\/7\./);
jQuery.browser=d;jQuery.live=function(a,c,d){jQuery(this.context).on(a,this.selector,c,d);return this};jQuery.die=function(a,c){jQuery(this.context).off(a,this.selector||"**",c);return this}})();(function(){"function"!==typeof String.prototype.contains&&(String.prototype.contains=function(a){return-1!=this.indexOf(a)})})();
var MAX_CACHE_SIZE=20,HOME_CLASS_IDENTIFIER="Home",NAV_CLASS_IDENTIFIER="Nav",FIRST_CONTAINER_ID="dmFirstContainer",TEMP_CONTAINER_ID="dmTempContainer",TRANS_CONTAINER_ID="dmTransArea",GALLERY_CONTAINER_ID="dmGalleryContainer",GALLERY_CONTAINER_ID_IMG="dmGalleryImage",GALLERY_BLACK_CONTAINER_ID="dmBlackContainer",FACEBOOK_COMMENTS_ID="dmFacebookComments",docWriteCalled=!1,isNewNav=!1,afterExpCol=null;function Enum(){}Enum.AnimationType={None:0,SlideLeft:1,SlideRight:2,Rotate:3,Fade:4};
Enum.LinkType={Home:0,Nav:1,Other:2};Enum.WebPlatformType={General:0,Webs:1,Attsmb:2,WebsPlanet:3,Blogs:4};Enum.AgentType={Iphone:0,Android:1,BlackBerry:2,Nokia:3,WindowsMobile:4,Other:5};Enum.ThemeType={Matrix:0,Other:1};
function parametersClass(){this.AjaxContainer="div.dmBody";this.WrappingContainer="div.dmOuter";this.BackgroundElement="div.dmInner";this.SiteType=this.SiteId=this.SiteAlias=this.CurrentLinkType=this.IsCurrentHomePage=this.CurrentPageUrl=this.HomeUrl=null;this.DefaultPageAlias=this.InitialPageAlias="home";this.AnimationTypeInner=this.AnimationTypeBackward=this.AnimationTypeForward=Enum.AnimationType.Fade;this.Charset="UTF-8";this.CacheSize=10;this.AllowAjax=!0;this.IsSEOFriendlyLinks=!1;this.LinksToAjax=
"";this.LinksToAjaxExceptions=[];this.StartupCommand=this.AfterAjaxCommand=this.BeforeAjaxCommand=null;this.WebsiteGenerator=Enum.WebPlatformType.General;this.SelectorsToHideOnTransitions=null;this.HomeLinksClasses="dm-logo-anchor";this.HomeLinkText="Back to home";this.HomeLinkSelector="a.dmHome";this.UseGalleryModule=!1;this.CurrentThemeName="";this.DisableLinks=!1;this.AfterMoreLessCommand=null;this.IsBfs=!1;this.ManifestId=-1;this.NavParameters=function(){this.NavbarSize=5;this.NavbarSelector=
".dmNav";this.SubNavbarSelector="";this.NavbarLiveHomePage=null;this.BlockContainerSelector=".dmBody";this.ShowBackToHomeOnInnerPages=!0;this.MoreButtonText="More Options";this.LessButtonText="Less Options";this.ReplaceNavigationOnInnerPages=!0};this.SidebarParameters=function(){this.SidebarSelector=".dm_sideBar";this.SidebarArrowSelector="#fw-sidebar-arrow";this.SidebarInitialClass="fw-sidebarbegin";this.SidebarClosingClass="fw-sidebarend"};this.NavigationAreaParams=new this.NavParameters;this.SidebarParams=
new this.SidebarParameters}var Parameters=new parametersClass;
(function(a,d){function b(a){this.pageUrl=a;this.pageAlias="DUDAONE"==Parameters.SiteType?Parameters.InitialPageAlias:"";this.pageContent=null;this.ajaxCallComplete=!1;this.linkType=Enum.LinkType.Other;this.pageUrlIdentifier=hex_sha1(this.pageUrl);this.pageID=this.pageUrlIdentifier+"";this.pageScrollTo=null;this.pageReady=!1;this.pageAnimation=null}function c(){var a;a:{if(window.localStorage)try{localStorage.setItem("testKey",1);localStorage.removeItem("testKey");a=!0;break a}catch(f){}a=!1}a&&Parameters.AllowAjax&&
I!=Enum.AgentType.Android&&8!==ga&&7!==ga&&(aa=[],V=!0,O=function(){return{setItem:function(a,e){var f=this.getStorage();f[a]=e;localStorage.setItem("dmPagesCache",JSON.stringify(f))},getItem:function(a){return this.getStorage()[a]||null},clear:function(){localStorage.setItem("dmPagesCache","{}")},getSize:function(){return Object.keys(this.getStorage()).length},getStorage:function(){return JSON.parse(localStorage.getItem("dmPagesCache")||"{}")||{}}}}(),O.clear())}function g(){return void 0!=Parameters&&
null!=Parameters.SiteType&&"DUDAONE"==Parameters.SiteType}function h(e,f,v){if(0===a('script[src^\x3d"'+e+'"]').length)a.getScript(e,function(){if(-1===e.indexOf("callback\x3d")&&f){try{f()}catch(a){console.log("DM-Ajax: init widget callback throws exception: "+a.message)}v&&l.updateAfterInit()}});else if(f){try{f()}catch(A){console.log("DM-Ajax: init widget callback throws exception")}!0===v&&l.updateAfterInit()}}function m(a,f){if(null==a)return null;var v=a.split("?"),A="";if(1<v.length)A=v[1];
else return null;var A=A.split("#")[0],v=0,b,A=A.split("\x26"),c=A.length;for(v;v<c;v++)if(b=A[v],b=b.split("\x3d"),2===b.length&&b[0]===f)return b[1];return null}function k(){var e=a("#"+GALLERY_CONTAINER_ID);0==e.length&&(e=a('\x3cdiv ID\x3d"'+GALLERY_CONTAINER_ID+'"\x3e\x3c/div\x3e'),e.css("position","absolute"),e.changeDisplay("none"),e.css("z-index","100000"),e.css("left","0px"),e.css("top","0px"),a("body").append(e));var f=a("#"+GALLERY_BLACK_CONTAINER_ID);0==f.length&&(f=a('\x3cdiv ID\x3d"'+
GALLERY_BLACK_CONTAINER_ID+'" ontouchmove\x3d"touchMove(event);"\x3e\x3c/div\x3e'),f.css("position","absolute"),f.changeDisplay("none"),f.css("overflow","hidden"),f.css("left","0px"),f.css("top","0px"),f.css("background-color","#000000"),f.css("opacity","0.8"),f.css("z-index","99999"),f.changeDisplay("none"),f.width(a(document).width()),f.height(U()+Y()+100),a("body").append(f));I!=Enum.AgentType.Other&&(I==Enum.AgentType.Iphone?e.unbind("orientationchange").bind("orientationchange",function(a){ia()}):
window.addEventListener("orientationchange",function(){ia()},!1))}function u(){if(null!=Parameters.AjaxContainer){t=Parameters.AjaxContainer;a(t).css("-webkit-transition","-webkit-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)");a(t).css("-moz-transition","-moz-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)");a(t).css("-o-transition","-o-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)");
a(t).css("-ms-transition","-ms-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)");a(t).attr("id",FIRST_CONTAINER_ID);t="#"+FIRST_CONTAINER_ID;a("#"+FIRST_CONTAINER_ID).css("-webkit-transform",Parameters.trans+"(0px, 0px, 0px)");a("#"+FIRST_CONTAINER_ID).css("-moz-transform","translate(0px, 0px)");a("#"+FIRST_CONTAINER_ID).css("-o-transform","translate(0px, 0px)");a("#"+FIRST_CONTAINER_ID).css("-ms-transform","translate(0px, 0px)");var e=a("\x3cdiv\x3e\x3c/div\x3e");
qa(a(t).get(0),e);e.width(a(t).width());e.height(a(window).height());e.css("position","absolute");e.css("top","0px");e.css("display","none");e.insertBefore(a(t));e.attr("id",TEMP_CONTAINER_ID);a("#"+TEMP_CONTAINER_ID).css("-webkit-transition","-webkit-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)");a("#"+TEMP_CONTAINER_ID).css("-moz-transition","-moz-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)");a("#"+
TEMP_CONTAINER_ID).css("-o-transition","-o-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)");a("#"+TEMP_CONTAINER_ID).css("-ms-transition","-ms-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)");a("#"+TEMP_CONTAINER_ID).css("-webkit-transform",Parameters.trans+"(0px, 0px, 0px)");a("#"+TEMP_CONTAINER_ID).css("-moz-transform","translate(0px, 0px)");a("#"+TEMP_CONTAINER_ID).css("-o-transform","translate(0px, 0px)");
a("#"+TEMP_CONTAINER_ID).css("-ms-transform","translate(0px, 0px)")}null!=Parameters.WrappingContainer?K=Parameters.WrappingContainer:(Parameters.AnimationTypeForward=Enum.AnimationType.None,Parameters.AnimationTypeBackward=Enum.AnimationType.None,Parameters.AnimationTypeInner=Enum.AnimationType.None);null!=Parameters.CacheSize&&Parameters.CacheSize>MAX_CACHE_SIZE&&(_Parameters.CacheSize=MAX_CACHE_SIZE);if(-1==Parameters.NavigationAreaParams.NavbarSize||-1<navigator.userAgent.indexOf("Opera"))Parameters.NavigationAreaParams.NavbarSize=
Number.MAX_VALUE;if(null!=Parameters.CurrentPageUrl){e=window.location.hash;null!=e&&""!=e&&(e=e.replace("#",""));e=T(e);null!=e?(x=q(e),Parameters.IsSEOFriendlyLinks||(window.location.hash=x.pageID),"complete"!==document.readyState&&x.pageContent.isHomePage||x.show()):(x=new b(Parameters.CurrentPageUrl),Parameters.IsSEOFriendlyLinks||(window.location.hash=x.pageID),null!=Parameters.CurrentLinkType&&(x.linkType=Parameters.CurrentLinkType),null!=Parameters.IsCurrentHomePage&&null!=x&&(Parameters.IsCurrentHomePage&&
(x.linkType=Enum.LinkType.Home,x.pageUrl=l.getHomeLink()),e="\x3cdiv id\x3d'"+a(t).attr("id")+"' class\x3d'"+a(t).attr("class")+"'\x3e"+a(t).html()+"\x3c/div\x3e",docWriteCalled||(x.pageContent={content:e,isHomePage:Parameters.IsCurrentHomePage,css:a("#pagestyle").html(),devicecss:a("#pagestyleDevice").html(),alias:Parameters.InitialPageAlias,classic_link:Parameters.classicLink})));R=x.pageUrlIdentifier;aa.push(x.pageID);fa(x);if(-1==Parameters.NavigationAreaParams.NavbarSize||a.browser.opera)Parameters.NavigationAreaParams.NavbarSize=
Number.MAX_VALUE;ka=document.write;document.write=function(a){}}}function z(){null!=Parameters.AjaxContainer&&(t=Parameters.AjaxContainer,a(t).attr("ID",FIRST_CONTAINER_ID),t="#"+FIRST_CONTAINER_ID);null!=Parameters.WrappingContainer?K=Parameters.WrappingContainer:(Parameters.AnimationTypeForward=Enum.AnimationType.None,Parameters.AnimationTypeBackward=Enum.AnimationType.None,Parameters.AnimationTypeInner=Enum.AnimationType.None);if(-1==Parameters.NavigationAreaParams.NavbarSize||a.ua.browser.name.contains("Opera"))Parameters.NavigationAreaParams.NavbarSize=
Number.MAX_VALUE;if(null!=Parameters.CurrentPageUrl){x=new b(Parameters.CurrentPageUrl);R=x.pageUrlIdentifier;Parameters.IsSEOFriendlyLinks||(window.location.hash=x.pageID);R=x.pageUrlIdentifier;aa.push(x.pageID);fa(x);var e="\x3cdiv id\x3d'"+a(t).attr("id")+"' class\x3d'"+a(t).attr("class")+"'\x3e"+a(t).html()+"\x3c/div\x3e";docWriteCalled||(x.pageContent={content:e,isHomePage:Parameters.IsCurrentHomePage,css:a("#pagestyle").html(),devicecss:a("#pagestyleDevice").html(),alias:Parameters.InitialPageAlias,
classic_link:Parameters.classicLink})}null!=Parameters.CurrentLinkType&&(x.linkType=Parameters.CurrentLinkType);Parameters.IsCurrentHomePage&&null!=x&&(x.linkType=Enum.LinkType.Home,x.pageUrl=l.getHomeLink())}function n(a){null==a&&(a="");for(var f=0;f<Parameters.LinksToAjaxExceptions.length;f++)if(-1!=a.indexOf(Parameters.LinksToAjaxExceptions[f])||-1!=unescape(a).indexOf(Parameters.LinksToAjaxExceptions))return!0;return!1}function p(e){if(!1==Parameters.DisableLinks&&(a=Z,l.updateWidth(),Parameters.AllowAjax)){var f=
null;g()?Parameters.LinksToAjax="a[href^\x3d'/'], a[href^\x3d'#'], .u_dmStyle_backToHome":Parameters.LinksToAjax="a[href^\x3d'/site/'], a[href^\x3d'#/site/'], a[href^\x3d'#'], .u_dmStyle_backToHome";null!=e&&(f=Parameters.LinksToAjax,Parameters.LinksToAjax=e);a(Parameters.LinksToAjax).each(function(e){if(null!=a(this).attr("href")&&a(this).attr("href").startsWith("#")&&1<a(this).attr("href").length)a(this).attr("dmGoto",a(this).attr("href").replace("#","")),a(this).removeAttr("href"),a(this).css("cursor",
"pointer"),a(this).css("cursor","hand"),a(this).click(function(e){x.pageScrollTo=a(this).attr("dmGoto");x.scrollTo();null!=e&&e.stopPropagation()});else if(y(a(this).attr("onClick"))&&!n(a(this).attr("href"))&&"_blank"!=a(this).attr("target")){var f=!1;a(this).off("touchstart.navigate").on("touchstart.navigate",function(e){f=!1;l.isUseLayout()&&a.commonComponents.slideRightNav&&a.commonComponents.slideRightNav.onAjaxLinkTouchStart(a(this),e)}).off("touchmove.navigate").on("touchmove.navigate",function(e){f=
!0;l.isUseLayout()&&a.commonComponents.slideRightNav&&a.commonComponents.slideRightNav.onAjaxLinkTouchMove(a(this),e)}).off("click.navigate touchend.navigate").on("click.navigate touchend.navigate",function(e){if(!f){var v=a(this),b=v.attr("href");return B(b,v,e)}})}});null!=f&&(Parameters.LinksToAjax=f,f=null)}}function B(e,f,v){f=f||a("\x3cdiv\x3e\x3c/div\x3e");e=e||f.attr("href");if(Parameters.AllowAjax){if(l.isUseLayout()&&(a.commonComponents.upperFloatingNav&&!a.commonComponents.upperFloatingNav.onAjaxLinkBeforeClick(f,
v)||a.commonComponents.slideRightNav&&!a.commonComponents.slideRightNav.onAjaxLinkBeforeClick(f,v))||"#"==e)return!1;null!=v&&(null!=f.attr("href")&&f.attr("href").startsWith("/site/")||v.stopPropagation(),v.preventDefault());null!=document.cookie&&-1!=document.cookie.indexOf("dm_show_classic")&&(document.location=a("#classic_link").attr("href"));if(n(e))return!0;var A=e.indexOf("#"),c=null;-1!=A&&(c=e.substr(A+1));l.isUseLayout()&&(a.layoutManager.onAjaxLinkClick(f,v),a.layoutDevice.onAjaxLinkClick(f,
v));v=unescape(m(e,"url"));M=P("null"!=v?v:e);null==M||"null"==M.pageUrl?M=new b(e):V&&(M=q(M));null!=c&&(M.pageScrollTo=c);e=M;c=f;v=c.attr("class");var A=c.parent().attr("class"),d=c.parent().parent().attr("class");c.text();null==v?v="":"undefined"==typeof v&&(v="");null==A?A="":"undefined"==typeof A&&(A="");null==d?d="":"undefined"==typeof d&&(d="");c=-1!=v.toLowerCase().indexOf(HOME_CLASS_IDENTIFIER.toLowerCase())||null!=Parameters.HomeLinksClasses&&-1!=v.toLowerCase().indexOf(Parameters.HomeLinksClasses.toLowerCase())?
Enum.LinkType.Home:-1!=v.toLowerCase().indexOf(NAV_CLASS_IDENTIFIER.toLowerCase())||-1!=A.toLowerCase().indexOf(NAV_CLASS_IDENTIFIER.toLowerCase())||-1!=d.toLowerCase().indexOf(NAV_CLASS_IDENTIFIER.toLowerCase())?Enum.LinkType.Nav:Enum.LinkType.Other;e.linkType=c;M.pageAnimation="forward";e=f;(c=e.attr("animationType"))&&""!=c||(c=e.attr("animationtype"));e="backward"==c?"backward":"forward"==c?"forward":"inner"==c?"inner":null;null!=e&&(M.pageAnimation=e);x=M;(1>f.parents("[disableLink]").length||
"false"===f.parents("[disableLink]").attr("disableLink"))&&x.show()}else window.location.href=e}function q(a){var f=new b(a.pageUrl);f.pageUrl=a.pageUrl;f.pageContent=a.pageContent;f.ajaxCallComplete=a.ajaxCallComplete;f.linkType=a.linkType;f.pageUrlIdentifier=a.pageUrlIdentifier;f.pageID=a.pageID;f.pageScrollTo=a.pageScrollTo;f.pageReady=a.pageReady;f.pageAnimation=a.pageAnimation;f.pageAlias=a.pageAlias;return f}function y(a){for(var f=0;f<S.length;f++)if(a==S[f])return!0;return!1}function r(e){a=
Z;e.ajaxCallCompleted=!1;if(null!=Parameters.BeforeAjaxCommand)try{Parameters.BeforeAjaxCommand()}catch(f){ca("DMAjax says: before ajax command threw exception")}var v=e.pageUrl;a.ajax({contentType:"application/json; charset\x3d"+Parameters.Charset,dataType:"json",url:v+(v.contains("?")?"\x26":"?")+"dm_ajaxCall\x3dtrue",timeout:3E4,error:function(e,f,v){f="There was an error connecting to the page";401==e.status&&(f="Incorrect name/password combination");a(t).replaceWith('\x3cdiv style\x3d"background:white;padding:8px"\x3e\x3ch4\x3e'+
f+'.\x3c/h4\x3e\x3cbr/\x3e\x3ca  href\x3d""\x3eTry Again\x3c/a\x3e\x3c/div\x3e');s(!1)},success:function(f,v,c){f.error_message?(a(t).replaceWith('\x3cdiv style\x3d"background:white;padding:8px"\x3e\x3ch4\x3e'+f.error_message+'.\x3c/h4\x3e\x3cbr/\x3e\x3ca  href\x3d""\x3eTry Again\x3c/a\x3e\x3c/div\x3e'),s(!1)):(null!=f.redirect&&(window.location.href=f.redirect),e.ajaxCallComplete=!0,e.pageContent=f,e.pageAlias=f.alias,x=e,s())}})}function E(){var a=0;if(V)a=O.getSize();else{var a=0,f;for(f in O)a++}return a}
function s(e){if(null!=e&&!e)return D=!0,H(!1),!1;if(null!=x&&null!=x.pageContent&&x.pageReady){e="";try{e=x.pageContent.title||a("\x3cdiv\x3e"+x.pageContent.headsection+"\x3c/div\x3e").find("title").text()}catch(f){}a("title").text(e);Parameters.IsSEOFriendlyLinks&&window.history&&window.history.pushState&&!x.dontPushState&&window.history.pushState({},e,x.pageUrl);a("#"+FIRST_CONTAINER_ID).css("display","none");a("#"+FIRST_CONTAINER_ID).html("");H(!1);-1!=x.pageContent.content.indexOf("document.write")&&
(document.write=function(a){},document.writeln=function(a){});if(a("#"+TEMP_CONTAINER_ID).is(":hidden")){a("#"+FIRST_CONTAINER_ID).css("opacity","1");e=a(x.pageContent.content);try{var v=a(t);v.get(0).innerHTML=e.html();v.css("display","block");v.attr("class",e.attr("class"))}catch(A){console.log("DMAJAX: error on parsing server response into client element")}}else v=a("#"+TEMP_CONTAINER_ID),e=a("#"+FIRST_CONTAINER_ID),v.attr("id",FIRST_CONTAINER_ID),e.attr("id",TEMP_CONTAINER_ID),a("#"+FIRST_CONTAINER_ID).css("opacity",
"1"),a("#"+FIRST_CONTAINER_ID).css("left","0px"),a("#"+FIRST_CONTAINER_ID).css("height","auto"),a("#"+FIRST_CONTAINER_ID).css("width","auto"),a("#"+FIRST_CONTAINER_ID).css("position",""),t=a("#"+FIRST_CONTAINER_ID);a("#"+TEMP_CONTAINER_ID).html("");a("#"+TEMP_CONTAINER_ID).css("display","none");a("#"+FIRST_CONTAINER_ID).css("top","0px");a("#"+FIRST_CONTAINER_ID).css("-webkit-transition-duration","0s");a("#"+FIRST_CONTAINER_ID).css("-webkit-transform",Parameters.trans+"(0px, 0px, 0px)");a("#"+TEMP_CONTAINER_ID).css("-webkit-transition-duration",
"0s");a("#"+TEMP_CONTAINER_ID).css("-webkit-transform",Parameters.trans+"(0px, 0px, 0px)");a("#"+FIRST_CONTAINER_ID).css("-moz-transition-duration","0s");a("#"+FIRST_CONTAINER_ID).css("-moz-transform","translate(0px, 0px)");a("#"+TEMP_CONTAINER_ID).css("-moz-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-moz-transform","translate(0px, 0px)");a("#"+FIRST_CONTAINER_ID).css("-o-transition-duration","0s");a("#"+FIRST_CONTAINER_ID).css("-o-transform","translate(0px, 0px)");a("#"+TEMP_CONTAINER_ID).css("-o-transition-duration",
"0s");a("#"+TEMP_CONTAINER_ID).css("-o-transform","translate(0px, 0px)");a("#"+FIRST_CONTAINER_ID).css("-ms-transition-duration","0s");a("#"+FIRST_CONTAINER_ID).css("-ms-transform","translate(0px, 0px)");a("#"+TEMP_CONTAINER_ID).css("-ms-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-ms-transform","translate(0px, 0px)");p();Q(x);if(null!=Parameters.AfterAjaxCommand)try{Parameters.AfterAjaxCommand(x.pageContent)}catch(c){ca("DMAjax says: after ajax command threw exception: "+c.message)}if("function"===
typeof a.afterAjaxCall)try{a.afterAjaxCall(x.pageContent)}catch(b){ca("DMAjax says: after ajax call threw exception: "+b.message)}if("function"===typeof a.DM.userOnPageReadyFn)try{a.DM.userOnPageReadyFn({isAjax:!0})}catch(d){ca("DMAjax says: after ajax user function threw exception: "+d.message)}try{a.DM.events.trigger("afterAjax")}catch(g){ca("DMAjax says: after ajax event threw exception: "+g.message)}l.isUseLayout()&&a.layoutManager.layoutAfterAjax(x.pageContent);"function"==typeof styleImages&&
(styleImages(),l.isUseLayout()||(setTimeout("styleImages()",300),setTimeout("styleImages()",2E3),setTimeout("styleImages()",5E3)));jQuery.DM.updateIOSHeight();try{if(0<a("#shareSection").length||0<a(".dmShare").length)jQuery.getScript("https://platform.twitter.com/widgets.js"),IN.parse(),gapi&&gapi.plusone.go()}catch(w){ca("DMAjax says: after ajax share reload threw exception: "+w.message)}try{var h=jQuery.Event("readystatechange");jQuery("document").trigger(h);h=jQuery.Event("onload");jQuery("window").trigger(h)}catch(q){ca("DMAjax says: after ajax onload threw exception: "+
q.message)}try{l.afterAjaxGeneralInits(),l.afterAjaxGeneralLoadInits()}catch(r){ca("DMAjax says: after ajax after ajax general inits threw exception: "+r.message)}D=!0;E()<Parameters.CacheSize&&fa(x);x.scrollTo();N();if("undefined"!==typeof previewPopUp&&window.parent.$&&window.parent.$.dmx&&window.parent.$.dmfw){var h=window.location.origin,z=Parameters.HomeUrl.trim().replace("?preview\x3dtrue",""),h=h+("/site/"+window.parent.$.dmx.site.alias+"?preview\x3dtrue\x26dm_try_mode\x3dtrue\x26url\x3d"),
h=h+encodeURIComponent(x.pageUrl);window.parent.$.previewExternalLink.setLastEditePage(h);a("#dm").find("a").on("click",function(e){"slideDownNav"!==a(this).closest("div").attr("id")&&""<a(this).attr("href")&&"false"==a(this).attr("dm_dont_rewrite_url")&&-1<a(this).attr("href").indexOf("/site/")+a.dmx.site.alias&&-1==a(this).attr("href").indexOf(z)&&0==a(this).attr("href").indexOf("http")&&window.parent.$.dmfw.previewExternalLink.setBackFromExternal(!0)})}try{null!=_gaq&&dm_gaq_push_url(x.pageUrl)}catch(S){ca("DMAjax says: gaq is not defined on dev mode, ignore this error")}}}
function N(){if(Parameters.AllowAjax&&!Parameters.IsSEOFriendlyLinks&&(!a.browser.msie||8<=a.browser.version||8<=document.documentMode))return a.history.load(x.pageUrlIdentifier),!1}function F(e,f,v,A){a=Z;null==v&&(v=!0);try{getInnerActiveAd("ad","")}catch(c){}A&&a("#"+TEMP_CONTAINER_ID).css("display","block");e.linkType==Enum.LinkType.Home||"backward"==e.pageAnimation?L[Parameters.AnimationTypeBackward].animateIn(e,f):e.linkType==Enum.LinkType.Other||"inner"==e.pageAnimation?L[Parameters.AnimationTypeInner].animateIn(e,
f):e.linkType!=Enum.LinkType.Nav&&"forward"!=e.pageAnimation&&null!=e.pageAnimation||L[Parameters.AnimationTypeForward].animateIn(e,f);v?aa.push(e.pageID):aa.pop()}function Q(e){e.pageContent&&e.pageContent.url_redirect?window.location.href=e.pageContent.url_redirect:(null==e.pageContent&&(e.pageContent=x.pageContent),e.pageContent.css=e.pageContent.css||"",e.pageContent.devicecss=e.pageContent.devicecss||"",!a.browser.msie||11<=a.browser.version?(a("#pagestyle").html(e.pageContent.css),a("#pagestyleDevice").html(e.pageContent.devicecss)):
(a("#pagestyle").get(0).styleSheet.cssText=e.pageContent.css,a("#pagestyleDevice").get(0).styleSheet.cssText=e.pageContent.devicecss),e.pageContent.isHomePage?a(".dm-bfs").addClass("dm-layout-home").removeClass("dm-layout-sec"):a(".dm-bfs").removeClass("dm-layout-home").addClass("dm-layout-sec"),G(e))}function G(e){0<a("#classic_link").length&&(null==e.pageContent.classic_link||"none"==e.pageContent.classic_link||""==e.pageContent.classic_link?a(".classicWrapper").hide():(a(".classicWrapper").show(),
e.pageContent.classic_link&&a("#classic_link").attr("href",e.pageContent.classic_link)))}function C(e){a(e.target).off("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd");x.pageReady=!0;H(!0);J();s()}function J(){0==(ja()&&I!=Enum.AgentType.Android?a("#disabledImageZone:in-viewport"):a("#loading:in-viewport")).length&&a("body, html").scrollTop(0)}function H(e,f,v,A){a=Z;null==v&&(v=!0);if(ja()&&I!=Enum.AgentType.Android){var c=a("#disabledImageZone");0<c.length&&(e?(c.css("position",
"absolute"),c.changeDisplay("block"),c.css("z-index","100000"),null==f?(c.css("left",W()/2+"px"),c.css("top",a(window).height()/2+"px")):(c.css("left",f[0]+"px"),c.css("top",f[1]+"px")),v&&setLoaderSize(10,3),A||X()):c.changeDisplay("none"))}else v=a("#"+FIRST_CONTAINER_ID),A=a("#loading"),e?(0==A.length&&(A=a(document.createElement("div")),A.attr("id","loading"),A.css("background","url('/_dm/s/rt/images/nav-loader.gif') no-repeat center"),A.css("position","absolute"),A.css("z-index","999999"),A.css("width",
"43px"),A.css("height","40px"),v.parent().append(A)),null==f?(A.css("left",v.width()/2-7+"px"),I==Enum.AgentType.Android&&A.css("left",v.width()/2-28+"px"),A.css("top",v.offset().top+20+"px")):(A.css("left",f[0]+"px"),A.css("top",f[1]+"px")),A.changeDisplay("block")):0<A.length&&A.changeDisplay("none")}function X(a){var f=255;try{f=null==a?l.getScreenBrigthness():l.getScreenBrigthness(a)}catch(v){ca("DMAjax says: unable to determine the screen brigthness, check background colors")}125<f?setLoaderColor("rgb(0,17,17)"):
setLoaderColor("rgb(255,238,238)")}function T(a){var f=null;return f=V?JSON.parse(O.getItem(a)):O[a]}function P(a){try{for(var f in O)if(V){if(JSON.parse(O.getItem(f)).pageUrl==a)return JSON.parse(O.getItem(f))}else{var v=O[f].pageUrl;-1!=O[f].pageUrl.indexOf("?url\x3d")&&(v=unescape(m(O[f].pageUrl,"url")));if(v==a)return O[f]}}catch(c){}return null}function fa(a){null==T(a.pageID)&&E()<Parameters.CacheSize&&(V?(-1!=a.pageUrl.indexOf("url\x3d")?a.pageUrl=unescape(m(a.pageUrl,"url")):a.pageUrl=unescape(a.pageUrl),
O.setItem(a.pageID,JSON.stringify(a))):O[a.pageID]=a)}function U(){var a;self.pageYOffset?a=self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?a=document.documentElement.scrollTop:document.body&&(a=document.body.scrollTop);return a}function Y(){return ua("innerHeight","clientHeight")}function W(){return ua("innerWidth","clientWidth")}function va(){var e=a(Parameters.SidebarParams.SidebarSelector);"0"==e.css("opacity")?e.changeDisplay("none"):"1"==e.css("opacity")&&e.changeDisplay("block")}
function ua(e,f){var v=a("body"),c=v.css("width").length;try{if(void 0!==window[e])return window[e];var b=document.documentElement;if(b&&b[f])return b[f];if(document.body[f]!=undefiened)return document.body[f];if("innerWidth"===e||"innerHeight"===e)return v.css("width").substr(0,c-2)}catch(d){if("innerWidth"==e||"innerHeight"==e)return v.css("width").substr(0,c-2)}}function qa(a,f,v){var c;null==v&&(v=!1);if(v)for(v=0;v<f.get(0).attributes.length;v++)try{c=f.get(0).attributes[v],f.removeAttr(c.name)}catch(b){}for(v=
0;v<a.attributes.length;v++)try{c=a.attributes[v],f.attr(c.name,c.value)}catch(d){}}function da(e){var f=a("#dmBackToTop");400>e?(f.css("opacity","0"),f.css("visibility","hidden")):(f.css("opacity","1"),f.css("visibility","visible"))}function ha(e){null==e&&(e=!1);var f=a(Parameters.NavigationAreaParams.NavbarSelector),c=Parameters.NavigationAreaParams.NavbarSize;e&&(f=a(Parameters.NavigationAreaParams.SubNavbarSelector));var b=f;if(0<b.length){var d=f.children("li:has(a):not(.dmHideFromNav)");a.layoutDevice&&
(d=d.filter(":not(.dmHideFromNav-"+a.layoutDevice.type+")"));0==d.length&&(d=f.children("a"));if("inline"==d.eq(0).css("display")&&"block"!=d.eq(0).children(":first-child").css("display"))b.length=0;else{var l=b.find(".dmLess");0==l.length&&(l=b.find("#dmNavigationLessAnchor"));0<l.length&&l.remove();l=b.find(".dmMore");0==l.length&&(l=b.find("#dmNavigationMoreAnchor"));0<l.length&&l.remove();var g=!1,w=0,h=0,p=0,q=0,r=null;d.length>c+1?d.each(function(e){var f=a(this);if(1==this.nodeType)if(0==e&&
("inline-block"==f.css("display")&&f.css("display"),r=f.clone().css("display",f.css("display")).css("float",f.css("float"))),e>=c)q++,ra()?(f.changeDisplay("none"),f.addClass("dmNavCollapsedItem"),f.removeClass("dmNavShownItem"),f.removeClass("p_list_last")):(e==c&&(h=f.offset().top-h-p,w+=p+h),f.changeDisplay("none"),f.addClass("dmNavCollapsedItem"),f.removeClass("dmNavShownItem"),f.css("position","relative"),f.removeClass("p_list_last"),f.hasClass("dmNavigationMoreAnchor")||f.hasClass("dmMore")||
(f.css("position","relative"),f.removeClass("p_list_last"),f.addClass("p_list_item"),f.changeDisplay("none"),ea(b,r)&&(f.css("-webkit-transition",""),f.css("-webkit-transform",""),f.css("opacity","0"),f.css("-moz-transition",""),f.css("-moz-transform",""),f.css("-o-transition",""),f.css("-o-transform",""),f.css("-ms-transition",""),f.css("-ms-transform",""),e=function(){f.changeDisplay("none")},f.bind("webkitTransitionEnd",e),f.bind("transitionend",e),f.bind("oTransitionEnd",e))),ea(b,r)&&f.css("top",
-w+"px"),w+=f.height()+h,f.changeDisplay("none")),g=!0;else if(e==c-1){if(f.addClass("dmNavShownItem"),!a.browser.msie||11<=1*a.browser.version)h=f.offset().top,p=f.height()}else f.addClass("dmNavShownItem")}):d.addClass("dmNavShownItem");g&&(e=sa(f,"more",e),b.filter(":not('#hiddenNavPlaceHolder *')").children("li").eq(-1).after(e));var z=[];b.find("li").each(function(e,f){var c=a(this);"inline-block"==c.css("display")?(z[e]=!0,c.css("display","inline")):z[e]=!1});b.find("li").each(function(e,f){if(z[e]){var c=
a(this);"inline"==c.css("display")&&c.css("display","inline-block")}})}}}function ra(){return!(a.browser.msie&&11>a.browser.version)&&ja()||a.browser.mozilla?!1:!0}function oa(){if(0==a(Parameters.NavigationAreaParams.BlockContainerSelector).length||0<a(Parameters.HomeLinkSelector).length)return!1;var e=a("\x3ca\x3e\x3c/a\x3e");e.addClass("dmHome");e.changeDisplay("block");e.attr("href",l.getHomeLink());e.html("\x3cspan class\x3d'icon'\x3e\x3c/span\x3e\x3cspan id\x3d'DM_HomeText' class\x3d'text'\x3e"+
Parameters.HomeLinkText+"\x3c/span\x3e");a(Parameters.NavigationAreaParams.BlockContainerSelector).prepend(e);p(Parameters.HomeLinkSelector)}function sa(e,f,c){null==c&&(c=!1);var b=a("#navAnchor");0==b.length&&(b=a("\x3ca\x3e\x3c/a\x3e"),b.attr("name","nav"),b.attr("id","navAnchor"),b.insertBefore(e.parent()));b=e.children("li:has(a):not(.dmHideFromNav)");a.layoutDevice&&(b=b.filter(":not(.dmHideFromNav-"+a.layoutDevice.type+")"));var d="li";0==b.length&&(b=e.children("a"),d="a");var l=a([]);if("li"==
d){0==l.length&&(l=a('\x3cli class\x3d"p_list_item p_list_last dmNavShownItem"\x3e\x3c/li\x3e'));var g=b.eq(Parameters.NavigationAreaParams.NavbarSize-1).find("a").attr("className");"undefined"===typeof g&&(g=b.eq(Parameters.NavigationAreaParams.NavbarSize-1).find("a").attr("class"));g=b.eq(Parameters.NavigationAreaParams.NavbarSize-1).css("display");b.eq(Parameters.NavigationAreaParams.NavbarSize-1).height();"more"==f?(d=(d=e.attr("dmmoreicon"))?" fontIcon hasFontIcon "+d:"",l.addClass("dmMore"),
l.removeClass("dmLess"),l.attr("id","dmMore"),l.html('\x3ca onclick\x3d"jQuery.DM.expandNavigation('+c+");$.DM.afterExpandCollapse();return false;\" href\x3d\"#\" class\x3d'dmUDNavigationItem_dmMore dmMorea dmNavigationMoreAnchor'\x3e\x3cdiv class\x3d'navIconBg'\x3e\x3cdiv class\x3d'navIcon "+d+"'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d'dmMoreNavText' class\x3d'navText'\x3e"+Parameters.NavigationAreaParams.MoreButtonText+"\x3c/div\x3e\x3cdiv class\x3d'navArrowBg'\x3e\x3cdiv class\x3d'navArrow'\x3e\x3c/div\x3e\x3cdiv class\x3d'navArrowBottom'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/a\x3e")):
"less"==f&&(d=(d=e.attr("dmlessicon"))?" fontIcon hasFontIcon "+d:"",l.addClass("dmLess"),l.removeClass("dmMore"),l.attr("id","dmLess"),l.html("\x3ca id\x3d'dmLess' onclick\x3d\"jQuery.DM.collapseNavigation("+c+");$.DM.afterExpandCollapse();return false;\" href\x3d\"#\" class\x3d'dmUDNavigationItem_dmLess dmLessa dmNavigationLessAnchor'\x3e\x3cdiv class\x3d'navIconBg'\x3e\x3cdiv class\x3d'navIcon "+d+"'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d'dmLessNavText' class\x3d'navText'\x3e"+Parameters.NavigationAreaParams.LessButtonText+
"\x3c/div\x3e\x3cdiv class\x3d'navArrowBg'\x3e\x3cdiv class\x3d'navArrow'\x3e\x3c/div\x3e\x3cdiv class\x3d'navArrowBottom'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/a\x3e"))}else"a"==d&&(0==l.length&&(l=a('\x3ca class\x3d"p_list_item p_list_last"\x3e\x3c/a\x3e')),g=b.eq(Parameters.NavigationAreaParams.NavbarSize-1).attr("className"),"undefined"===typeof g&&(g=b.eq(Parameters.NavigationAreaParams.NavbarSize-1).attr("class")),g=b.eq(Parameters.NavigationAreaParams.NavbarSize-1).css("display"),b.eq(Parameters.NavigationAreaParams.NavbarSize-
1).height(),"more"==f?(l.attr("id","dmMore"),l.addClass("dmNavigationMoreAnchor"),l.addClass("dmMore"),l.removeClass("dmLess"),l.unbind("click").click(function(a){jQuery.DM.expandNavigation(c)}),l.text(Parameters.NavigationAreaParams.MoreButtonText)):"less"==f&&(l.attr("id","dmLess"),l.addClass("dmNavigationLessAnchor"),l.addClass("dmLess"),l.removeClass("dmMore"),l.unbind("click").click(function(a){jQuery.DM.collapseNavigation(c)}),l.text(Parameters.NavigationAreaParams.LessButtonText)),l.css("cursor",
"pointer"));ea(e,b.eq(0))&&l.css("position","relative");l.changeDisplay(g);"more"==f&&ea(e,b.eq(0))&&l.css("opacity","1");"less"==f&&ea(e,b.eq(0))&&l.css("opacity","0");return l}function ea(a,f){return ja()&&f.css("display")&&-1==f.css("display").indexOf("inline")&&a.css("display")&&-1==a.css("display").indexOf("inline")&&-1==f.css("display").indexOf("table")&&("none"==f.css("float")||""==f.css("float"))?!0:!1}function ja(){return a.browser.chrome||a.browser.safari||a.browser.mozilla||a.browser.opera||
a.browser.msie&&9<a.browser.version?!0:!1}function ca(){if(0<arguments.length)return 1<arguments.length&&Array.prototype.join.call(arguments," "),!0}function pa(a,f){if(!a.startsWith("PhotoSwipe")&&(null==x||a!=x.pageID&&x.pageUrl&&"null"!=x.pageUrl&&x.pageUrl!=Parameters.HomeUrl&&x.pageUrl!=l.getHomeLink())&&(null==M||M.pageReady))if(M=T(a),null!=M)M=q(M),null!=M.pageContent&&(M.equals(x)||(M.pageAnimation="backward"),M.show());else if(f)if(Parameters.AllowAjax){var c=new b(f);c.dontPushState=!0;
c.show()}else window.location.href=f;else M=T(R),null!=M&&(M=q(M),M.pageAnimation="backward",M.show())}function na(e){null==e&&(e=!1);var f=[0,0];if(e||jQuery.DM.isBodyScrollable())"undefined"!=typeof window.pageYOffset?f=[window.pageXOffset,window.pageYOffset]:"undefined"!=typeof document.documentElement.scrollTop&&0<document.documentElement.scrollTop?f=[document.documentElement.scrollLeft,document.documentElement.scrollTop]:"undefined"!=typeof document.body.scrollTop&&(f=[document.body.scrollLeft,
document.body.scrollTop]);else try{f=a.layoutManager&&a.layoutManager.isNee()||!1==a.layoutDevice.components.iscrollBody.isUseIscroll?[jQuery.layoutManager.getLayoutElement().iscrollBody.element.scrollLeft(),jQuery.layoutManager.getLayoutElement().iscrollBody.element.scrollTop()]:[Math.abs(jQuery.layoutManager.getLayoutElement().iscrollBody.iscrollObject.x),Math.abs(jQuery.layoutManager.getLayoutElement().iscrollBody.iscrollObject.y)]}catch(c){f=[0,0]}return f}function la(){Parameters.AllowAjax&&
(a.history.init(pa),N())}b.prototype.equals=function(a){return this.pageUrl==a.pageUrl};b.prototype.render=function(){H(!0);r(this,!1)};b.prototype.show=function(e){if(null!=x)if(null==e&&(e=!0),D=!1,x=this,null!=ka&&(document.write=ka),null==this.pageContent)a("#"+TEMP_CONTAINER_ID).html(""),a("#"+TEMP_CONTAINER_ID).css("display","none"),r(this),F(this,!0,e,!1);else{var f=a(this.pageContent.content);a("#"+TEMP_CONTAINER_ID).attr("class",f.attr("class"));a("#"+TEMP_CONTAINER_ID).html(f.html());a("#"+
TEMP_CONTAINER_ID).css("display","none");f=0;if(l.isUseLayout()){var f=f+a.layoutDevice.getTopFixedElementsOffset(),c=a(".freeHeader");0<c.length&&(f+=c.outerHeight());a("#"+TEMP_CONTAINER_ID).offset({top:f})}else a("#"+FIRST_CONTAINER_ID).offset();a("#"+TEMP_CONTAINER_ID).width(a(t).width());a("#"+TEMP_CONTAINER_ID).height(a(window).height());a("#"+TEMP_CONTAINER_ID).css("position","absolute");F(this,!1,e,!0)}};b.prototype.scrollTo=function(){if(null!=this.pageScrollTo&&0<this.pageScrollTo.length){var e=
a("#"+this.pageScrollTo);0==e.length&&(e=a("a[name\x3d"+this.pageScrollTo+"]"));a.DM.scrollPreviewToElement(e)}};var t=null,K=null,x=null,M=null,Z=a,D=!1,O={},aa=[],V=!1,wa="/site/wrap /site/classic fw_comments_page /profile/messages/compose /profile/messages/compose /site/sms /site/emailShare apps%2Fauth%2Fsignup /_dm/rt".split(" "),w=["/_dm/rt","/site/classic"],S=[null,"","return true;","return true"],L=[];L[Enum.AnimationType.None]=new function(){this.animateIn=function(e,f){a=Z;x.pageReady=!0;
H(f);J();s()}};L[Enum.AnimationType.SlideLeft]=new function(){this.animateIn=function(e){a=Z;e=a(K);a(t).css("opacity","1");a("#"+TEMP_CONTAINER_ID).css("opacity","1");a("#"+TEMP_CONTAINER_ID).css("-webkit-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-moz-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-o-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-ms-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-webkit-transform","translate3d("+e.outerWidth()+"px, 0, 0)");
a("#"+TEMP_CONTAINER_ID).css("-moz-transform","translate3d("+e.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-o-transform","translate3d("+e.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-ms-transform","translate3d("+e.outerWidth()+"px, 0, 0)");a(t).css("-webkit-transition-duration","0.4s");a(t).css("-webkit-transform","translate3d("+-e.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-webkit-transition-duration","0.4s");a("#"+TEMP_CONTAINER_ID).css("-webkit-transform","translate3d(0, 0, 0)");
a(t).css("-moz-transition-duration","0.4s");a(t).css("-moz-transform","translate("+-e.outerWidth()+"px, 0)");a("#"+TEMP_CONTAINER_ID).css("-moz-transition-duration","0.4s");a("#"+TEMP_CONTAINER_ID).css("-moz-transform","translate(0, 0)");a(t).css("-o-transition-duration","0.4s");a(t).css("-o-transform","translate("+-e.outerWidth()+"px, 0px)");a("#"+TEMP_CONTAINER_ID).css("-o-transition-duration","0.4s");a("#"+TEMP_CONTAINER_ID).css("-o-transform","translate(0px, 0px)");a(t).css("-ms-transition-duration",
"0.4s");a(t).css("-ms-transform","translate3d("+-e.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-ms-transition-duration","0.4s");a("#"+TEMP_CONTAINER_ID).css("-ms-transform","translate3d(0, 0, 0)");a(t).unbind("webkitTransitionEnd").one("webkitTransitionEnd",C);a(t).unbind("transitionend").one("transitionend",C);a(t).unbind("oTransitionEnd").one("oTransitionEnd",C)}};L[Enum.AnimationType.SlideRight]=new function(){this.animateIn=function(e){a=Z;e=a(K);a(t).css("opacity","1");a("#"+TEMP_CONTAINER_ID).css("opacity",
"1");a("#"+TEMP_CONTAINER_ID).css("-webkit-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-moz-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-o-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-ms-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-webkit-transform","translate3d("+-e.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-moz-transform","translate3d("+-e.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-o-transform","translate3d("+-e.outerWidth()+
"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-ms-transform","translate3d("+-e.outerWidth()+"px, 0, 0)");a(t).css("-webkit-transition-duration","0.4s");a(t).css("-webkit-transform","translate3d("+e.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-webkit-transition-duration","0.4s");a("#"+TEMP_CONTAINER_ID).css("-webkit-transform","translate3d(0, 0, 0)");a(t).css("-moz-transition-duration","0.4s");a(t).css("-moz-transform","translate("+e.outerWidth()+"px, 0)");a("#"+TEMP_CONTAINER_ID).css("-moz-transition-duration",
"0.4s");a("#"+TEMP_CONTAINER_ID).css("-moz-transform","translate(0, 0)");a(t).css("-o-transition-duration","0.4s");a(t).css("-o-transform","translate("+e.outerWidth()+"px, 0px)");a("#"+TEMP_CONTAINER_ID).css("-o-transition-duration","0.4s");a("#"+TEMP_CONTAINER_ID).css("-o-transform","translate(0px, 0px)");a(t).css("-ms-transition-duration","0.4s");a(t).css("-ms-transform","translate3d("+e.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-ms-transition-duration","0.4s");a("#"+TEMP_CONTAINER_ID).css("-ms-transform",
"translate3d(0px, 0, 0)");a(t).unbind("webkitTransitionEnd").one("webkitTransitionEnd",C);a(t).unbind("transitionend").one("transitionend",C);a(t).unbind("oTransitionEnd").one("oTransitionEnd",C)}};L[Enum.AnimationType.Rotate]=new function(){this.animateIn=function(e){a=Z;a(t).css("opacity","1");a("#"+TEMP_CONTAINER_ID).css("opacity","0");a("#"+TEMP_CONTAINER_ID).css("-webkit-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-moz-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-o-transition-duration",
"0s");a("#"+TEMP_CONTAINER_ID).css("-ms-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-webkit-transform","translate3d(0, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-moz-transform","translate3d(0, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-o-transform","translate3d(0, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-ms-transform","translate3d(0, 0, 0)");a(t).css("-webkit-transform-style","preserve-3d");a(t).css("-webkit-transition-duration","0.4s");a(t).css("-webkit-transform","rotate3d(0,1,0,180deg)");a(t).css("-moz-transform-style",
"preserve-3d");a(t).css("-moz-transition-duration","0.4s");a(t).css("-moz-transform","rotate(180deg)");a(t).css("-o-transform-style","preserve-3d");a(t).css("-o-transition-duration","0.4s");a(t).css("-o-transform","rotate(180deg)");a(t).css("-ms-transform-style","preserve-3d");a(t).css("-ms-transition-duration","0.4s");a(t).css("-ms-transform","rotate3d(0,1,0,180deg)");a(t).css("opacity","0");a(t).unbind("webkitTransitionEnd").one("webkitTransitionEnd",C);a(t).unbind("transitionend").one("transitionend",
C);a(t).unbind("oTransitionEnd").one("oTransitionEnd",C)}};L[Enum.AnimationType.Fade]=new function(){this.animateIn=function(e){function f(e){a("#"+TEMP_CONTAINER_ID).css("opacity","1");C(e)}a=Z;e=a("#"+TEMP_CONTAINER_ID);a(t).css("opacity","1");e.css("opacity","0");e.css("-webkit-transition-duration","0s");e.css("-moz-transition-duration","0s");e.css("-o-transition-duration","0s");e.css("-ms-transition-duration","0s");e.css("-webkit-transform",Parameters.trans+"(0, 0, 0)");e.css("-moz-transform",
"translate3d(0, 0, 0)");e.css("-o-transform","translate3d(0, 0, 0)");e.css("-ms-transform","translate3d(0, 0, 0)");a(t).css("-webkit-transition-duration","0.4s");a(t).css("-webkit-transform",Parameters.trans+"(0, 0, 0)");e.css("-webkit-transition-duration","0.4s");e.css("-webkit-transform",Parameters.trans+"(0, 0, 0)");a(t).css("-moz-transition-duration","0.4s");a(t).css("-moz-transform","translate(0, 0)");e.css("-moz-transition-duration","0.4s");e.css("-moz-transform","translate(0, 0)");a(t).css("-o-transition-duration",
"0.4s");a(t).css("-o-transform","translate(0px, 0px)");e.css("-o-transition-duration","0.4s");e.css("-o-transform","translate(0px, 0px)");a(t).css("-ms-transition-duration","0.4s");a(t).css("-ms-transform","translate3d(0, 0, 0)");e.css("-ms-transition-duration","0.4s");e.css("-ms-transform","translate3d(0, 0, 0)");a(t).css("opacity","0");a(t).unbind("webkitTransitionEnd").one("webkitTransitionEnd",f);a(t).unbind("transitionend").one("transitionend",f);a(t).unbind("oTransitionEnd").one("oTransitionEnd",
f)}};var R="0000",I=Enum.AgentType.Other,l={},ka=null;a.extend({DM:l});try{Object.defineProperty(l,"events",{get:function(){return a("body")}})}catch(ma){l.events=a("body")}l.setParameters=function(){Parameters.AllowAjax?u():z()};l.enableAnimations=function(){Parameters.AnimationTypeForward=Enum.AnimationType.Fade;Parameters.AnimationTypeBackward=Enum.AnimationType.Fade;Parameters.AnimationTypeInner=Enum.AnimationType.Fade};l.disableAnimations=function(){Parameters.AnimationTypeForward=Enum.AnimationType.None;
Parameters.AnimationTypeBackward=Enum.AnimationType.None;Parameters.AnimationTypeInner=Enum.AnimationType.None};l.updateWidth=function(){var e=a(window).width();a("body").css("min-width",e);l.isUseLayout()&&a("#"+TRANS_CONTAINER_ID).width(e)};l.updateIOSHeight=function(e,f){e=e||a(window).height();f=f||a(window).width();jQuery("#iOSWrapper").css("height",e);a("body").css("min-width",f);"undefined"!=typeof myScroll&&(setTimeout("myScroll.refresh();",100),setTimeout("myScroll.refresh();",1E3),setTimeout("myScroll.refresh();",
5E3))};l.updateAfterInit=function(){l.updateWidth();l.isUseIscroll()&&a.layoutManager.refreshIscroll()};l.isCurrentHomePage=function(){var a=!0;x&&null!=x.pageContent?a=x.pageContent.isHomePage:x&&(a=x.linkType==Enum.LinkType.Home);return a};l.getHomeLink=function(){var a,f=window.location.toString();a="";var c=m(f,"dm_try_mode"),b=m(f,"dm_package"),f=m(f,"fw_sig_tier");null!=c&&(a+="dm_try_mode\x3d"+c);null!=b?a+="dm_package\x3d"+b:null!=f&&(a+="fw_sig_tier\x3d"+f);0<a.length&&(a="\x26"+a);return Parameters.HomeUrl+
"?url\x3d"+Parameters.NavigationAreaParams.NavbarLiveHomePage+a};l.jumpTo=function(e,f){try{f=f||0,a("body, html").scrollTop(a(e).offset().top+f)}catch(c){}};l.executeAjaxCommand=function(e,f,c){a=Z;a.ajax({url:e,contentType:"application/json",dataType:"json",success:function(a){f(a)},error:function(a,e,f){c(a,e,f);ca("DMAjax says: an external ajax command has returned with failure: "+a.responseText)}})};l.setLoadingOnScreen=function(a,f,c,b){H(a,f,c,b)};l.getPageScrollY=function(){return U()};l.getPageHeight=
function(){return Y()};l.getPageWidth=function(){return W()};l.blackScreen=function(e){var f=a("#"+GALLERY_BLACK_CONTAINER_ID);0<f.length&&(e?(f.changeDisplay("block"),f.height(U()+Y()+100)):f.changeDisplay("none"))};l.initAjaxLinks=function(a){p(a)};l.setCachedPageContent=function(a,f){-1!=a.indexOf("url\x3d")&&(a=unescape(m(a,"url")));var c=P(a);null!=c&&(c.pageContent=f)};l.hasMoreLessButtons=function(){return 0<jQuery(".dmMore").length||0<jQuery(".dmLess").length};l.assignLoaderColor=function(a){X(a)};
l.backToMenuButtonWasClicked=function(e){a("#expandableSubDiv").toggle(e);a("#expandableMainDiv").toggle(!e);a("#expandableNavigationContainer").parent().attr("movedToMain",e?"":"true");_afterExpandCollapse()};l.openCloseRSS=function(e){e=a(e).parent();var f=e.attr("_oldHeight");f&&0<f.length?(e.attr("_oldHeight",""),e.attr("style",""),e.find(".dmListItemDescriptionDiv:first").css("max-height",f),e.parent().removeClass("parentOfOpenDescription")):(e.attr("_oldHeight",e.find(".dmListItemDescriptionDiv:first").css("max-height")),
e.attr("style",""),e.find(".dmListItemDescriptionDiv:first").css("max-height","none"),e.parent().addClass("parentOfOpenDescription"));a.DM.afterExpandCollapse()};l.expandableMenuWasClicked=function(e){var f=a("#expandableNavigationContainer"),c=f.parent();e=void 0===e?!f.hasClass("expandableMenuOpen"):e;f.unbind("webkitTransitionEnd");f.unbind("transitionend");f.unbind("oTransitionEnd");var b=a("#"+GALLERY_BLACK_CONTAINER_ID);0==b.length&&(b=a('\x3cdiv ID\x3d"'+GALLERY_BLACK_CONTAINER_ID+'"\x3e\x3c/div\x3e'),
b.css("position","absolute"),b.changeDisplay("none"),b.css("overflow","hidden"),b.css("left","0px").css("top","0px"),b.css("background-color","black"),b.css("opacity","0.5"),b.css("z-index","99999"),b.changeDisplay("none"),b.css("width",a(window).width()+"px").css("height","100%"),b.attr("class","dmNoMargin"),a("#dmFirstContainer").append(b).css("position","relative"),b.unbind("click").click(function(){jQuery.DM.expandableMenuWasClicked()}),a(window).unbind("resize.expand").bind("resize.expand",function(){f.css("width",
a(window).width()+"px");b.css("width",a(window).width()+"px")}));e?(f.show(),b.changeDisplay("block"),b.height("height","100%"),f.css("width",a(window).width()+"px"),a(".dmInner").css("background-color"),c.css("z-index","999999998"),c.css("position","relative"),f.addClass("expandableMenuOpen"),f.removeClass("expandableMenuClose"),c.addClass("expandableParentMenuOpen"),c.removeClass("expandableParentMenuClose")):(f.addClass("expandableMenuClose"),f.removeClass("expandableMenuOpen"),c.addClass("expandableParentMenuClose"),
c.removeClass("expandableParentMenuOpen"),c.attr("movedToMain")&&(a("#expandableSubDiv").show(),a("#expandableMainDiv").hide(),c.attr("movedToMain","")),b.changeDisplay("none"),setTimeout(function(){f.css("width","");f.hide()},0));a.DM.afterExpandCollapse()};l.loadTwitterWidget=function(a){l.initTwitterFeedInternal({},[a])};l.loadImageSlider=function(a,f){f=f||{};l.initImageSliderInternal([a],!1,f)};l.afterDropPositionFoundHook=function(){l.isUseLayout()&&a.layoutManager.afterDropPositionFoundHook()};
l.afterExpandCollapse=function(){jQuery.DM.isUseLayout()&&(a.layoutManager.cssCalculations(),l.isUseIscroll()&&a.layoutManager.refreshIscroll());afterExpCol&&afterExpCol()};var ga=function(){for(var a=3,f=document.createElement("div"),c=f.getElementsByTagName("i");f.innerHTML="\x3c!--[if gt IE "+ ++a+"]\x3e\x3ci\x3e\x3c/i\x3e\x3c![endif]--\x3e",c[0];);return 4<a?a:void 0}(),ia=function(){var e=a("#"+GALLERY_BLACK_CONTAINER_ID),f=a("#"+GALLERY_CONTAINER_ID_IMG),c=a("#"+GALLERY_CONTAINER_ID);if(0<c.length&&
"block"==e.css("display")){e.width(a(document).width());e.height(U()+Y()+100);var e=null,e=0!=window.orientation?0.75:0.85,b=f.data("originalWidth"),d=f.data("originalHeight"),l=Math.min(W()/document.documentElement.clientWidth,Math.min(Y()/d,W()/b)),l=l*e;f.width(Math.round(b*l));f.height(Math.round(d*l));c.css({top:1*U()+(Y()-1*f.height())/2-8+"px",left:Math.round((W()-f.width())/2)+"px"}).width(Math.round(f.width()))}};l.ajaxNavigateToLink=function(a,f,c){B(a,f,c)};l.ajaxNavigateToLinkOnEvent=
function(e){B(a(this).attr("href"),a(this),e)};l.isAjaxLink=function(e){return a(e).is(Parameters.LinksToAjax)&&!n(e.attr("href"))?!0:!1};l.getCacheSize=function(){return E()};l.getQueryParam=function(a,f){return m(a,f)};l.isUseLayout=function(){return null!=a.layoutManager};l.isUseIscroll=function(){return l.isUseLayout()&&null==a.layoutDevice.components.iscrollBody?!1:l.isUseLayout()&&a.layoutDevice.components.iscrollBody.isUseIscroll};l.isBodyScrollable=function(){return l.isUseLayout()?a.commonComponents.slideRightNav&&
a.commonComponents.slideRightNav.bambooObject?!1:null==a.layoutDevice.components.iscrollBody?!0:a.layoutDevice.components.iscrollBody.isBodyScrollable:!0};l.showPrevPageFromCache=function(){var a;try{var f=null,c=null;1<aa.length&&(c=aa[aa.length-2]);a=f=V?q(JSON.parse(O.getItem(c))):O[c]}catch(b){a=null}null!=a&&(a.pageAnimation="backward",a.show(!1))};l.needToShowBackToHome=function(){Parameters.AllowAjax=Parameters.AllowAjax&&!a.DM.getQueryParam(window.location.href,"nee");if(Parameters.AllowAjax){var e=
1<aa.length;x&&x.pageContent&&x.pageContent.isHomePage&&(e=!1);return e}return!Parameters.IsCurrentHomePage};l.setUserOnPageReady=function(e){a.DM.userOnPageReadyFn=e;"function"!==typeof a.DM.userOnPageReadyFn||a.DM.setUserOnReadyFn||(a(function(){"function"===typeof a.DM.userOnPageReadyFn&&a.DM.userOnPageReadyFn({isAjax:!1})}),a.DM.setUserOnReadyFn=!0)};l.restoreDefaultNavigationStyles=function(){var e=a(Parameters.NavigationAreaParams.NavbarSelector);if(0<e.length){var f=e.children("li:has(a):not(.dmHideFromNav)");
a.layoutDevice&&(f=f.filter(":not(.dmHideFromNav-"+a.layoutDevice.type+")"));0==f.length&&(f=e.children("a"));f.each(function(e){e=a(this);1==this.nodeType&&(e.css("position",""),e.css("top",""),e.changeDisplay(""),e.css("opacity",""),e.css("-webkit-transition",""),e.css("-webkit-transform",""),e.css("-moz-transition",""),e.css("-moz-transform",""),e.css("-o-transition",""),e.css("-o-transform",""),e.css("-ms-transition",""),e.css("-ms-transform",""),e.unbind("webkitTransitionEnd"),e.unbind("transitionend"),
e.unbind("oTransitionEnd"))})}};l.loadExternalScriptsAsync=function(){h("/_dm/s/rt/scripts/jquery-viewport-plugin.js",null,!1);h("/_dm/s/rt/scripts/sha.js",null,!1);var a=null;Parameters.WebsiteGenerator==Enum.WebPlatformType.Blogs&&(a=initBlogs);h("/_dm/s/rt/scripts/jquery.touchSwipe-1.2.4.js",a,!1);h("/_dm/s/rt/scripts/jquery-history.js",la,!1)};l.loadExternalScriptAsync=function(a,f,c){h(a,f,c)};l.loadExternalScriptSync=function(e,f,c){a.ajaxSetup({async:!1});l.loadExternalScriptAsync(e,f,c);a.ajaxSetup({async:!0})};
l.initNavbar=function(e){null==e&&(e=!1);if(!D||e){e=a(Parameters.NavigationAreaParams.NavbarSelector);var f=a(".newNavigationElementPlaceHolder");isNewNav=!1;0<f.length&&(Parameters.NavigationAreaParams.NavbarSelector=".newNavigationElementPlaceHolder #dmNav",isNewNav=!0);isNewNav?ha():0<e.length?x.linkType==Enum.LinkType.Home||null!=x.pageContent&&void 0!=typeof x.pageContent.isHomePage&&x.pageContent.isHomePage||null==x.pageContent&&l.isCurrentHomePage()?(e.changeDisplay("block",!0),ha(),l.initSubNavbar()):
Parameters.NavigationAreaParams.ShowBackToHomeOnInnerPages&&null!=x.pageContent&&x.pageContent.alias==Parameters.DefaultPageAlias&&!isNewNav?(e.css("cssText","display: none !important"),oa(),l.initSubNavbar(),a(".dm_subMenu").each(function(e){a(this).changeDisplay("block",!0)})):null!=x.pageContent||l.isCurrentHomePage()?(e.changeDisplay("block",!0),ha()):(e.changeDisplay("none"),oa(),l.initSubNavbar(),a(".dm_subMenu").each(function(e){a(this).changeDisplay("block",!0)})):isNewNav||x.linkType==Enum.LinkType.Home||
void 0!=typeof x.pageContent.isHomePage&&x.pageContent.isHomePage||!Parameters.NavigationAreaParams.ShowBackToHomeOnInnerPages||!(0<a("#dmPostBackToMain").length||x.pageContent.alias==Parameters.DefaultPageAlias)||(oa(),l.initSubNavbar());l.isUseLayout()&&a.layoutManager.afterInitNav()}};l.initListWidget=function(){function e(e){var f=e.parents(".dmPrettyList"),c=e.find("a.biglink").attr("href")||"",b=a("\x3cimg class\x3d'close' src\x3d'/_dm/s/rt/images/pop up_x.png' /\x3e").on("click",function(){a(this).parents("div.contentPopup").remove()}),
d=a(e.find("a.biglink").clone()).html(e.find("span.buttonText").clone());e=e.find("p.listText").clone();c=a("\x3cdiv class\x3d'contentPopup' /\x3e").append(e.append(d.attr("href",c),b));b=a("div.contentPopup");0<b.length&&b.remove();f.append(c);p([f.find(".contentPopup .biglink").get(0)])}var f=a("div.dmPrettyList");if(!f.length)return"No Lists";f.on("click.openText","li.listItem",function(f){isDudaone||"layoutB"!==a(f.delegateTarget).attr("layout")||a.layoutManager._is_nee||(f.preventDefault(),f.stopPropagation(),
e(a(f.currentTarget)))});return"List initialized"};l.insideEditor=function(){try{var e=parent&&parent.jQuery&&parent.jQuery.dmfw,f=!parent.jQuery.onefw&&a("body").hasClass("bodyInsideNee"),c=parent.jQuery.onefw&&!parent.jQuery.onefw.inPreviewMode;return!!e&&(f||c)}catch(b){return!1}};l.showPopUp=function(a,f,c,b){c=c||600;b=b||560;if(a)return window.open(a,f,"toolbar\x3dno, location\x3dno, directories\x3dno, status\x3dno, menubar\x3dno, scrollbars\x3dno, resizable\x3dno, copyhistory\x3dno, width\x3d"+
c+", height\x3d"+b+", top\x3d"+(screen.height/2-b/2)+", left\x3d"+(screen.width/2-c/2))};l.initCouponWidget=function(e){e=e||a(".dmCoupon");if(e.length){l.insideEditor()||window.location.href.indexOf("nee\x3d");for(var f=0;f<e.length;f++){var c=a(e[f]),b=parseInt(c.attr("expdt"));a.browser&&a.browser.chrome||c.find(".dmCouponOfferBorder").hide();0<b&&new Date(b)<new Date&&(c.addClass("expiredCoupon"),c.addClass("displayNoneImportant"));var d=!1;c.on("click",".dmUseCoupon",function(){if(!l.insideEditor()&&
!d){d=!0;var e=a(this).parents(".dmCoupon"),f=e.find(".dmUsePopupWrapper");f.find("#dm").remove();if(0<e.find(".dmCouponImage").length){var c=e.find(".dmCouponImage").attr("src"),b=e.find(".dmCouponImage").width(),g=e.find(".dmCouponImage").height();showCouponPopup(f,c,b,g);d=!1}else html2canvas(f.parents(".dmCoupon").find(".dmCouponDesign"),{proxy:"/proxy",proxyReturnsImg:!0,onrendered:function(a){var e=a.toDataURL();showCouponPopup(f,e,a.width+20,a.height+60);d=!1}});dm_gaq_push_event("CouponWidget",
e.attr("name"),null,Parameters.SiteAlias)}});var b=c.find(".dmShareCoupon"),g=c.find(".dmSharePopupWrapper");b.click(function(){l.insideEditor()||dmShowPopup(g,a(this).html()+":")});g.find("a").click(function(a){if(l.insideEditor())return!1})}}};l.initExternalAppButtons=function(e){(e&&e.is(".dmExternalAppButton")?a(e):a(".dmExternalAppButton")).each(function(){var e=a(this);e.attr("data-name");var c=e.attr("data-provider"),b=e.attr("data-src"),d=parseInt(e.attr("data-inith")||"500")||500;if(b){var g=
a('\x3cdiv\x3e\x3cdiv class\x3d"popupData"\x3e\x3ciframe seamless src\x3d"'+b+'" style\x3d"margin:auto;width:900px;height:'+d+'px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e');e.off("click.openPopup").on("click.openPopup",function(){l.insideEditor()||dmShowPopup(g,"","noTitle externalAppPopup"+c,940,d+50)})}})};l.initClickToCallWidget=function(){a("body").off("mousedown.voipReplacement").on("mousedown.voipReplacement",".dmCall.voipReplacement",function(e){e=a.layoutDevice?a.layoutDevice.type:"mobile";
if("mobile"==e)return-1==window.location.href.indexOf("nee\x3d");var f=a(this),c=f.find(".phoneNumHolder"),b=f.attr("phone");c.length||(f.append('\x3cspan class\x3d"text phoneNumHolder"\x3e\x3c/span\x3e'),c=f.find(".phoneNumHolder"),(e="desktop")&&a(this).attr("href","javascript:;"));c.html(b);b&&(c.show(),setTimeout(function(){f.toggleClass("revealPhoneNum")},100),a(".phoneNumHolder").bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){f.hasClass("revealPhoneNum")?
a(this).show():a(this).hide()}))})};l.initSubNavbar=function(){0<a(Parameters.NavigationAreaParams.SubNavbarSelector).length&&ha(!0)};l.hangEventsOnMoreLess=function(a){a&&(afterExpCol=a)};l.expandNavigation=function(e){null==e&&(e=!1);var f=a(Parameters.NavigationAreaParams.NavbarSelector),c=Parameters.NavigationAreaParams.NavbarSize;e&&(f=a(Parameters.NavigationAreaParams.SubNavbarSelector));var b=f;if(0<b.length){var d=b.find(".dmMore");0==d.length&&(d=b.find(".dmNavigationMoreAnchor"));if(0<d.length){d.remove();
var l=sa(f,"less",e);b.filter(":not('#hiddenNavPlaceHolder *')").children("li").eq(-1).after(l);var g=0,w=0,h=0,p=0;e=f.children("li:has(a):not(.dmHideFromNav)");a.layoutDevice&&(e=e.filter(":not(.dmHideFromNav-"+a.layoutDevice.type+")"));0==e.length&&(e=f.children("a"));var q=0;e.each(function(e){e=a(this);e.is(":visible")&&(1==this.nodeType&&0==q?(p=e.offset().top,h=e.height()):1==this.nodeType&&1==q&&(p=e.offset().top-p-h),1==this.nodeType&&q>=c&&(g=parseInt(g,10)+parseInt(e.height(),10),g+=p),
q++)});var r=-g+p,z=l.height(),S,n="";e.each(function(e){var f=a(this);f.addClass("dmNavShownItem");0==e&&(S=f.clone().css("display",f.css("display")).css("float",f.css("float")));1==this.nodeType&&e==c-1?(h=f.height(),n=f.css("display")):1==this.nodeType&&e>=c&&(f.hasClass("dmNavigationLessAnchor")||f.hasClass("dmLess")?(g=f.height(),e=w+g+p,w+=g,f.addClass("p_list_item"),f.changeDisplay(n),ea(b,S)&&(ra()||a.browser.opera||a.browser.msie&&11<=1*a.browser.version?l.css("top","0px"):l.css("top",r-
z+"px"),ra()||a.browser.msie&&11<=1*a.browser.version||l.css("top",-e+"px"),f.css("-webkit-transition","-webkit-transform 0.2s linear, opacity 0.4s linear").css("-webkit-transform","translate(0, "+e+"px)").css("-ms-transition","-ms-transform 0.2s linear, opacity 0.4s linear").css("transition","transform 0.2s linear, opacity 0.4s linear").css("opacity","1"),a.browser.msie||f.css("transform","translate(0px, "+e+"px)"),e=function(){f.changeDisplay(n)},f.bind("webkitTransitionEnd",e),f.bind("transitionend",
e),f.bind("oTransitionEnd",e))):(g=f.height(),e=w+h+p,w+=h+p,h=g,f.removeClass("p_list_last"),f.addClass("p_list_item"),f.removeClass("dmNavCollapsedItem"),f.changeDisplay(n),ea(b,S)&&(f.css("-webkit-transition","-webkit-transform 0.2s linear, opacity 0.4s linear").css("-webkit-transform","translate(0, "+e+"px)").css("-ms-transition","-ms-transform 0.2s linear, opacity 0.4s linear").css("transition","transform 0.2s linear, opacity 0.4s linear").css("opacity","1"),"0px"!=f.css("top")&&(!a.browser.msie||
a.browser.msie&&11<=a.browser.version)&&f.css("transform","translate(0px, "+e+"px)"),e=function(){f.changeDisplay(n)},f.bind("webkitTransitionEnd",e),f.bind("transitionend",e),f.bind("oTransitionEnd",e))))});null!=Parameters.AfterMoreLessCommand&&Parameters.AfterMoreLessCommand()}a.browser.msie&&11>a.browser.version?(b.changeDisplay("none",!0),b.changeDisplay("block",!0)):"inline-block"==n&&(b.hide(),b.show());var y=!1;b.find("li").each(function(e,f){var c=a(this);"inline-block"==c.css("display")&&
(y=!0,c.css("display","inline"))});y&&b.find("li").each(function(e,f){a(this).css("display","inline-block")})}};l.fullCollapseNavigation=function(e){ha(e);l.isUseLayout()&&a.layoutManager.afterInitNav()};l.collapseNavigation=function(e){null==e&&(e=!1);var f=a(Parameters.NavigationAreaParams.NavbarSelector),c=Parameters.NavigationAreaParams.NavbarSize;e&&(f=a(Parameters.NavigationAreaParams.SubNavbarSelector));var b=f;if(0<b.length){var d=b.find(".dmLess");0==d.length&&(d=b.find(".dmNavigationLessAnchor"));
var l;if(0<d.length){d.remove();var g=0;e=sa(f,"more",e);b.filter(":not('#hiddenNavPlaceHolder *')").children("li").eq(-1).after(e);e=f.children("li:has(a):not(.dmHideFromNav)");a.layoutDevice&&(e=e.filter(":not(.dmHideFromNav-"+a.layoutDevice.type+")"));0==e.length&&(e=f.children("a"));e.each(function(e){var f=a(this);0==e&&(l=f.clone().css("display",f.css("display")).css("float",f.css("float")));e<=c&&1==this.nodeType&&(g+=f.height());1==this.nodeType&&e>=c?f.hasClass("dmNavigationMoreAnchor")||
f.hasClass("dmMore")||(f.css("position","relative"),f.removeClass("p_list_last"),f.addClass("p_list_item"),f.addClass("dmNavCollapsedItem"),f.removeClass("dmNavShownItem"),f.changeDisplay("none"),ea(b,l)&&(f.css("-webkit-transition",""),f.css("-webkit-transform",""),f.css("opacity","0"),f.css("-moz-transition",""),f.css("-moz-transform",""),f.css("-o-transition",""),f.css("-o-transform",""),f.css("-ms-transition",""),f.css("-ms-transform",""),e=function(){f.changeDisplay("none")},f.bind("webkitTransitionEnd",
e),f.bind("transitionend",e),f.bind("oTransitionEnd",e))):f.addClass("dmNavShownItem")});null!=Parameters.AfterMoreLessCommand&&Parameters.AfterMoreLessCommand()}a.browser.msie&&(b.changeDisplay("none",!0),b.changeDisplay("block",!0))}};l.initTabs=function(){var e=jQuery(".dmtabsheader \x3e div"),f;jQuery(document.body).on("click",".dmtab",function(e){e=a(this);var f=e.parent(),c=f.parent().find(".dmtabscont \x3e div");f.find(".dmtab").removeClass("active");e.addClass("active");c.hide();c.dmCss("display",
"none !important");c.eq(e.index()).show().dmCss("display","block !important");e.is(":in-viewport")||l.jumpTo(jQuery(this),-100);l.isUseIscroll()&&a.layoutManager.refreshIscroll()});f=jQuery(".dmtabscont \x3e div");e.removeClass("active");a(".dmtabsheader").find("\x3e:first-child").addClass("active");f.hide();f.dmCss("display","none !important");a(".dmtabscont").find("\x3e:first-child").show();a(".dmtabscont").find("\x3e:first-child").dmCss("display","block !important");jQuery(".dmtabs.shapeSimpleLeft .dmtabscont \x3e div, .dmtabs.shapeSimpleRight .dmtabscont \x3e div").css("min-height",
function(){return jQuery(this).closest(".dmtabs").find(".dmtabsheader").height()+"px"})};l.initMenusArrows=function(e){e=e||{};var f=jQuery(".dmRestaurantMenu .menuCategory");if(0<f.length){for(var c=null,b=function(a){var e=a.find(".menuCatArrow");e.hasClass("icon-chevron-up")?(a.nextUntil(".menuCategory").not(".menuCategory").css("display","none"),e.removeClass("icon-chevron-up").addClass("icon-chevron-down")):(a.nextUntil(".menuCategory").not(".menuCategory").css("display","list-item"),e.removeClass("icon-chevron-down").addClass("icon-chevron-up"))},
d=function(){var a=e.elem.find("li"),f=e.elem.find("li.menuCategory").find(".menuCatArrow");a.css("display","list-item");f.removeClass("icon-chevron-down").addClass("icon-chevron-up")},l=0;l<f.length;l++){var g=a(f[l]);g.next().hasClass("menuCategory")||0==g.next().length?g.find(".menuCatArrow").addClass("hide"):(g.unbind("click").click(function(e){b(a(this))}),c||(c=g),b(g))}e.isOpenAll?d():c&&b(c)}};l.ajaxExt=function(){a("[ext_ajax_load]").each(function(){var e=a(this).attr("ext_page_id"),f=a(this).attr("dmle_extension"),
c=a(this).attr("ext_el_id"),b=a(this);a.post("/_dm/s/rt/scripts/ajax_ext.jsp",{pageId:e,extId:f,elementId:c,dm_device:a.layoutDevice?a.layoutDevice.type:"mobile"},function(a){b.replaceWith(a)})})};l.initCompanyDescription=function(){jQuery(".dmDescription").length&&(a(".dmDescription").each(function(){var e=a(this).html();if(250<e.length){var f=e.substr(0,250),e=e.substr(249,e.length-250),f=f+'\x3cspan class\x3d"moreellipses"\x3e...\x3c/span\x3e\x3cspan class\x3d"morecontent"\x3e\x3cspan\x3e'+e+'\x3c/span\x3e\x3ca href\x3d"" class\x3d"morelink"\x3e\x26nbsp;\x26nbsp;more\x3c/a\x3e\x3c/span\x3e';
a(this).html(f)}}),a(".morelink").click(function(){a(this).hasClass("less")?(a(this).removeClass("less"),a(this).html("\x26nbsp;\x26nbsp;more")):(a(this).addClass("less"),a(this).html("less"));a(this).parent().prev().toggle();a(this).prev().toggle();l.isUseIscroll()&&a.layoutManager.refreshIscroll();return!1}))};l.initForm=function(){var e=jQuery(".dmform form");if(!e.length)return"No Forms";e.unbind("submit").submit(function(e){var c=a(this),b="dudaConstantContactId"===c.parents(".dmform").attr("dmle_widget");
e.preventDefault();c.closest(".dmform").find(".dmform-error").hide();a(".inputError").removeClass("inputError");var d=!0,g;c.find(".required input:not([type\x3dhidden]), .required textarea").each(function(e,f){g="checkbox"===a(f).attr("type");if(""===a(f).val().trim()||g&&1>a(f).parents(".checkboxwrapper").find("input:checked").length)(g?a(f).parents(".checkboxwrapper"):a(f)).addClass("inputError"),d&&l.jumpTo(f,-20),d=!1});c.find(".required select").each(function(e,f){0==f.selectedIndex&&(a(f).addClass("inputError"),
d=!1)});if(d){dm_gaq_push_event("form","submit");e=c.find("input[type\x3d'submit']").offset().top-100;e=[W()/2,e];l.setLoadingOnScreen(!0,e);var w=0;c.closest(".dmform").find("input, textarea, select").map(function(){var e=a(this),f=e.attr("name");f&&f.startsWith("dmform-")&&(f=w,10>f&&(f="0"+f),e.closest(".dmforminput").find("input[type\x3dhidden]").attr("name","label-dmform-"+f),e.attr("name","dmform-"+f),(!e.is("[type\x3dradio]")&&!e.is("[type\x3dcheckbox]")||e.parent().is(":last-child"))&&w++)});
(e=c.closest(".dmform").attr("id"))||(e=c.closest(".dmform").attr("duda_id"));c.closest(".dmform").find("form").append("\x3cinput type\x3d'hidden' name\x3d'form_id' value\x3d'"+e+"'\x3e");c.closest(".dmform").find("form").append("\x3cinput type\x3d'hidden' name\x3d'form_title' value\x3d'"+c.closest(".dmform").find("h3").text()+"'\x3e");e=a("#dmActionInput").val();b&&(e="/_dm/s/rt/widgets/constantcontact.form.submit.jsp");if(null==e||void 0==e||""==e)e="/_dm/s/rt/widgets/dmform.submit.jsp";a.post(e+
"?alias\x3d"+Parameters.SiteAlias,a(this).serialize(),function(e){if(e=c.closest(".dmform").find(".dmform-success").data("success-page")){if(window.isReseller&&self!==top||window.isWLReseller&&!window.isDudaone||"undefined"!==typeof previewPopUp&&window.parent.$&&window.parent.$.dmx&&window.parent.$.dmfw){e+="?preview\x3dtrue\x26dm_try_mode\x3dtrue";var f=m(window.location.href,"dm_device")||a.layoutDevice.type;f&&""!=f&&(e+="\x26dm_device\x3d"+f)}else window.location.search&&(e+=window.location.search);
location.replace(e)}else c.closest(".dmform-wrapper").hide(),c.closest(".dmform").find(".dmform-success").show(),l.jumpTo(c.closest(".dmform").find(".dmform-success"),-100),l.setLoadingOnScreen(!1),l.isUseIscroll()&&a.layoutManager.refreshIscroll()}).error(function(){c.closest(".dmform").find(".dmform-error").show();l.jumpTo(c.closest(".dmform").find(".dmform-error"),-100);l.setLoadingOnScreen(!1)})}});jQuery(".dmform form .required .radiowrapper").each(function(e,c){var b=a(c);0==b.find(":radio:checked").size()&&
b.find(":radio:first").prop("checked",!0)});jQuery(".dmform form textarea").each(function(e,c){var b=a(c);b.val(b.val().trim())});a(document.body).on("keypress",".inputError",function(){a(this).removeClass("inputError")});e.find(".required select").change(function(){a(this).removeClass("inputError")})};l.addSlidesToImageSlider=function(a,f){var c=jQuery('.flexslider[duda_id\x3d"'+a+'"]'),b=c.data("flexslider");if(void 0===b)c.find("ul.slides").append(f),l.initImageSliderInternal(c.parent());else for(c=
0;c<f.length;c++)b.addSlide(f[c])};l.removeSlideFromImageSlider=function(a,f){jQuery('.flexslider[duda_id\x3d"'+a+'"]').data("flexslider").removeSlide(f)};l.initImageSlider=function(e,f){var c=a.extend({},{delay:0},f),b=c.elem||jQuery(".dmImageSlider");setTimeout(function(){l.initImageSliderInternal(b,e,c)},c.delay)};l.imageSliderFitImages=function(a,f){a.find("li img").imgCover({type:f?"cover":"contain"})};a.fn.destroyImageSlider=function(){var e=a(this),f;return 0<e.length?(f=e.clone(),f.find(".flex-viewport").children().unwrap(),
f.find(".clone, .flex-direction-nav, .flex-control-nav").remove().end().find("*:not(p)").removeAttr("style").removeClass(function(a,e){return(e.match(/\bflex\S+/g)||[]).join(" ")}),f.insertBefore(e),e.remove(),f):e};l.updateImageSlider=function(e,f){var c,b=e.attr("sliderScriptParams"),b=eval("("+b+")");b.animation=b.isFade?"fade":"slide";b.slideshow=b.isAutoPlay;b.pausePlay=!1;f?(c=e.data("flexslider"),c.vars.directionNav=b.directionNav,c.setup(),c.stop(),b.isAutoPlay&&c.play(),b.directionNav?c.directionNav.css("visibility",
"visible"):c.directionNav.css("visibility","hidden")):(c=e.destroyImageSlider(),c.flexslider(b),e=c);l.imageSliderFitImages(e,b.stretch);setTimeout(function(){l.imageSliderFitImages(e,b.stretch)},300);a(document).on("load.imageSlider",function(){l.imageSliderFitImages(e,b.stretch)})};l.initImageSliderInternal=function(e,f,c,b){0<e.length&&h("/_dm/s/rt/scripts/flexSlider/jquery.flexslider.js",function(){for(var c=0;c<e.length;c++){var d=a(e[c]).hasClass("flexslider")?a(e[c]):a(e[c]).find(".flexslider");
l.updateImageSlider(d,f)}b&&b()})};l.initAudioPlayer=function(){0<jQuery(".dmAudioPlayer").length&&h("/_dm/s/rt/scripts/jplayer/jquery.jplayer.min.js",function(){h("/_dm/s/rt/scripts/jplayer/add-on/jplayer.playlist.min.js",function(){var e=jQuery(".dmAudioPlayer");a(document).ready(function(){for(var f=0;f<e.length;f++){var c=a(e[f]).attr("id"),b=a(e[f]).attr("type"),d="#jp_container_"+c,c="#jp_jplayer_"+c,l={};l[b]=a(e[f]).attr("media");l.title=a(e[f]).attr("title");"true"==a(e[f]).attr("dl")&&(l.free=
!0);b={swfPath:"/_dm/s/rt/scripts/jplayer/",supplied:b,wmode:"window",preload:"auto"};void 0!==ga&&(b.solution="flash, html");new jPlayerPlaylist({jPlayer:c,cssSelectorAncestor:d},[l],b)}})},!0)},!0)};l.initGeoLocation=function(){0<jQuery(".dmGeoLocation").length&&-1==window.location.href.indexOf("nee\x3d")&&h("https://maps.googleapis.com/maps/api/js?key\x3dAIzaSyBAwUOqPUB1CU31yDztoZYaUE7sPv4ktEI\x26sensor\x3dfalse\x26callback\x3djQuery.initGoogleMapsWidgets",a.DM.initGeoLocationInternal)};l.initGeoLocationInternal=
function(){function e(c){if(c){a(S).empty().attr("style","");r.hide();n.hide();if(y.showAll){z.fadeIn("fast");var b=new d.google.maps.Map(S,{mapTypeId:d.google.maps.MapTypeId.ROADMAP}),g=new d.google.maps.LatLngBounds,w;for(c=0;c<q.length;c++)w=new d.google.maps.LatLng(q[c].latitude,q[c].longitude),function(c){var l=new d.google.maps.Marker({position:w,title:q[c].title,map:b,clickable:!0});d.google.maps.event.addListener(l,"click",function(){f(q[c].uniqueId);var b=a(".dmGeoViewStateWrapper");a(".dmStState").removeClass("isOff");
b.removeClass("isOff");e(!1)})}(c),g.extend(w);b.fitBounds(g)}else{z.fadeIn("fast");g=new d.google.maps.LatLngBounds;c={zoom:14,center:new d.google.maps.LatLng(y.lat,y.lon),mapTypeId:d.google.maps.MapTypeId.ROADMAP};var p=new d.google.maps.Map(S,c);(function(){var a=new d.google.maps.Marker({position:new d.google.maps.LatLng(y.lat,y.lon),title:y.title,map:p,clickable:!0});d.google.maps.event.addListener(a,"click",function(){h.find(".dmGeoViewStateWrapper .dmStState").removeClass("isOff");n.show();
z.hide();r.hide()});g.extend(new d.google.maps.LatLng(y.lat,y.lon))})()}z.fadeIn("fast")}else z.hide(),y.showAll&&h.find(".dmGeoLocBtn").removeClass("geoDisabledState"),y.showAll?r.fadeIn("fast"):n.fadeIn("fast");l.isUseIscroll()&&a.layoutManager.refreshIscroll()}function f(e){var f;a(".dmGeoStList").text("INFO");var c=jQuery.grep(q,function(a){return a.uniqueId==e})[0];y.showAll=!1;y.lat=c.latitude;y.lon=c.longitude;y.title=c.title;n.find(".dmGeoSVTitle").text(c.title);f=c.phone?c.formattedAddress+
", "+c.phone:c.formattedAddress;n.find(".dmGeoSVAddr").text(f);(c.phone||c.showPhone)&&n.find(".dmGeoSVPhone a").attr("href","tel:"+c.phone);n.find(".dmGeoSVPhone").toggle(c.showPhone);c.url?(f=a(c.url),f.removeAttr("duda_id"),f.removeAttr("id"),f.addClass("dmGeoSVGoToPage"),n.find(".dmGeoSVGoToPage").replaceWith(f)):n.find(".dmGeoSVGoToPage").hide();n.find(".dmGeoSVMoreInfo").text(c.description||"");n.find(".dmGeoSVSeeAll").unbind("click").click(function(){y.showAll=!0;n.hide();r.show();h.find(".dmGeoLocBtn").removeClass("geoDisabledState");
a(".dmGeoStList").text("LIST")})}function c(e,f){for(var b=[],d=0;d<q.length;d++)b.push({latitude:q[d].latitude,longitude:q[d].longitude,id:q[d].uniqueId});for(var l=[],d=0;d<b.length;d++){var g=b[d],w=f-g.longitude,p=e-g.latitude,w=Math.sqrt(w*w+p*p);l[d]=g;l[d].distance=w}l.sort(function(a,e){return a.distance>e.distance?1:-1});b=l[0].id;h.find(".dmGeoLocBtn").addClass("geoDisabledState");r.find('li[geoid\x3d"'+b+'"]').data("mode",a(".dmGeoViewStateWrapper").hasClass("isOff")?"map":"list").click()}
var b,g=jQuery(".dmGeoLocation"),w=g.length,h,p,q,r,z,n,S,y,k,s,P,L,B,R;for(b=0;b<w;b++){h=a(g[b]);p=h.attr("data-editor");p=JSON.parse(Base64.decode(p));q=p.locations;r=h.find(".dmGeoMLocList");z=h.find(".dmGeoMLocMapView");n=h.find(".dmGeoSingleView");S=z.find(".dmGeoMLocMapViewMap")[0];p=h.find(".dmGeoMLocList li");y={};s=k=0;y.showAll=!0;P=h.find(".dmGeoViewStateWrapper");L=h.find(".dmStState");B=h.find(".dmGeoStList");R=h.find(".dmGeoStMap");B.unbind("click").click(function(){L.removeClass("isOff");
P.removeClass("isOff");e(!1)});R.unbind("click").click(function(){L.addClass("isOff");P.addClass("isOff");e(!0)});L.unbind("click").click(function(){a(this).hasClass("isOff")?(L.removeClass("isOff"),P.removeClass("isOff"),e(!1)):(L.addClass("isOff"),P.addClass("isOff"),e(!0));l.isUseIscroll()&&a.layoutManager.refreshIscroll()});for(B=0;B<p.length;B++)a(p[B]).unbind("click").click(function(){f(a(this).attr("geoid"));"map"===a(this).data("mode")?(n.hide(),r.hide(),z.show(),e(!0)):(n.show(),r.hide(),
z.hide(),e(!1));a(this).data("mode","list");a.DM.scrollPreviewToElement(a(this).closest(".dmGeoLocation"),500,null)});a(document.body).on("click",".dmGeoLocBtn",function(a){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){k=a.coords.latitude;s=a.coords.longitude;h.find(".dmGeoViewStateWrapper .dmStState").removeClass("isOff");c(k,s)},function(a){I==Enum.AgentType.Iphone?navigator.userAgent.match(/CriOS/i)?alert("We do not have permission to access your location. Please enable location access to Chrome in 'Settings / Privacy / Location Services'"):
navigator.userAgent.match(/Safari/i)?alert("We do not have permission to access your location. Please enable location access to Safari in 'Settings / Privacy / Location Services'"):alert("We do not have permission to access your location. Please enable access in your settings"):alert("We do not have permission to access your location. Please enable access in your settings")})})}};l.initFacebookScripts=function(){if(0<a("#fb-root").length)if("undefined"!=typeof FB)try{FB.XFBML.parse()}catch(e){}else window.fbAsyncInit=
function(){try{FB.init({status:!0,cookie:!0,xfbml:!0,oauth:!0})}catch(a){}},function(a){var e;a.getElementById("facebook-jssdk")||(e=a.createElement("script"),e.id="facebook-jssdk",e.async=!0,e.src="//connect.facebook.net/en_US/all.js",a.getElementsByTagName("head")[0].appendChild(e))}(document)};l.onIscrollScrolls=function(e){e=na();var f=jQuery.layoutManager.getLayoutElement().iscrollBody.element;da(e[1]);a(f).height();l.isBodyScrollable()||a(f).height()};l.initBackToTop=function(){var e=window,
f;l.isBodyScrollable()||(e=jQuery.layoutManager.getLayoutElement().iscrollBody.element);da(na()[1]);var c=-1!=window.location.href.indexOf("nee\x3d");a(e).off("scroll.btt").on("scroll.btt",function(f){c&&parent.jQuery.deselectEditable&&parent.jQuery.deselectEditable(parent.jQuery.dmfw.editables("back_to_top"));f=na();da(f[1]);a(e).height();l.isBodyScrollable()||a(e).height()});a(".dmBackToTop").off("click.top").on("click.top",function(){f=a(".dmBackToTop");c&&!isDudaone?getEventsFirePolicy()&&parent.jQuery(f).lockElement():
(f.css("opacity","0"),f.css("visibility","hidden"),l.isBodyScrollable()?a.DM.scrollPreviewToElement(a("body"),500,null):a.DM.scrollPreviewToElement(a("#site_content"),500,null))})};l.initDisqusComments=function(){var e=a("#disqus_thread");if(0<e.length){var f=e.attr("shortname"),c=e.attr("disqusurl");if(""==c||null==c)c=a.DM.getCurrentPageUrl(),0<=c.indexOf("#")&&c.substr(0,c.indexOf("#"));e.attr("disqus_identifier");e.attr("disqus_container_id");for(var e=document.getElementsByTagName("span"),c=
0,b;c<e.length;c++)-1!=e[c].className.indexOf("dsq-postid")&&(e[c].parentNode.setAttribute("data-disqus-identifier",e[c].getAttribute("rel")),b=e[c].parentNode.href.split("#",1),b=1==b.length?b[0]:b[1],e[c].parentNode.href=b+"#disqus_thread");""!=f&&null!=f&&(h("http://"+f+".disqus.com/embed.js"),h("http://"+f+".disqus.com/count.js"))}};l.initHoursOfOperation=function(e){0<jQuery(".dmHoursOfOperation").length&&function(){var f=a.getClientTimeZone(),c=parseInt((new Date).getUTCDay())-1;-1==c&&(c=6);
var b={convert12to24:function(a){var e=a.substr(a.length-2).toLowerCase(),f=a.substr(0,a.indexOf(":"));a=a.substring(a.indexOf(":")+1,a.indexOf(" "));"pm"==e&&(f=12!=f?1*f+12:"00"!=a?"0":"24");return f+":"+a},timeToArray:function(a){var e=[];a=a.toLowerCase();a=a.replace("0pm","0 pm");a=a.replace("0am","0 am");a.match(/^(\d{1,2}):(\d{2})(:00)?( )?([apAP][mM])?$/)[4]&&(a=this.convert12to24(a));return e=a.split(":")},getTimeZoneDiff:function(a,e){return a-e},getTargetHour:function(a,e){var f=(new Date).getHours(),
c=a-e;return a>e?f-Math.abs(c):f+Math.abs(c)}},d={targetHour:null,timeZoneDiff:null,isInt:function(a){return 0===a%1},makeVal2Digits:function(a){return 10>parseInt(a)?"0"+a:a},buildTimeString:function(a){var e=(new Date).getMinutes(),f=0;if("object"==typeof a){var f=60*parseFloat("0."+a[1]),c="";this.timeZoneDiff.toString().indexOf("-");f=e+f;59<f?(a[0]=parseInt(a[0])+1,c=f-60):c=f;f=this.makeVal2Digits(a[0]);c=this.makeVal2Digits(c);return f+":"+c}f=this.makeVal2Digits(a);return f+":"+e},getTimeString:function(a,
e){this.timeZoneDiff=e;this.targetHour=a;if(this.isInt(targetHour))return this.buildTimeString(a);var f=a.toString().split(".");return this.buildTimeString(f,e)}};jQuery(".dmHoursOfOperation").each(function(e,l){var g=null,h=null,w=null,p=null,q=p=null,r=null,n=a(l),p=n.attr("display_option");if(2!=p)a:if(p=n.find("div.we-are-open"),r=n.attr("timezone"),""!==r&&(0<=r.indexOf("_")?(r=r.split("_"),w=r[0]):w=r),n.attr("hours_data")&&(g=JSON.parse(decodeURIComponent(escape(window.atob(n.attr("hours_data")))))),
n.attr("holyday_data")&&(h=JSON.parse(decodeURIComponent(escape(window.atob(n.attr("holyday_data")))))),n.attr("banner_closed")&&(q=n.attr("banner_closed")),n=w,w=p,null==g)jQuery(w).html(q).addClass("off");else{p=a.datepicker.formatDate("mm/dd/yy",new Date);for(r=0;r<h.length;r++){var z=h[r];if(z.date==p){if(!0==z.fullDay){jQuery(w).html(q).addClass("off");break a}var y=b.getTargetHour(f,n),y=d.getTimeString(y,b.getTimeZoneDiff()),S=b.convert12to24(z.startTime),z=b.convert12to24(z.endTime);y<S||
y>z?(jQuery(w).html(q).addClass("off"),z=!0):z=!1;if(!0==z)break a}}switch(g[c].dayMode){case "1":h=b.getTargetHour(f,n);h=d.getTimeString(h,b.getTimeZoneDiff());n=b.convert12to24(g[c].startTime);g=b.convert12to24(g[c].endTime);if(h<n||h>g){jQuery(w).html(q).addClass("off");break}break;case "2":h=b.getTargetHour(f,n);h=d.getTimeString(h,b.getTimeZoneDiff());n=b.convert12to24(g[c].splitDay.START_MORNING);p=b.convert12to24(g[c].splitDay.END_MORNING);r=b.convert12to24(g[c].splitDay.START_NOON);g=b.convert12to24(g[c].splitDay.END_NOON);
if(h<n||h>g){jQuery(w).html(q).addClass("off");break}if(h>p&&h<r){jQuery(w).html(q).addClass("off");break}break;case "3":jQuery(w).html(q).addClass("off")}}});"function"==typeof e&&e()}()};l.initDatePicker=function(){function e(e){var c=a(e).attr("lang");"ja"==c||"pt"==c||"es"==c?h("/_dm/s/rt/scripts/datePicker/mobiscroll.lang."+c+".js",function(){f(e,c)}):f(e,"en-US")}function f(e,f){if(a(e).hasClass("dmDatePicker")){var c=a(e).attr("date_format"),b="mmddyyyy"==c?"mm/dd/yyyy":"dd/mm/yyyy";a(e).scroller({preset:"date",
display:"bubble",dateOrder:c,dateFormat:b,lang:f})}else c=a(e).attr("time_format"),b="Hii"==c?"H:ii":"h:ii a",a(e).scroller({preset:"time",display:"bubble",timeFormat:b,timeWheels:c,lang:f})}a.DM.getQueryParam(window.location.href,"nee")||(0<jQuery(".dmDatePicker").length||0<jQuery(".dmTimePicker").length)&&h("/_dm/s/rt/scripts/datePicker/mobiscroll-2.0.3.custom.min.js",function(){for(var f=jQuery(".dmDatePicker"),c=0;c<f.length;c++)e(a(f[c]));f=jQuery(".dmTimePicker");for(c=0;c<f.length;c++)e(a(f[c]))})};
l.initRSS=function(){var e=a(".dmRSSFeed .dmListItemDescriptionDiv");if(!e.length)return"No RSS";e.each(function(){var e=a(this),c=e.height();e.css("max-height","none");e.height()==c?e.parent().find(".rssListReadMore").addClass("dmDisplay_None"):e.parent().find(".rssListReadMore").removeClass("dmDisplay_None");e.css("max-height","")});return"RSS Initialized"};l.initSmartTables=function(){var e=jQuery("table.footable.dmSmartTable");0<e.length&&h("/_dm/s/rt/scripts/footable.0.1.js",function(){for(var f=
0;f<e.length;f++)a(e[f]).footable()})};l.initBlogs=function(){0<a(".dmRssContainer").length&&initBlogs()};l.initPhotoGallery=function(){function e(){function f(e){w.captionAndToolbarHide=!0;w.captionAndToolbarAutoHideDelay=0;return q=a(e).photoSwipe(w)}function c(e,f){var b=f.thumbnailsPerRow*f.rowsToShow,d=e.find("li").length;e.find("li").hide();5==f.thumbnailsPerRow?(b=f.rowsToShow,e.find(".gallery").removeClass("unEvenImages"),setTimeout(function(){for(var f=0;f<b;f++)a(e.find("li")[f]).show()},
0),setTimeout(function(){e.find(".gallery").addClass("unEvenImages")},0)):e.find("li:lt("+b+")").show();d>b?(e.find(".photoGalleryViewAll").show(),e.find(".photogalleryviewall").addClass("photoGalleryViewAll").show()):(e.find(".photoGalleryViewAll").hide(),e.find(".photogalleryviewall").hide());setTimeout(function(){-1!=window.location.href.indexOf("nee\x3d")&&parent.jQuery.dmops.redrawSelection()},0);return{numToShow:b,allLiElem:d}}jQuery(".photoGalleryViewAll").unbind("click").click(function(e){e=
a(this);var f=e.closest(".dmPhotoGallery"),c=f.attr("galleryOptionsParams"),c=eval("("+c+")"),b=c.thumbnailsPerRow*c.rowsToShow,b=b-1;5==c.thumbnailsPerRow&&(b=f.find("li").length-c.rowsToShow);"true"==e.attr("isAll")?(e.attr("isAll","false"),e.html("view less"),f.find("li").show()):(e.attr("isAll","true"),e.html("view all"),f.find("li:gt("+b+")").hide());l.isUseIscroll()&&a.layoutManager.refreshIscroll();if(-1!=window.location.href.indexOf("nee\x3d"))try{parent.jQuery.dmops.redrawSelection()}catch(d){}});
for(var b=jQuery(".dmPhotoGallery"),d=0;d<b.length;d++){var g=a(b[d]),h="dm_fb_gallery"==g.attr("dmle_extension"),w=g.attr("galleryOptionsParams"),w=eval("("+w+")"),w=a.extend({},{enableMouseWheel:!1,enableKeyboard:!1},w);w.imageScaleMethod="fitNoUpscale";w.allowUserZoom=!1;if(0<g.find("li").length){(function(e,f){var c=e.find("li");5==f.thumbnailsPerRow?(e.find(".gallery").addClass("unEvenImages"),a.browser.msie&&8<a.browser.version&&10>a.browser.version&&e.find(".gallery").addClass("ieFixes")):
e.find(".gallery").removeClass("unEvenImages").removeClass("ieFixes");for(var b=0;b<c.length;b++)a(c[b]).css("background-image","url("+a(c[b]).find("img").attr("src")+")")})(g,w);c(g,w);var p=-1!=window.location.href.indexOf("nee\x3d"),q={};if(!p&&!h)q=g.find(".gallery a").photoSwipe(w);else if(h){var n=a(g).find(".dmSocialGalleryHolder"),r=n.parent(".dmFacebookGallery"),h=r.find(".photoGalleryViewAll"),q=g.find(".gallery a").on("click",function(b){if(!p){b.preventDefault();b=a(this).find("img").attr("id");
var d=f(a(this)),l=r.find("h3.socialgalleryheader"),h=a(this).find("p.caption").html();a.ajax({url:"/_dm/s/rt/api/public/rt/getonlinephotos?id\x3d"+b+"\x26platform\x3dfb\x26limit\x3d30"}).done(function(b){function p(){a(this).centerImageWithin(a(".photoGalleryThumbs").eq(0),{stretch:!0})}function q(e){var f=d.cache.images[d.currentIndex].caption,c=z[d.currentIndex].likes;e=a(".ps-uilayer");var c=a("\x3cdiv class\x3d'statusContainer' /\x3e").append(c+" Likes  "),b=a("\x3cdiv class\x3d'caption' /\x3e").append(f),
l=a("\x3ca class\x3d'closeBtn' /\x3e").html("done").on("click",function(){d.hide();a(".uiSocialContainer").html("").remove()}),f=a("\x3cdiv class\x3d'uiSocialContainer' /\x3e");f.append(b,c,l);c=a(".uiSocialContainer");0<c.length&&c.remove();e.html("").after(f.css({opacity:1,"background-color":"transparent"}))}var r=a(g);r.data.albumDisplay=n.html();r.data.title=l.html();n.html("");l.html(h);var z=[];a(b).each(function(e){var f=b[e];e=a("\x3cimg /\x3e").attr({src:f.source,alt:f.caption}).get(0);var c=
a('\x3cdiv class\x3d"statusContainer" /\x3e'),l;l=f.likes.toString();var g=l.length,w=l[0],h=l[1];3<g&&(l=7>g?4===g?w+"."+h+"k":w+""+h+"k":7===g?w+"."+h+"m":w+""+h+"m");g=a('\x3cspan class\x3d"likes" /\x3e').html(l);a(g).appendTo(c);f=a('\x3ca class\x3d"thumb" /\x3e').attr({href:f.source,dm_dont_rewrite_url:"true"}).css("background-image","url("+f.source+")").append(e,c);a('\x3cli class\x3d"photoGalleryThumbs" /\x3e').append(f).appendTo(n);c=d.settings.getImageSource(f[0]);g=d.settings.getImageCaption(e);
e.onload=p;d.cache.images.push(new Code.PhotoSwipe.Image.ImageClass(f,c,g));z.push({likes:l})});d=f(n.find("a"));d.addEventHandler(window.Code.PhotoSwipe.EventTypes.onDisplayImage,function(a){q(a)});c(g,w);r=a("\x3ca /\x3e").attr({"class":"backBtn"}).html("back to albums");1>a(g).find("a.backBtn").length&&a(g).append(r);r.on("click",function(){a(this).remove();l.html(a(g).data.title);var f=a(g).data.albumDisplay;n.html(f);e();c(g,w)})})}});h.off("click.showAll").on("click.showAll",function(){"true"===
a(this).attr("isall")&&a.DM.scrollPreviewToElement(r)})}}}}0<jQuery(".dmPhotoGallery").length&&h("/_dm/s/rt/scripts/photoSwipe/klass.min.js",e,!0)};l.initTwitterFeed=function(e){a(document).ready(function(){setTimeout(function(){e=e||{};var f=jQuery(".dmTwitterFeed:visible:in-viewport"),c=jQuery(".dmTwitterFeed:visible");0<f.size()&&l.initTwitterFeedInternal(e,f);c.length>f.length&&(f=a(window),l.isBodyScrollable()||(f=jQuery.layoutManager.getLayoutElement().iscrollBody.element),f.off("scroll.init touchstart.init").on("scroll.init touchstart.init",
function(f){a(this).off(f);f=jQuery(".dmTwitterFeed:visible");l.initTwitterFeedInternal(e,f)}))},600)})};l.initTwitterFeedInternal=function(e,f){e=e||{};0<f.length&&h("http://platform.twitter.com/widgets.js",function(){function c(){""==a(".twitter-timeline-rendered").contents().find("body").html()?setTimeout(function(){c()},100):(setTimeout(function(){l.updateAfterInit()},1500),a.layoutManager&&a.layoutManager.isNee()&&parent.jQuery.dmops&&setTimeout(function(){parent.jQuery.dmops.redrawSelection()},
1E3))}for(var b=0;b<f.length;b++){var d=a(f[b]),g=d.attr("twitterType"),w=d.attr("twitterUserName"),h=d.attr("numberOfTweets");d.hasClass("dmTwitterNoScroll");var p="true"===d.attr("hideHeaderFooter")?'data-chrome\x3d"nofooter noheader"':"",q=d.attr("lang")?d.attr("lang"):"EN";"Profile"==g?d.html('\x3ca class\x3d"twitter-timeline" '+p+' lang\x3d"'+q+'" data-tweet-limit\x3d"'+h+'" data-screen-name\x3d"'+w+'" href\x3d"https://twitter.com/'+w+'" data-widget-id\x3d"346156976859906048"\x3e\x3c/a\x3e'):
"Search"!=g&&d.html('\x3ca class\x3d"twitter-timeline" '+p+' data-tweet-limit\x3d"'+h+'" data-favorites-screen-name\x3d"'+w+'" href\x3d"https://twitter.com/'+w+'/favorites" data-widget-id\x3d"346156976859906048"\x3e\x3c/a\x3e')}twttr.widgets.load();e&&e.callback&&e.callback();c();a(".dmTwitterFeed").each(function(e){e=a(this);var f=e.find("iframe"),c=a("\x3cdiv\x3e\x3c/div\x3e").addClass("dmTwitterRuntimeWrapper");e.append(c);c.off("click.iframe").on("click.iframe",function(a){var e=f.get(0),e=e.contentDocument?
e.contentDocument:e.contentWindow.document;a=e.elementFromPoint(a.offsetX,a.offsetY);e=e.createEvent("HTMLEvents");e.initEvent("click",!0,!0);a&&a.dispatchEvent&&a.dispatchEvent(e)})})},!0)};l.preloadImages=function(a){a=new Image;a.src="/_dm/s/rt/images/emailShareTitleBg.png";a.src="/_dm/s/rt/images/closeShareWin.png"};l.initPoweredByBanner=function(){var e=function(){if(!l.insideEditor()){var e=a("#topBanner"),c=a(".socialRow .dmSocialHub"),b=a(".socialRow .dmSocialParagraph"),d=0==c.length||"none"===
c.css("display"),g=0==b.length||"none"===b.css("display");if(e.length){var w=10;e.css("top",w);d&&g||(d||a(window).width()-c.offset().left-c.outerWidth()<e.width()+10&&(w=c.offset().top+c.height()+10),g||a(window).width()-b.offset().left-b.outerWidth()<e.width()+10&&(w=Math.max(w,b.offset().top+b.height()+10)),e.css("top",w))}}};a(window).unbind("resize.banner").bind("resize.banner",e);e()};l.initSidebar=function(){var e=a(Parameters.SidebarParams.SidebarSelector),f=a(Parameters.SidebarParams.SidebarArrowSelector),
c=a(Parameters.NavigationAreaParams.BlockContainerSelector),b=a(Parameters.SidebarParams.SidebarSelector),d=a(Parameters.NavigationAreaParams.BlockContainerSelector);0==b.length||2==b.children().size()&&b.children().eq(0).hasClass(Parameters.SidebarParams.SidebarInitialClass)&&b.children().eq(1).hasClass(Parameters.SidebarParams.SidebarClosingClass)||0==d.length?0<f.length&&f.parentNode.removeChild(f):(0==f.length&&(f=a("\x3ca\x3e\x3c/a\x3e"),f.attr("id",Parameters.SidebarParams.SidebarArrowSelector.substr(1)),
f.addClass("fw-sidebar-arrow"),f.attr("tabindex","1"),f.attr("href","javascript: void(0)"),f.unbind("click").click(l.openSideBar),f.css("outline","none"),c.prepend(f)),e.css("opacity","0"),e.changeDisplay("none"),e.css("-webkit-transition","-webkit-transform 0.4s linear, opacity 0.4s linear"),e.css("-moz-transition","-moz-transform 0.4s linear, opacity 0.4s linear"),e.css("-o-transition","-o-transform 0.4s linear, opacity 0.4s linear"),e.css("-ms-transition","-ms-transform 0.4s linear, opacity 0.4s linear"),
e.css("-webkit-transform-origin","100% 0%"),e.css("-moz-transform-origin","100% 0%"),e.css("-o-transform-origin","100% 0%"),e.css("-ms-transform-origin","100% 0%"),e.css("-webkit-transform","scale3d(0,0,0)"),e.css("-moz-transform","scale(0,0)"),e.css("-o-transform","scale(0,0)"),e.css("-ms-transform","scale3d(0,0,0)"),document.getElementById(e.attr("ID")).addEventListener("webkitTransitionEnd",va,!1))};l.openSideBar=function(){var e=a(Parameters.SidebarParams.SidebarSelector),f=a(Parameters.SidebarParams.SidebarArrowSelector);
0<e.length&&0<f.length&&(f.addClass("fw-sidebar-arrow-close"),f.removeClass("fw-sidebar-arrow"),f.unbind("click").click(l.closeSideBar),a(Parameters.NavigationAreaParams.BlockContainerSelector).css("position","relative"),e.css("top","0px"),e.changeDisplay("block"),e.css("opacity","0"),ja()&&e.css("right",0-(a(document).width()-a(window).width())+"px"),e.css("-webkit-transform","scale3d(1,1,1)"),e.css("-moz-transform","scale(1,1)"),e.css("-o-transform","scale(1,1)"),e.css("-ms-transform","scale3d(1,1,1)"),
e.css("opacity","1"),a("#fw-bigcontain embed, #fw-bigcontain object").changeDisplay("none"))};l.closeSideBar=function(){var e=a(Parameters.SidebarParams.SidebarSelector),f=a(Parameters.SidebarParams.SidebarArrowSelector);0<e.length&&0<f.length&&(f.addClass("fw-sidebar-arrow"),f.removeClass("fw-sidebar-arrow-close"),f.click(l.openSideBar),e.css("-webkit-transform","scale3d(0,0,0)"),e.css("-moz-transform","scale(0,0)"),e.css("-o-transform","scale(0,0)"),e.css("-ms-transform","scale3d(0,0,0)"),e.css("opacity",
"0"),(a.browser.msie||a.browser.opera||!ja())&&e.changeDisplay("none"),a("#fw-bigcontain embed, #fw-bigcontain object").changeDisplay("block"))};l.hasSideBar=function(){return 0==a(Parameters.SidebarParams.SidebarArrowSelector).length?!1:!0};l.scrollPreviewToElement=function(e,f,c){f=f||400;if(null!=e&&0!=e.length){var b=e.offset().top,d="body";if(a.browser.mozilla||a.browser.msie)d="body,html";!l.isBodyScrollable()&&l.isUseLayout()&&0<a("#iscrollBody").has(e).length&&(b-=a.layoutDevice.getTopFixedElementsOffset());
if(!l.isBodyScrollable()&&0<a("#iscrollBody").has(e).length)if(l.isUseIscroll())a.layoutManager.getLayoutElement().iscrollBody.iscrollObject.scrollToElement(e.get(0),400);else{d="#iscrollBody";e=[0,0];try{e=[a.layoutManager.getLayoutElement().iscrollBody.element.scrollLeft(),a.layoutManager.getLayoutElement().iscrollBody.element.scrollTop()]}catch(g){e=[0,0]}b+=e[1]}e=a(d).scrollTop();var w=parent.jQuery("#_preview");a.DM.isBodyScrollable()||(w=a("#iscrollBody"));var h=window.getEventsFirePolicy?
window.getEventsFirePolicy():!0;if(e>b||b>e+w.height())window.setEventsFirePolicy&&window.setEventsFirePolicy(!1),a(d).animate({scrollTop:b-36},f,function(){window.setEventsFirePolicy&&window.setEventsFirePolicy(h);c&&c()})}};l.getScrollingPosition=function(a){return na(a)};l.pullContent=function(){a.dmrt.isEditorMode&&window.parent.$.dmx.current.element&&window.parent.$.contentImport.open(window.parent.$.dmx.current.element)};l.afterAjaxGeneralInits=function(){l.initCompanyDescription();l.loadExternalScriptsAsync();
l.initNavbar();l.initSidebar();l.initTabs();l.ajaxExt();l.initForm();l.initListWidget();l.initDatePicker();l.initAudioPlayer();l.initRSS();l.initFacebookScripts();l.initDisqusComments();l.initBlogs();l.initImageSlider();l.initMenusArrows();l.initCouponWidget();l.initExternalAppButtons();l.initClickToCallWidget();a.dmrt.initReady(a.layoutDevice?a.layoutDevice.type:"mobile")};l.afterAjaxGeneralLoadInits=function(){l.initBackToTop();l.initSmartTables();l.initPoweredByBanner();a.dmrt.initLoad(a.layoutDevice?
a.layoutDevice.type:"mobile")};l.displayGalleryModuleImage=function(e){var f=U()+Y()/2-50,f=[W()/2,f];H(!0,f);var c=a("#"+GALLERY_CONTAINER_ID);c.html("");var b=a('\x3cimg ID\x3d"'+GALLERY_CONTAINER_ID_IMG+'" onclick\x3d"jQuery.DM.blackScreen(false); jQuery.DM.ClearGalleryModule();" ontouchmove\x3d"touchMove(event);"\x3e\x3c/img\x3e');b.changeDisplay("none");b.css("border","2px solid #FFFFFF");c.append(b);var d=null,g=null;0<b.length&&b.attr("src",e).load(function(){d=this.width;g=this.height;b.data("originalWidth",
d);b.data("originalHeight",g);var e=Math.min(W()/document.documentElement.clientWidth,Math.min(Y()/g,W()/d)),e=0.85*e;b.width(Math.round(d*e));b.height(Math.round(g*e));c.css({top:1*U()+(Y()-1*b.height())/2-8+"px",left:Math.round((W()-b.width())/2)+"px"}).width(Math.round(b.width()));c.changeDisplay("block");b.changeDisplay("block");e=a('\x3cdiv ID\x3d"closeImageModule" onclick\x3d"jQuery.DM.blackScreen(false); jQuery.DM.ClearGalleryModule();"\x3eclose\x3c/div\x3e');e.css("color","#000000");e.css("background-color",
"#FFFFFF");e.css("text-align","center");e.css("font-family","Arial");e.css("font-size","13px");e.css("margin-top","10px");e.css("-moz-border-radius","8px");e.css("border-radius","8px");e.css("border","1px solid #333333");e.css("margin-left","auto");e.css("margin-right","auto");e.css("cursor","pointer");e.width(40);e.height(17);c.append(e);H(!1);l.blackScreen(!0)})};l.ClearGalleryModule=function(){var e=a("#"+GALLERY_CONTAINER_ID);0<e.length&&e.html("")};l.getScreenBrigthness=function(e){var f=a(Parameters.BackgroundElement);
null!=e&&(f=a(e));if(null!=f){e=f.css("background-color");if(null==e)return 255;if(-1==e.indexOf("rgba")){f=/rgb\((\d+), (\d+), (\d+)\)/;e=f.exec(e);var f=parseInt(e[1],10),c=parseInt(e[2],10),b=parseInt(e[3],10),f=(299*f+587*c+114*b)/1E3}else f=/rgba\((\d+), (\d+), (\d+), (\d+)\)/,e=f.exec(e),f=parseInt(e[1],10),c=parseInt(e[2],10),b=parseInt(e[3],10),e=parseInt(e[4],10),f=(299*f+587*c+114*b)/1E3,0==e&&(f=255);return f}return 255};l.logToDMAjax=function(a){ca(a)};l.initSwipeSelectors=function(e,
f,c){h("/_dm/s/rt/scripts/jquery.touchSwipe-1.2.4.js",function(){a(e).each(function(){var e=a(this),b=null!=e.attr("keep-moved");e.css("position","relative");e.css("-webkit-transition","-webkit-transform 0.1s ease-out");e.css("-webkit-backface-visibility","hidden");e.css("-webkit-transform","translate3d(0, 0, 0)");var d=0,l=40;null!=e.attr("min-distance")&&(l=parseInt(e.attr("min-distance")));var g=e.width()-100,w=null!=e.attr("preserve-max");e.swipe({triggerOnTouchEnd:!0,swipeStatus:function(a,h,
p,q){"start"==h?b&&null!=e.attr("moved")&&(d=parseInt(e.attr("moved"))):"move"==h?"right"==p&&q>l?(h=d+q,w&&0<h&&(h=0),e.css("-webkit-transform","").css("-webkit-transform","translate3d("+h+"px, 0, 0)"),b&&e.attr("moved",h),a.preventDefault()):"left"==p&&q>l&&(h=d-q,w&&h<-g&&(h=-g),e.css("-webkit-transform","").css("-webkit-transform","translate3d("+h+"px, 0, 0)"),b&&e.attr("moved",h),a.preventDefault()):"end"==h?"right"==p?c()||e.css("-webkit-transform","translate3d("+(d+0)+"px, 0, 0)"):"left"==
p&&(f()||e.css("-webkit-transform","translate3d("+(d+0)+"px, 0, 0)")):"cancel"==h&&e.css("-webkit-transform","translate3d("+(d+0)+"px, 0, 0)")}})})})};l.getCurrentPageUrl=function(){var e="";"DUDAONE"==Parameters.SiteType?e=x.pageAlias:(e=x?x.pageUrl:"",-1!=e.indexOf("url\x3d")&&(e=unescape(a.DM.getQueryParam(x.pageUrl,"url"))));return e};l.getPageFromCache=function(a){return null!=a?T(a):null};l.getPageUrlByPageId=function(e){return null!=e&&(e=T(e),null!=e)?(e=e.pageUrl,-1!=e.indexOf("url\x3d")&&
(e=unescape(a.DM.getQueryParam(x.pageUrl,"url"))),e):null};l.darkenPreviewScreen=function(e){var f=a("#dmBlackWrapper");!1==e?0<f.length&&f.fadeOut(400,function(){a("#dmBlackWrapper").remove()}):0==f.length&&(f=a("\x3cdiv\x3e\x3c/div\x3e"),e=a("body"),l.isBodyScrollable()||(e=a("#"+FIRST_CONTAINER_ID)),e.append(f),f.unbind("touchmove.move").bind("touchmove.move",function(a){a.preventDefault()}),f.attr("id","dmBlackWrapper"),f.css("position","absolute"),f.changeDisplay("none"),f.css("overflow","hidden"),
f.css("left","0px"),f.css("top","0px"),f.css("background-color","#000000"),f.css("opacity","0.6"),f.css("z-index","9"),f.width(a(document).width()),l.isBodyScrollable()?f.height(a(document).height()):f.height(a("#"+FIRST_CONTAINER_ID).height()),f.fadeIn(400))};l.initBackToOuterLinks=function(e){if("undefined"===typeof isDudaone||!isDudaone)if(!a.DM.getQueryParam(window.location.href,"nee")||"DUDAONE"==Parameters.SiteType){var f=Parameters.HomeUrl.trim().replace("?preview\x3dtrue",""),c=window.parent;
try{var b=c.$&&c.$.previewExternalLink}catch(d){return}b&&(c.$.previewExternalLink.setLastEditePage(window.location.href),a("body").off("click.assignback").on("click.assignback","a",function(e){e=a(this);var b=e.attr("href")||"";"_blank"!=e.attr("target")&&("dmBackBtn"!==e.attr("id")&&b&&""!=b&&-1==b.indexOf("/site/"+Parameters.SiteAlias)&&"true"!=e.attr("dm_dont_rewrite_url")||0==b.indexOf("http://m.dudamobile.com")||"classic_link"==a(this).attr("id")||-1<b.indexOf("_dm/s/rt/widgets/opentable/opentable.jsp"))&&
(-1==b.indexOf(f)||0==b.indexOf("http://m.dudamobile.com")||"classic_link"==a(this).attr("id")||-1<b.indexOf("_dm/s/rt/widgets/opentable/opentable.jsp")?c.$.previewExternalLink.setBackFromExternal(!0):c.$.previewExternalLink.setLastEditePage(b))}))}};l.hideAllPopups=function(){"function"===typeof dmHidePopup&&dmHidePopup()};a(document).ready(function(){if(RegExp("android","gi").test(navigator.appVersion)){I=Enum.AgentType.Android;var e=a("\x3cstyle\x3e* {-webkit-tap-highlight-color: rgba(0, 0, 0, 0); }\x3c/style\x3e");
a("head").append(e)}else if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))I=Enum.AgentType.Iphone;else if(navigator.userAgent.match(/BlackBerry/i))I=Enum.AgentType.BlackBerry;else if(navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/iEMobile/i))I=Enum.AgentType.WindowsMobile;Parameters.CurrentThemeName.indexOf("NoiseBG");if(I==Enum.AgentType.WindowsMobile||7===ga||a&&a.browser&&a.browser.msie&&10>a.browser.version)Parameters.AllowAjax=
!1;l.updateWidth();D||(Parameters.trans=I===Enum.AgentType.Iphone?"translate3d":"translate",c(),Parameters.LinksToAjaxExceptions=(g()?w:wa).concat(Parameters.LinksToAjaxExceptions),Parameters.AllowAjax?u():z(),ja()&&Parameters.AllowAjax||l.disableAnimations(),Parameters.UseGalleryModule&&k(),l.afterAjaxGeneralInits(),l.preloadImages(),G(x),D=!0);a("body, html").scrollTop(0);Parameters.AllowAjax&&(p(),Parameters.IsSEOFriendlyLinks&&window.history&&(window.onpopstate=function(a){a=a.target.location.pathname+
a.target.location.search;pa(hex_sha1(a)+"",a)}));null!=Parameters.StartupCommand&&Parameters.StartupCommand()});a(window).load(function(a){l.afterAjaxGeneralLoadInits()})})(jQuery,window);
function dm_gaq_push_url(a){_dm_gaq.systemGaqID&&_gaq.push(["_trackPageview",a]);_dm_gaq.systemAggregatedGaqID&&_dm_gaq.systemAggregatedGaqID!=_dm_gaq.systemGaqID&&_gaq.push(["b._trackPageview",a]);_dm_gaq.externalGaqID&&_gaq.push(["c._trackPageview",a]);"undefined"!==typeof _paq&&null!=_paq&&_paq.push(["trackPageView",a])}
function dm_gaq_push_event(a,d,b,c){c||(c=_dm_gaq.siteAlias);null==b&&(b=void 0);_dm_gaq.systemGaqID&&_gaq.push(["_trackEvent",a,c,d,b]);_dm_gaq.systemAggregatedGaqID&&_dm_gaq.systemAggregatedGaqID!=_dm_gaq.systemGaqID&&_gaq.push(["b._trackEvent",a,c,d,b]);_dm_gaq.externalGaqID&&_gaq.push(["c._trackEvent",a,c,d,b]);try{"undefined"!=typeof _paq&&_paq&&_paq.push(["_trackEvent",a,d])}catch(g){}}String.prototype.startsWith=function(a){return 0===this.indexOf(a)};
String.prototype.endsWith=function(a){return this.match(a+"$")==a};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};replaceAll=function(a,d,b){return a.replace(RegExp(d,"g"),b)};function replaceElements(a,d){jQuery(".hiddenSubMenu").each(function(a){jQuery(this).addClass("display_None_important")});jQuery("#"+a).addClass("display_None_important");jQuery("#"+d).removeClass("display_None_important");jQuery("#"+d).removeClass("dmDisplay_None")}
(function(a){a.fn.blink=function(d){function b(b){b=b||a(this);b.data("blinkStop")||b.fadeOut(d.fadeOut,c)}function c(c){c=c||a(this);c.data("blinkStop")||c.fadeIn(d.fadeIn,b)}if("stop"==d)return this.data("blinkStop",!0).stop(!0,!0).show();this.data("blinkStop",!1);d=a.extend({},{fadeIn:100,fadeOut:300},d||{});b(this);return this}})(jQuery);
(function(a){_hideMe=function(d,b){if(d){var c=a(d),g=c.closest("ul");c.closest("li").remove();a("#"+b).before(g);a("#"+b).closest("ul").changeDisplay("");a("#"+b).remove()}};_launchHashed=function(d){if(d){var b=a(d),c=b.closest("li");d=c.find("ul:first");if(0<d.find("li").size()){var g=c.closest("ul"),c=c.attr("id"),h=a('\x3cli class\x3d"p_list_item dmBackToMenuLi"\x3e\x3c/li\x3e');h.addClass("dmMore");h.attr("id","dmMore");b=b.attr("btmTitle")||"Back to menu";h.html("\x3ca href\x3d'#' onclick\x3d\"var event \x3d arguments[0] || window.event;_hideMe(this,'placeHolder_"+
c+"');event.stopPropagation();$.DM.afterExpandCollapse();return false;\" class\x3d'dmUDNavigationItem_dmLess dmBackToMenuA'\x3e\x3cdiv class\x3d'navIconBg'\x3e\x3cdiv class\x3d'navIcon'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'navText'\x3e"+b+"\x3c/div\x3e\x3cdiv class\x3d'navArrowBg'\x3e\x3cdiv class\x3d'navArrow'\x3e\x3c/div\x3e\x3cdiv class\x3d'navArrowBottom'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/a\x3e");d.prepend(h);d.after("\x3cdiv class\x3d'hashedPlaceHolder' id\x3d'placeHolder_"+c+"'\x3e\x3c/div\x3e");
d.insertAfter(g);d.removeClass("dmDisplay_None");d.addClass("dmNavCustom");g.changeDisplay("none");a.DM.afterExpandCollapse()}}jQuery.DM.isUseLayout()&&a.layoutManager.cssCalculations()};a.fn.changeDisplay=function(d,b){if(d){d=d.replace("!important","");a(this).css("display","");var c=b?"":" !important";a(this).attr("style",(a(this).attr("style")?a(this).attr("style")+";":"")+"display: "+d+c)}""==d&&a(this).css("display",d)};a.fn.dmCss=function(d,b){var c="";b||(c=a(this).css(d));""==b?c=a(this).css(d,
""):-1!=b.indexOf("!important")?(b=b.replace("!important",""),a(this).css(d,""),a(this).each(function(){var c=a(this).attr("style");a(this).attr("style",(c?c+";":"")+d+": "+b+" !important")}),c=a(this)):c=a(this).css(d,b);return c};a.fn.naturalSize=function(){if(this){var d=a(this);if(d.is("img")){if(void 0==d.prop("naturalWidth")){var b=a("\x3cimg/\x3e").attr("src",d.attr("src"));d.prop("naturalWidth",b[0].width);d.prop("naturalHeight",b[0].height)}return{width:d.prop("naturalWidth"),height:d.prop("naturalHeight")}}}return{}};
a.fn.centerImageWithin=function(d,b){b=b||{};var c=a(this),g=a(d);if(c.is("img")&&0<g.length){c.attr("dm","true");var g=c.naturalSize(),h=g.height,m=g.width;if(!h||!m||0==h*m){var k=c.attr("dm_crop_dim"),g=!1;k&&(k=k.split("_"))&&4==k.length&&(g=!0);g||(c.attr("irh"),c.attr("irw"));return!1}var g=b.forceContainerHeight||d.height(),k=b.forceContainerWidth||d.width(),u=!b.stretch&&m<=k&&h<=g;c.css("height","");c.css("left","");c.css("width","");c.css("top","");c.css("max-width","none");u?(g=Math.ceil(h)-
g,c.css("top",""+(0-g/2)+"px")):(u=k/m*h,h=g/h*m,m=u>=g,b.stretch&&m||!b.stretch&&!m?(c.dmCss("width",k+"px !important"),c.dmCss("max-width",k+"px !important"),c.dmCss("min-width",k+"px !important"),c.dmCss("height",Math.ceil(u)+"px !important"),g=Math.ceil(u)-g,c.css("top",""+(0-g/2)+"px")):(c.dmCss("height",g+"px !important"),c.dmCss("width",Math.ceil(h)+"px !important"),c.dmCss("max-width",Math.ceil(h)+"px !important"),c.dmCss("min-width",Math.ceil(h)+"px !important"),g=Math.ceil(h)-k,b.stretch&&
c.css("left",""+(0-g/2)+"px")));return!0}}})(jQuery);$.fn.imgCover=function(a){a=a||{type:"cover"};var d=$(this);d.each(function(){var b=$(this);if(b.is("img")){var c=b.parent(),d=b.attr("src");b.hide();c.addClass("dmCoverImgContainer").css("background-image","url("+d.replace("'","\\'")+")").css("background-size",a.type).css("background-repeat","no-repeat").css("background-position","center")}});return d};
jQuery.fn.center=function(){this.css("position","absolute");this.css("top",(jQuery(window).height()-this.outerHeight())/2+jQuery(window).scrollTop()+"px");this.css("left",(jQuery(window).width()-this.outerWidth())/2+jQuery(window).scrollLeft()+"px");return this};
function printCoupon(){var a=$("#couponImg").attr("src"),d=window.open("","my div","height\x3d400,width\x3d600");d.document.write("\x3chtml\x3e\x3chead\x3e\x3ctitle\x3e\x3c/title\x3e");d.document.write("\x3c/head\x3e\x3cbody \x3e");d.document.write('\x3cimg src\x3d"'+a+'"\x3e');d.document.write("\x3c/body\x3e\x3c/html\x3e");d.document.close();d.focus();d.print();d.close();return!0}
function showCouponPopup(a,d,b,c){var g=$('\x3cimg id\x3d"couponImg"\x3e');g.attr("src",d).attr("width",b).attr("height",c);a.find(".popupData").empty();g.appendTo(a.find(".popupData"));$.layoutDevice&&"desktop"==$.layoutDevice.type&&$('\x3cp\x3e\x3cinput class\x3d"ptOrangeBtn" type\x3d"button" value\x3d"Print Coupon" onclick\x3d"printCoupon()"/\x3e\x3c/p\x3e').appendTo(a.find(".popupData"));dmShowPopup(a,"","couponPopupData",b,c+50)}
function dmShowPopup(a,d,b,c,g){var h=jQuery(".dmPopup"),m=h.first(),k=jQuery("body \x3e .dmPopup");h.not(m).remove();0==k.size()&&m.appendTo("body");k.attr("class","dmPopup");b&&k.addClass(b);a.find(".popupData").clone().appendTo(".dmPopup .data").show();m.find(".dmPopupTitle").html("\x3cspan\x3e\x3c/span\x3e"+d);jQuery("#dmPopupMask").height(document.body.offsetHeight).width(jQuery(window).width()).show();k.find("*").andSelf().each(function(){var a=$(this).attr("class");a&&($(this).attr("class",
""),$(this).attr("class",a))});g=g||400;d=Math.min(c||700,jQuery(window).width()-20);g=Math.min(g,jQuery(window).height()-20);b=jQuery(window).width()/2-d/2-10;c=jQuery(window).height()/2-g/2;c+=jQuery(window).scrollTop();$("body").attr("originalOverflow",$("body").css("overflow")).css("overflow","hidden");k.show().css({top:c+"px",width:d+"px",left:b+"px",minHeight:g+"px"});window.event&&window.event.stopPropagation();if(a.hasClass("dmShare"))k.off("click.share").on("click.share","div.dmShareWidget a",
function(a){if(parent&&parent.jQuery&&(parent.jQuery.dmfw||parent.jQuery.onefw)){a.preventDefault();a.stopPropagation();var c={relativeDirection:"top",offset:parent.jQuery.onefw?0:70,tipsContainer:parent.jQuery.onefw?window.parent.$("#_preview_w"):window.parent.$("#neePrevieweviceWrapper"),bodyText:"You can't use the this widget to share a site from Preview mode.",title:"Share"};window.parent.$.dmpages&&window.parent.$.dmpages.showOuterLinkPrompt(null,"_blank",$(a.target),c)}});return!1}
function dmHidePopup(a){$("body").css("overflow",$("body").attr("originalOverflow"));jQuery("#dmPopupMask").hide();jQuery(".dmPopup").hide();jQuery(".dmPopup .data").empty();a&&(a.cancelBubble=!0,a.stopPropagation());return!1}
(function(a){a.belowthefold=function(d,b){return a(window).height()+a(window).scrollTop()<=a(d).offset().top-b.threshold};a.abovethetop=function(d,b){return a(window).scrollTop()>=a(d).offset().top+a(d).height()-b.threshold};a.rightofscreen=function(d,b){return a(window).width()+a(window).scrollLeft()<=a(d).offset().left-b.threshold};a.leftofscreen=function(d,b){return a(window).scrollLeft()>=a(d).offset().left+a(d).width()-b.threshold};a.inviewport=function(d,b){return!a.rightofscreen(d,b)&&!a.leftofscreen(d,
b)&&!a.belowthefold(d,b)&&!a.abovethetop(d,b)};a.extend(a.expr[":"],{"below-the-fold":function(d,b,c){return a.belowthefold(d,{threshold:0})},"above-the-top":function(d,b,c){return a.abovethetop(d,{threshold:0})},"left-of-screen":function(d,b,c){return a.leftofscreen(d,{threshold:0})},"right-of-screen":function(d,b,c){return a.rightofscreen(d,{threshold:0})},"in-viewport":function(d,b,c){return a.inviewport(d,{threshold:0})}})})(jQuery);
(function(a,d,b){function c(a,c,b){var d=a.runtimeStyle&&a.runtimeStyle[c],g,h=a.style;!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(b)&&/^-?\d/.test(b)&&(g=h.left,d&&(a.runtimeStyle.left=a.currentStyle.left),h.left="fontSize"===c?"1em":b||0,b=h.pixelLeft+"px",h.left=g,d&&(a.runtimeStyle.left=d));return/^(thin|medium|thick)$/i.test(b)?b:Math.round(parseFloat(b))+"px"}function g(a){return parseInt(a,10)}function h(a,c,b,d,g,h){c=k.Util.getCSS(c,a,g);var r;1===c.length&&(g=c[0],c=[],c[0]=g,c[1]=g);-1!==c[0].toString().indexOf("%")?
(r=parseFloat(c[0])/100,g=b.width*r,"backgroundSize"!==a&&(g-=(h||d).width*r)):g="backgroundSize"===a?"auto"===c[0]?d.width:/contain|cover/.test(c[0])?k.Util.resizeBounds(d.width,d.height,b.width,b.height,c[0]).width:parseInt(c[0],10):parseInt(c[0],10);"auto"===c[1]?b=g/d.width*d.height:-1!==c[1].toString().indexOf("%")?(r=parseFloat(c[1])/100,b=b.height*r,"backgroundSize"!==a&&(b-=(h||d).height*r)):b=parseInt(c[1],10);return[g,b]}function m(a,c){var b=[];return{storage:b,width:a,height:c,clip:function(){b.push({type:"function",
name:"clip",arguments:arguments})},translate:function(){b.push({type:"function",name:"translate",arguments:arguments})},fill:function(){b.push({type:"function",name:"fill",arguments:arguments})},save:function(){b.push({type:"function",name:"save",arguments:arguments})},restore:function(){b.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){b.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){b.push({type:"function",name:"createPattern",
arguments:arguments})},drawShape:function(){var a=[];b.push({type:"function",name:"drawShape",arguments:a});return{moveTo:function(){a.push({name:"moveTo",arguments:arguments})},lineTo:function(){a.push({name:"lineTo",arguments:arguments})},arcTo:function(){a.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){a.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){a.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){b.push({type:"function",
name:"drawImage",arguments:arguments})},fillText:function(){b.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(a,c){b.push({type:"variable",name:a,arguments:c});return c}}}var k={},u;k.Util={};k.Util.log=function(c){k.logging&&a.console&&a.console.log&&a.console.log(c)};k.Util.trimText=function(a){return function(c){return a?a.apply(c):((c||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim);k.Util.asFloat=function(a){return parseFloat(a)};(function(){var a=
/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,c=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;k.Util.parseTextShadows=function(b){if(!b||"none"===b)return[];b=b.match(a);for(var d=[],g=0;b&&g<b.length;g++){var h=b[g].match(c);d.push({color:h[0],offsetX:h[1]?h[1].replace("px",""):0,offsetY:h[2]?h[2].replace("px",""):0,blur:h[3]?h[3].replace("px",""):0})}return d}})();k.Util.parseBackgroundImage=function(a){var c,b,d,g,h,r=[],k,s=0,m=0,u,Q,G=function(){c&&('"'===b.substr(0,1)&&(b=b.substr(1,b.length-2)),b&&
Q.push(b),"-"===c.substr(0,1)&&0<(g=c.indexOf("-",1)+1)&&(d=c.substr(0,g),c=c.substr(g)),r.push({prefix:d,method:c.toLowerCase(),value:h,args:Q}));Q=[];c=d=b=h=""};G();for(var C=0,J=a.length;C<J;C++)if(k=a[C],!(0===s&&-1<" \r\n\t".indexOf(k))){switch(k){case '"':u?u===k&&(u=null):u=k;break;case "(":if(u)break;else if(0===s){s=1;h+=k;continue}else m++;break;case ")":if(u)break;else if(1===s)if(0===m){s=0;h+=k;G();continue}else m--;break;case ",":if(!u)if(0===s){G();continue}else if(1===s&&0===m&&!c.match(/^url$/i)){Q.push(b);
b="";h+=k;continue}}h+=k;0===s?c+=k:b+=k}G();return r};k.Util.Bounds=function(a){var c,b={};a.getBoundingClientRect&&(c=a.getBoundingClientRect(),b.top=c.top,b.bottom=c.bottom||c.top+c.height,b.left=c.left,b.width=a.offsetWidth,b.height=a.offsetHeight);return b};k.Util.OffsetBounds=function(a){var c=a.offsetParent?k.Util.OffsetBounds(a.offsetParent):{top:0,left:0};return{top:a.offsetTop+c.top,bottom:a.offsetTop+a.offsetHeight+c.top,left:a.offsetLeft+c.left,width:a.offsetWidth,height:a.offsetHeight}};
k.Util.getCSS=function(a,h,p){void 0!==a&&(u=d.defaultView.getComputedStyle(a,null));var m=u[h];if(/^background(Size|Position)$/.test(h)){a:{m=(m||"").split(",");m=m[p||0]||m[0]||"auto";m=k.Util.trimText(m).split(" ");if("backgroundSize"!==h||m[0]&&!m[0].match(/cover|contain|auto/)){m[0]=-1===m[0].indexOf("%")?c(a,h+"X",m[0]):m[0];if(m[1]===b)if("backgroundSize"===h){m[1]="auto";a=m;break a}else m[1]=m[0];m[1]=-1===m[1].indexOf("%")?c(a,h+"Y",m[1]):m[1]}a=m}return a}return/border(Top|Bottom)(Left|Right)Radius/.test(h)?
(a=m.split(" "),1>=a.length&&(a[1]=a[0]),a.map(g)):m};k.Util.resizeBounds=function(a,c,b,d,g){a/=c;g&&"auto"!==g?b/d<a^"contain"===g?(b=d,g=d*a):(g=b,b/=a):(g=b,b=d);return{width:g,height:b}};k.Util.BackgroundPosition=function(a,c,b,d,g){a=h("backgroundPosition",a,c,b,d,g);return{left:a[0],top:a[1]}};k.Util.BackgroundSize=function(a,c,b,d){a=h("backgroundSize",a,c,b,d);return{width:a[0],height:a[1]}};k.Util.Extend=function(a,c){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};k.Util.Children=
function(a){var c;try{var d;if(a.nodeName&&"IFRAME"===a.nodeName.toUpperCase())d=a.contentDocument||a.contentWindow.document;else{var g=a.childNodes;a=[];if(null!==g){var h=a.length,y=0;if("number"===typeof g.length)for(var r=g.length;y<r;y++)a[h++]=g[y];else for(;g[y]!==b;)a[h++]=g[y++];a.length=h}d=a}c=d}catch(m){k.Util.log("html2canvas.Util.Children failed with exception: "+m.message),c=[]}return c};k.Util.isTransparent=function(a){return"transparent"===a||"rgba(0, 0, 0, 0)"===a};k.Util.Font=function(){var a=
{};return function(c,d,g){if(a[c+"-"+d]!==b)return a[c+"-"+d];var h=g.createElement("div"),k=g.createElement("img"),r=g.createElement("span"),m;h.style.visibility="hidden";h.style.fontFamily=c;h.style.fontSize=d;h.style.margin=0;h.style.padding=0;g.body.appendChild(h);k.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs\x3d";k.width=1;k.height=1;k.style.margin=0;k.style.padding=0;k.style.verticalAlign="baseline";r.style.fontFamily=c;r.style.fontSize=d;r.style.margin=0;r.style.padding=
0;r.appendChild(g.createTextNode("Hidden Text"));h.appendChild(r);h.appendChild(k);m=k.offsetTop-r.offsetTop+1;h.removeChild(r);h.appendChild(g.createTextNode("Hidden Text"));h.style.lineHeight="normal";k.style.verticalAlign="super";k={baseline:m,lineWidth:1,middle:k.offsetTop-h.offsetTop+1};a[c+"-"+d]=k;g.body.removeChild(h);return k}}();(function(){function a(b){return function(a){try{b.addColorStop(a.stop,a.color)}catch(d){c.log(["failed to add color stop: ",d,"; tried to add: ",a])}}}var c=k.Util,
b={};k.Generate=b;var g=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,
/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];b.parseGradient=function(a,c){var b,d,h=g.length,k,m,p,n;for(d=0;d<h&&!(k=a.match(g[d]));d+=1);if(k)switch(k[1]){case "-webkit-linear-gradient":case "-o-linear-gradient":b={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]};if(h=k[2].match(/\w+/g))for(m=h.length,d=0;d<m;d+=1)switch(h[d]){case "top":b.y0=0;b.y1=c.height;break;case "right":b.x0=c.width;b.x1=0;break;case "bottom":b.y0=c.height;
b.y1=0;break;case "left":b.x0=0,b.x1=c.width}null===b.x0&&null===b.x1&&(b.x0=b.x1=c.width/2);null===b.y0&&null===b.y1&&(b.y0=b.y1=c.height/2);if(h=k[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(m=h.length,p=1/Math.max(m-1,1),d=0;d<m;d+=1)n=h[d].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),n[2]?(k=parseFloat(n[2]),k="%"===n[3]?k/100:k/c.width):k=d*p,b.colorStops.push({color:n[1],stop:k});break;case "-webkit-gradient":b=
{type:"radial"===k[2]?"circle":k[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]};if(h=k[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/))b.x0=h[1]*c.width/100,b.y0=h[2]*c.height/100,b.x1=h[3]*c.width/100,b.y1=h[4]*c.height/100;if(h=k[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(m=h.length,d=0;d<m;d+=1)n=h[d].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),
k=parseFloat(n[2]),"from"===n[1]&&(k=0),"to"===n[1]&&(k=1),b.colorStops.push({color:n[3],stop:k});break;case "-moz-linear-gradient":b={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]};if(h=k[2].match(/(\d{1,3})%?\s(\d{1,3})%?/))b.x0=h[1]*c.width/100,b.y0=h[2]*c.height/100,b.x1=c.width-b.x0,b.y1=c.height-b.y0;if(h=k[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(m=h.length,p=1/Math.max(m-1,1),d=0;d<m;d+=1)n=h[d].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),
n[2]?(k=parseFloat(n[2]),n[3]&&(k/=100)):k=d*p,b.colorStops.push({color:n[1],stop:k});break;case "-webkit-radial-gradient":case "-moz-radial-gradient":case "-o-radial-gradient":b={type:"circle",x0:0,y0:0,x1:c.width,y1:c.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]};if(h=k[2].match(/(\d{1,3})%?\s(\d{1,3})%?/))b.cx=h[1]*c.width/100,b.cy=h[2]*c.height/100;h=k[3].match(/\w+/);n=k[4].match(/[a-z\-]*/);if(h&&n)switch(n[0]){case "farthest-corner":case "cover":case "":d=Math.sqrt(Math.pow(b.cx,2)+Math.pow(b.cy,
2));h=Math.sqrt(Math.pow(b.cx,2)+Math.pow(b.y1-b.cy,2));m=Math.sqrt(Math.pow(b.x1-b.cx,2)+Math.pow(b.y1-b.cy,2));n=Math.sqrt(Math.pow(b.x1-b.cx,2)+Math.pow(b.cy,2));b.rx=b.ry=Math.max(d,h,m,n);break;case "closest-corner":d=Math.sqrt(Math.pow(b.cx,2)+Math.pow(b.cy,2));h=Math.sqrt(Math.pow(b.cx,2)+Math.pow(b.y1-b.cy,2));m=Math.sqrt(Math.pow(b.x1-b.cx,2)+Math.pow(b.y1-b.cy,2));n=Math.sqrt(Math.pow(b.x1-b.cx,2)+Math.pow(b.cy,2));b.rx=b.ry=Math.min(d,h,m,n);break;case "farthest-side":"circle"===h[0]?b.rx=
b.ry=Math.max(b.cx,b.cy,b.x1-b.cx,b.y1-b.cy):(b.type=h[0],b.rx=Math.max(b.cx,b.x1-b.cx),b.ry=Math.max(b.cy,b.y1-b.cy));break;case "closest-side":case "contain":"circle"===h[0]?b.rx=b.ry=Math.min(b.cx,b.cy,b.x1-b.cx,b.y1-b.cy):(b.type=h[0],b.rx=Math.min(b.cx,b.x1-b.cx),b.ry=Math.min(b.cy,b.y1-b.cy))}if(h=k[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(m=h.length,p=1/Math.max(m-1,1),d=0;d<m;d+=1)n=h[d].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),
n[2]?(k=parseFloat(n[2]),k="%"===n[3]?k/100:k/c.width):k=d*p,b.colorStops.push({color:n[1],stop:k})}return b};b.Gradient=function(b,c){if(0!==c.width&&0!==c.height){var g=d.createElement("canvas"),h=g.getContext("2d"),m,n;g.width=c.width;g.height=c.height;if(m=k.Generate.parseGradient(b,c))switch(m.type){case "linear":n=h.createLinearGradient(m.x0,m.y0,m.x1,m.y1);m.colorStops.forEach(a(n));h.fillStyle=n;h.fillRect(0,0,c.width,c.height);break;case "circle":n=h.createRadialGradient(m.cx,m.cy,0,m.cx,
m.cy,m.rx);m.colorStops.forEach(a(n));h.fillStyle=n;h.fillRect(0,0,c.width,c.height);break;case "ellipse":var p=d.createElement("canvas"),u=p.getContext("2d");n=Math.max(m.rx,m.ry);var B=2*n;p.width=p.height=B;n=u.createRadialGradient(m.rx,m.ry,0,m.rx,m.ry,n);m.colorStops.forEach(a(n));u.fillStyle=n;u.fillRect(0,0,B,B);h.fillStyle=m.colorStops[m.colorStops.length-1].color;h.fillRect(0,0,g.width,g.height);h.drawImage(p,m.cx-m.rx,m.cy-m.ry,2*m.rx,2*m.ry)}return g}};b.ListAlpha=function(a){var b="",
c;do c=a%26,b=String.fromCharCode(c+64)+b,a/=26;while(26<26*a);return b};b.ListRoman=function(a){var b="M CM D CD C XC L XL X IX V IV I".split(" "),c=[1E3,900,500,400,100,90,50,40,10,9,5,4,1],d="",g,h=b.length;if(0>=a||4E3<=a)return a;for(g=0;g<h;g+=1)for(;a>=c[g];)a-=c[g],d+=b[g];return d}})();k.Parse=function(c,g){function h(a,b){var c=parseInt(D(a,b),10);return isNaN(c)?0:c}function u(a,b,c,d,g,l){"transparent"!==l&&(a.setVariable("fillStyle",l),a.fillRect(b,c,d,g))}function q(a,b,c){if(0<a.length)return b+
c.toUpperCase()}function y(a,b){switch(b){case "lowercase":return a.toLowerCase();case "capitalize":return a.replace(/(^|\s|:|-|\(|\))([a-z])/g,q);case "uppercase":return a.toUpperCase();default:return a}}function r(a){return/^(normal|none|0px)$/.test(a)}function E(a,b,c,d){var g=D(b,"fontWeight"),l=D(b,"fontFamily"),h=D(b,"fontSize"),k=K.parseTextShadows(D(b,"textShadow"));switch(parseInt(g,10)){case 401:g="bold";break;case 400:g="normal"}a.setVariable("fillStyle",d);a.setVariable("font",[D(b,"fontStyle"),
D(b,"fontVariant"),g,h,l].join(" "));a.setVariable("textAlign","left");k.length&&(a.setVariable("shadowColor",k[0].color),a.setVariable("shadowOffsetX",k[0].offsetX),a.setVariable("shadowOffsetY",k[0].offsetY),a.setVariable("shadowBlur",k[0].blur));if("none"!==c)return K.Font(l,h,t)}function s(a,b,c){var d=c.ctx,h=D(a,"color"),l=D(a,"textDecoration"),k=D(a,"textAlign"),m,q,p=b,e=0;0<K.trimText(b.nodeValue).length&&(b.nodeValue=y(b.nodeValue,D(a,"textTransform")),k=k.replace(["-webkit-auto"],["auto"]),
q=!g.letterRendering&&/^(left|right|justify|auto)$/.test(k)&&r(D(a,"letterSpacing"))?b.nodeValue.split(/(\b| )/):b.nodeValue.split(""),m=E(d,a,l,h),g.chinese&&q.forEach(function(a,b){/.*[\u4E00-\u9FA5].*$/.test(a)&&(a=a.split(""),a.unshift(b,1),q.splice.apply(q,a))}),q.forEach(function(a,b){var g,w=b<q.length-1;g=c.transform.matrix;var k;if(x.rangeBounds&&!g){if("none"!==l||0!==K.trimText(a).length)g=p,w=e,k=t.createRange(),k.setStart(g,w),k.setEnd(g,w+a.length),k=k.getBoundingClientRect();e+=a.length}else if(p&&
"string"===typeof p.nodeValue){var w=w?p.splitText(a.length):null,n=p;k=n.parentNode;var S=t.createElement("wrapper"),P=n.cloneNode(!0);S.appendChild(n.cloneNode(!0));k.replaceChild(S,n);g=g?K.OffsetBounds(S):K.Bounds(S);k.replaceChild(P,S);k=g;p=w}if(g=k)switch(w=g.left,k=g.bottom,null!==a&&0<K.trimText(a).length&&d.fillText(a,w,k),l){case "underline":u(d,g.left,Math.round(g.top+m.baseline+m.lineWidth),g.width,1,h);break;case "overline":u(d,g.left,Math.round(g.top),g.width,1,h);break;case "line-through":u(d,
g.left,Math.ceil(g.top+m.middle+m.lineWidth),g.width,1,h)}}))}function N(a,b,c){var d;b=b.ctx;var g=D(a,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(g)){var h;h=-1;var m=1,n=a.parentNode.childNodes;if(a.parentNode){for(;n[++h]!==a;)1===n[h].nodeType&&m++;h=m}else h=-1;switch(g){case "decimal":d=h;break;case "decimal-leading-zero":d=1===h.toString().length?"0"+h.toString():h.toString();break;case "upper-roman":d=
k.Generate.ListRoman(h);break;case "lower-roman":d=k.Generate.ListRoman(h).toLowerCase();break;case "lower-alpha":d=k.Generate.ListAlpha(h).toLowerCase();break;case "upper-alpha":d=k.Generate.ListAlpha(h)}d+=". ";h=t.createElement("boundelement");h.style.display="inline";m=a.style.listStyleType;a.style.listStyleType="none";h.appendChild(t.createTextNode(d));a.insertBefore(h,a.firstChild);g=K.Bounds(h);a.removeChild(h);a.style.listStyleType=m;E(b,a,"none",D(a,"color"));"inside"===D(a,"listStylePosition")&&
(b.setVariable("textAlign","left"),a=c.left,c=g.bottom,null!==d&&0<K.trimText(d).length&&b.fillText(d,a,c))}}function F(a){return(a=c[a])&&!0===a.succeeded?a.img:!1}function Q(a,b){var c=Math.max(a.left,b.left),d=Math.max(a.top,b.top),g=Math.min(a.left+a.width,b.left+b.width),h=Math.min(a.top+a.height,b.top+b.height);return{left:c,top:d,width:g-c,height:h-d}}function G(a,b,c,d,g){var l=h(b,"paddingLeft"),k=h(b,"paddingTop"),m=h(b,"paddingRight");b=h(b,"paddingBottom");Y(a,c,0,0,c.width,c.height,d.left+
l+g[3].width,d.top+k+g[0].width,d.width-(g[1].width+g[3].width+l+m),d.height-(g[0].width+g[2].width+k+b))}function C(a){return["Top","Right","Bottom","Left"].map(function(b){return{width:h(a,"border"+b+"Width"),color:D(a,"border"+b+"Color")}})}function J(a){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(b){return D(a,"border"+b+"Radius")})}function H(a,b,c,d){var g=function(a,b,c){return{x:a.x+(b.x-a.x)*c,y:a.y+(b.y-a.y)*c}};return{start:a,startControl:b,endControl:c,end:d,subdivide:function(h){var k=
g(a,b,h),m=g(b,c,h),n=g(c,d,h),q=g(k,m,h),m=g(m,n,h);h=g(q,m,h);return[H(a,k,q,h),H(h,m,n,d)]},curveTo:function(a){a.push(["bezierCurve",b.x,b.y,c.x,c.y,d.x,d.y])},curveToReversed:function(d){d.push(["bezierCurve",c.x,c.y,b.x,b.y,a.x,a.y])}}}function X(a,b,c,d,g,h,k){0<b[0]||0<b[1]?(a.push(["line",d[0].start.x,d[0].start.y]),d[0].curveTo(a),d[1].curveTo(a)):a.push(["line",h,k]);(0<c[0]||0<c[1])&&a.push(["line",g[0].start.x,g[0].start.y])}function T(a,b,c,d,g,h,k){var m=[];0<b[0]||0<b[1]?(m.push(["line",
d[1].start.x,d[1].start.y]),d[1].curveTo(m)):m.push(["line",a.c1[0],a.c1[1]]);0<c[0]||0<c[1]?(m.push(["line",h[0].start.x,h[0].start.y]),h[0].curveTo(m),m.push(["line",k[0].end.x,k[0].end.y]),k[0].curveToReversed(m)):(m.push(["line",a.c2[0],a.c2[1]]),m.push(["line",a.c3[0],a.c3[1]]));0<b[0]||0<b[1]?(m.push(["line",g[1].end.x,g[1].end.y]),g[1].curveToReversed(m)):m.push(["line",a.c4[0],a.c4[1]]);return m}function P(a,b,c){var d,g,h,k,m,n,q,e,f=b.left,p=b.top,P=b.width,y=b.height,r,z,u,U,s=J(a);e=b.left;
r=b.top;n=b.width;q=b.height;g=s[0][0];h=s[0][1];k=s[1][0];m=s[1][1];var t=s[2][0],B=s[2][1];z=s[3][0];u=s[3][1];var Ca=n-k,H=q-B,Y=n-t,x=q-u;d=V(e,r,g,h).topLeft.subdivide(0.5);g=V(e+c[3].width,r+c[0].width,Math.max(0,g-c[3].width),Math.max(0,h-c[0].width)).topLeft.subdivide(0.5);h=V(e+Ca,r,k,m).topRight.subdivide(0.5);k=V(e+Math.min(Ca,n+c[3].width),r+c[0].width,Ca>n+c[3].width?0:k-c[3].width,m-c[0].width).topRight.subdivide(0.5);m=V(e+Y,r+H,t,B).bottomRight.subdivide(0.5);n=V(e+Math.min(Y,n+c[3].width),
r+Math.min(H,q+c[0].width),Math.max(0,t-c[1].width),Math.max(0,B-c[2].width)).bottomRight.subdivide(0.5);q=V(e,r+x,z,u).bottomLeft.subdivide(0.5);e=V(e+c[3].width,r+x,Math.max(0,z-c[3].width),Math.max(0,u-c[2].width)).bottomLeft.subdivide(0.5);r=[];switch(D(a,"backgroundClip")){case "content-box":case "padding-box":X(r,s[0],s[1],g,k,b.left+c[3].width,b.top+c[0].width);X(r,s[1],s[2],k,n,b.left+b.width-c[1].width,b.top+c[0].width);X(r,s[2],s[3],n,e,b.left+b.width-c[1].width,b.top+b.height-c[2].width);
X(r,s[3],s[0],e,g,b.left+c[3].width,b.top+b.height-c[2].width);break;default:X(r,s[0],s[1],d,h,b.left,b.top),X(r,s[1],s[2],h,m,b.left+b.width,b.top),X(r,s[2],s[3],m,q,b.left+b.width,b.top+b.height),X(r,s[3],s[0],q,d,b.left,b.top+b.height)}x={clip:r,borders:[]};for(a=0;4>a;a++)if(0<c[a].width){b=f;r=p;z=P;u=y-c[2].width;switch(a){case 0:u=c[0].width;U=T({c1:[b,r],c2:[b+z,r],c3:[b+z-c[1].width,r+u],c4:[b+c[3].width,r+u]},s[0],s[1],d,g,h,k);break;case 1:b=f+P-c[1].width;z=c[1].width;U=T({c1:[b+z,r],
c2:[b+z,r+u+c[2].width],c3:[b,r+u],c4:[b,r+c[0].width]},s[1],s[2],h,k,m,n);break;case 2:r=r+y-c[2].width;u=c[2].width;U=T({c1:[b+z,r+u],c2:[b,r+u],c3:[b+c[3].width,r],c4:[b+z-c[3].width,r]},s[2],s[3],m,n,q,e);break;case 3:z=c[3].width,U=T({c1:[b,r+u+c[2].width],c2:[b,r],c3:[b+z,r+c[0].width],c4:[b+z,r+u]},s[3],s[0],q,e,d,g)}x.borders.push({args:U,color:c[a].color})}return x}function fa(a,b){var c=a.drawShape();b.forEach(function(a,b){c[0===b?"moveTo":a[0]+"To"].apply(null,a.slice(1))});return c}function U(a,
b,c){var d=t.createElement("valuewrap");"lineHeight textAlign fontFamily color fontSize paddingLeft paddingTop width height border borderLeftWidth borderTopWidth".split(" ").forEach(function(b){try{d.style[b]=D(a,b)}catch(c){K.log("html2canvas: Parse: Exception caught in renderFormValue: "+c.message)}});d.style.borderColor="black";d.style.borderStyle="solid";d.style.display="block";d.style.position="absolute";if(/^(submit|reset|button|text|password)$/.test(a.type)||"SELECT"===a.nodeName)d.style.lineHeight=
D(a,"height");d.style.top=b.top+"px";d.style.left=b.left+"px";b="SELECT"===a.nodeName?(a.options[a.selectedIndex]||0).text:a.value;b||(b=a.placeholder);b=t.createTextNode(b);d.appendChild(b);Z.appendChild(d);s(a,b,c);Z.removeChild(d)}function Y(a){a.drawImage.apply(a,Array.prototype.slice.call(arguments,1))}function W(b,c){var g=a.getComputedStyle(b,c);if(g&&g.content&&"none"!==g.content&&"-moz-alt-content"!==g.content&&"none"!==g.display){var h=g.content+"",k=h.substr(0,1);k===h.substr(h.length-
1)&&k.match(/'|"/)&&(h=h.substr(1,h.length-2));var k="url"===h.substr(0,3),l=d.createElement(k?"img":"span");l.className=O+"-before "+O+"-after";Object.keys(g).filter(va).forEach(function(a){try{l.style[a]=g[a]}catch(b){K.log(["Tried to assign readonly property ",a,"Error:",b])}});k?l.src=K.parseBackgroundImage(h)[0].args[0]:l.innerHTML=h;return l}}function va(b){return isNaN(a.parseInt(b,10))}function ua(a,b){var c=W(a,":before"),d=W(a,":after");if(c||d)c&&(a.className+=" "+O+"-before",a.parentNode.insertBefore(c,
a),pa(c,b,!0),a.parentNode.removeChild(c),a.className=a.className.replace(O+"-before","").trim()),d&&(a.className+=" "+O+"-after",a.appendChild(d),pa(d,b,!0),a.removeChild(d),a.className=a.className.replace(O+"-after","").trim())}function qa(a,b,c,d){var g=Math.round(d.left+c.left);c=Math.round(d.top+c.top);a.createPattern(b);a.translate(g,c);a.fill();a.translate(-g,-c)}function da(a,b,c,d,g,h,k,m){var n=[];n.push(["line",Math.round(g),Math.round(h)]);n.push(["line",Math.round(g+k),Math.round(h)]);
n.push(["line",Math.round(g+k),Math.round(m+h)]);n.push(["line",Math.round(g),Math.round(m+h)]);fa(a,n);a.save();a.clip();qa(a,b,c,d);a.restore()}function ha(a,b,c){for(var d=D(a,"backgroundImage"),g=K.parseBackgroundImage(d),h,k=g.length;k--;)if(d=g[k],d.args&&0!==d.args.length)if(h=F("url"===d.method?d.args[0]:d.value)){var m=a,d=b,n=c,q=h;h=k;var e=K.BackgroundSize(m,d,q,h),f=K.BackgroundPosition(m,d,q,h,e),m=D(m,"backgroundRepeat").split(",").map(K.trimText);if(q.width!==e.width||q.height!==e.height){var p=
void 0,P=t.createElement("canvas");P.width=e.width;P.height=e.height;p=P.getContext("2d");Y(p,q,0,0,q.width,q.height,0,0,e.width,e.height);q=P}m=m[h]||m[0];switch(m){case "repeat-x":da(n,q,f,d,d.left,d.top+f.top,99999,q.height);break;case "repeat-y":da(n,q,f,d,d.left+f.left,d.top,q.width,99999);break;case "no-repeat":da(n,q,f,d,d.left+f.left,d.top+f.top,q.width,q.height);break;default:qa(n,q,f,{top:d.top,left:d.left,width:q.width,height:q.height})}}else K.log("html2canvas: Error loading background:",
d)}function ra(a){return a.replace("px","")}function oa(a,b){var c=D(a,"transform")||D(a,"-webkit-transform")||D(a,"-moz-transform")||D(a,"-ms-transform")||D(a,"-o-transform"),d=D(a,"transform-origin")||D(a,"-webkit-transform-origin")||D(a,"-moz-transform-origin")||D(a,"-ms-transform-origin")||D(a,"-o-transform-origin")||"0px 0px",d=d.split(" ").map(ra).map(K.asFloat),g;if(c&&"none"!==c&&(c=c.match(wa)))switch(c[1]){case "matrix":g=c[2].split(",").map(K.trimText).map(K.asFloat)}return{origin:d,matrix:g}}
function sa(a,b,c,d){var h=m(b?c.width:Math.max(Math.max(t.body.scrollWidth,t.documentElement.scrollWidth),Math.max(t.body.offsetWidth,t.documentElement.offsetWidth),Math.max(t.body.clientWidth,t.documentElement.clientWidth)),b?c.height:Math.max(Math.max(t.body.scrollHeight,t.documentElement.scrollHeight),Math.max(t.body.offsetHeight,t.documentElement.offsetHeight),Math.max(t.body.clientHeight,t.documentElement.clientHeight)));d={ctx:h,opacity:h.setVariable("globalAlpha",D(a,"opacity")*(b?b.opacity:
1)),cssPosition:D(a,"position"),borders:C(a),transform:d,clip:b&&b.clip?K.Extend({},b.clip):null};var l="static"!==d.cssPosition,k=l?D(a,"zIndex"):"auto",q=D(a,"opacity"),p="none"!==D(a,"cssFloat");d.zIndex=h={zindex:k,children:[]};h.isPositioned=l;h.isFloated=p;h.opacity=q;h.ownStacking="auto"!==k||1>q;b&&b.zIndex.children.push(d);!0===g.useOverflow&&!0===/(hidden|scroll|auto)/.test(D(a,"overflow"))&&!1===/(BODY)/i.test(a.nodeName)&&(d.clip=d.clip?Q(d.clip,c):c);return d}function ea(a,b,c){a={left:b.left+
a[3].width,top:b.top+a[0].width,width:b.width-(a[1].width+a[3].width),height:b.height-(a[0].width+a[2].width)};c&&(a=Q(a,c));return a}function ja(a,b){var c=b.matrix?K.OffsetBounds(a):K.Bounds(a);b.origin[0]+=c.left;b.origin[1]+=c.top;return c}function ca(a,b,c,d){var g=oa(a,b),h=ja(a,g),k;b=sa(a,b,h,g);var g=b.borders,m=b.ctx,n=ea(g,h,b.clip),q=P(a,h,g),e=M.test(a.nodeName)?"#efefef":D(a,"backgroundColor");fa(m,q.clip);m.save();m.clip();0<n.height&&0<n.width&&!d?(u(m,h.left,h.top,h.width,h.height,
e),ha(a,n,m)):d&&(b.backgroundColor=e);m.restore();q.borders.forEach(function(a){var b=a.args;a=a.color;"transparent"!==a&&(m.setVariable("fillStyle",a),fa(m,b),m.fill())});c||ua(a,b);switch(a.nodeName){case "IMG":(k=F(a.getAttribute("src")))?G(m,a,k,h,g):K.log("html2canvas: Error loading \x3cimg\x3e:"+a.getAttribute("src"));break;case "INPUT":/^(text|url|email|submit|button|reset)$/.test(a.type)&&0<(a.value||a.placeholder||"").length&&U(a,h,b);break;case "TEXTAREA":0<(a.value||a.placeholder||"").length&&
U(a,h,b);break;case "SELECT":0<(a.options||a.placeholder||"").length&&U(a,h,b);break;case "LI":N(a,b,n);break;case "CANVAS":G(m,a,a,h,g)}return b}function pa(a,b,c){"none"===D(a,"display")||"hidden"===D(a,"visibility")||a.hasAttribute("data-html2canvas-ignore")||(b=ca(a,b,c,!1)||b,M.test(a.nodeName)||na(a,b,c))}function na(a,b,c){K.Children(a).forEach(function(d){d.nodeType===d.ELEMENT_NODE?pa(d,b,c):d.nodeType===d.TEXT_NODE&&s(a,d,b)})}a.scroll(0,0);var la=g.elements===b?d.body:g.elements[0],t=la.ownerDocument,
K=k.Util,x=K.Support(g,t),M=RegExp("("+g.ignoreElements+")"),Z=t.body,D=K.getCSS,O="___html2canvas___pseudoelement",aa=t.createElement("style");aa.innerHTML="."+O+'-before:before { content: "" !important; display: none !important; }.'+O+'-after:after { content: "" !important; display: none !important; }';Z.appendChild(aa);c=c||{};var V=function(a){return function(b,c,d,g){var h=d*a,k=g*a;d=b+d;g=c+g;return{topLeft:H({x:b,y:g},{x:b,y:g-k},{x:d-h,y:c},{x:d,y:c}),topRight:H({x:b,y:c},{x:b+h,y:c},{x:d,
y:g-k},{x:d,y:g}),bottomRight:H({x:d,y:c},{x:d,y:c+k},{x:b+h,y:g},{x:b,y:g}),bottomLeft:H({x:d,y:g},{x:d-h,y:g},{x:b,y:c+k},{x:b,y:c})}}}(4*((Math.sqrt(2)-1)/3)),wa=/(matrix)\((.+)\)/;return function(){var a=D(d.documentElement,"backgroundColor"),b=K.isTransparent(a)&&la===d.body,c=ca(la,null,!1,b);na(la,c);b&&(a=c.backgroundColor);Z.removeChild(aa);return{backgroundColor:a,stack:c}}()};k.Preload=function(c){function g(){F.log("html2canvas: start: images: "+s.numLoaded+" / "+s.numTotal+" (failed: "+
s.numFailed+")");!s.firstRun&&s.numLoaded>=s.numTotal&&(F.log("Finished loading images: # "+s.numTotal+" (failed: "+s.numFailed+")"),"function"===typeof c.complete&&c.complete(s))}function h(d,k,m){var q,p=c.proxy,P;T.href=d;d=T.href;p=-1<p.indexOf("?")?p+"\x26":p+"?";p+="url\x3d"+encodeURIComponent(d);c.proxyReturnsImg?(u(k,m),k.src=p):(q="html2canvas_"+C++,m.callbackname=q,p+="\x26callback\x3d"+q,P=J.createElement("script"),a[q]=function(c){"error:"===c.substring(0,6)?(m.succeeded=!1,s.numLoaded++,
s.numFailed++,g()):(u(k,m),k.src=c);a[q]=b;try{delete a[q]}catch(d){}P.parentNode.removeChild(P);P=null;delete m.script;delete m.callbackname},P.setAttribute("type","text/javascript"),P.setAttribute("src",p),m.script=P,a.document.body.appendChild(P))}function m(b,c){var d=a.getComputedStyle(b,c),g=d.content;"url"===g.substr(0,3)&&Q.loadImage(k.Util.parseBackgroundImage(g)[0].args[0]);y(d.backgroundImage,b)}function q(a){return a&&a.method&&a.args&&0<a.args.length}function y(a,c){var d;k.Util.parseBackgroundImage(a).filter(q).forEach(function(a){if("url"===
a.method)Q.loadImage(a.args[0]);else if(a.method.match(/\-?gradient$/)){d===b&&(d=k.Util.Bounds(c));a=a.value;var h=k.Generate.Gradient(a,d);h!==b&&(s[a]={img:h,succeeded:!0},s.numTotal++,s.numLoaded++,g())}})}function r(a){var c=!1;try{F.Children(a).forEach(r)}catch(d){}try{c=a.nodeType}catch(g){c=!1,F.log("html2canvas: failed to access some element's nodeType - Exception: "+g.message)}if(1===c||c===b){m(a,":before");m(a,":after");try{y(F.getCSS(a,"backgroundImage"),a)}catch(h){F.log("html2canvas: failed to get background-image - Exception: "+
h.message)}y(a)}}function u(d,k){d.onload=function(){k.timer!==b&&a.clearTimeout(k.timer);s.numLoaded++;k.succeeded=!0;d.onerror=d.onload=null;g()};d.onerror=function(){if("anonymous"===d.crossOrigin&&(a.clearTimeout(k.timer),c.proxy)){var b=d.src;d=new Image;k.img=d;d.src=b;h(d.src,d,k);return}s.numLoaded++;s.numFailed++;k.succeeded=!1;d.onerror=d.onload=null;g()}}var s={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},N,F=k.Util,Q,G,C=0;G=c.elements[0]||d.body;var J=G.ownerDocument,H=G.getElementsByTagName("img"),
X=H.length,T=J.createElement("a"),P=function(a){return a.crossOrigin!==b}(new Image),fa;T.href=a.location.href;N=T.protocol+T.host;Q={loadImage:function(a){var d,g;a&&s[a]===b&&(d=new Image,a.match(/data:image\/.*;base64,/i)?(d.src=a.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),g=s[a]={img:d},s.numTotal++,u(d,g)):(T.href=a,T.href=T.href,T.protocol+T.host===N||!0===c.allowTaint?(g=s[a]={img:d},s.numTotal++,u(d,g),d.src=a):P&&!c.allowTaint&&c.useCORS?(d.crossOrigin="anonymous",g=s[a]={img:d},s.numTotal++,
u(d,g),d.src=a):c.proxy&&(g=s[a]={img:d},s.numTotal++,h(a,d,g))))},cleanupDOM:function(h){var k,m;if(!s.cleanupDone){h&&"string"===typeof h?F.log("html2canvas: Cleanup because: "+h):F.log("html2canvas: Cleanup after timeout: "+c.timeout+" ms.");for(m in s)if(s.hasOwnProperty(m)&&(k=s[m],"object"===typeof k&&k.callbackname&&k.succeeded===b)){a[k.callbackname]=b;try{delete a[k.callbackname]}catch(q){}k.script&&k.script.parentNode&&(k.script.setAttribute("src","about:blank"),k.script.parentNode.removeChild(k.script));
s.numLoaded++;s.numFailed++;F.log("html2canvas: Cleaned up failed img: '"+m+"' Steps: "+s.numLoaded+" / "+s.numTotal)}a.stop!==b?a.stop():d.execCommand!==b&&d.execCommand("Stop",!1);d.close!==b&&d.close();s.cleanupDone=!0;h&&"string"===typeof h||g()}},renderingDone:function(){fa&&a.clearTimeout(fa)}};0<c.timeout&&(fa=a.setTimeout(Q.cleanupDOM,c.timeout));F.log("html2canvas: Preload starts: finding background-images");s.firstRun=!0;r(G);F.log("html2canvas: Preload: Finding images");for(G=0;G<X;G+=
1)Q.loadImage(H[G].getAttribute("src"));s.firstRun=!1;F.log("html2canvas: Preload: Done.");s.numTotal===s.numLoaded&&g();return Q};k.Renderer=function(a,c){return function(a){if("string"===typeof c.renderer&&k.Renderer[a]!==b)a=k.Renderer[a](c);else if("function"===typeof a)a=a(c);else throw Error("Unknown renderer");if("function"!==typeof a)throw Error("Invalid renderer defined");return a}(c.renderer)(a,c,d,function(a){function c(a){Object.keys(a).sort().forEach(function(b){var g=[],h=[],k=[],m=
[];a[b].forEach(function(a){a.node.zIndex.isPositioned||1>a.node.zIndex.opacity?k.push(a):a.node.zIndex.isFloated?h.push(a):g.push(a)});(function G(a){a.forEach(function(a){m.push(a);a.children&&G(a.children)})})(g.concat(h,k));m.forEach(function(a){a.context?c(a.context):d.push(a.node)})})}var d=[];a=function(a){function c(a,d,g){var h="auto"===d.zIndex.zindex?0:Number(d.zIndex.zindex),k=a,m=d.zIndex.isPositioned,q=d.zIndex.isFloated,n={node:d},p=g;if(d.zIndex.ownStacking)k=n.context={"!":[{node:d,
children:[]}]},p=b;else if(m||q)p=n.children=[];0===h&&g?g.push(n):(a[h]||(a[h]=[]),a[h].push(n));d.zIndex.children.forEach(function(a){c(k,a,p)})}var d={};c(d,a);return d}(a);c(a);return d}(a.stack),k)};k.Util.Support=function(a,c){function d(){var a=new Image,g=c.createElement("canvas"),h=g.getContext===b?!1:g.getContext("2d");if(!1===h)return!1;g.width=g.height=10;a.src="data:image/svg+xml,\x3csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'10' height\x3d'10'\x3e\x3cforeignObject width\x3d'10' height\x3d'10'\x3e\x3cdiv xmlns\x3d'http://www.w3.org/1999/xhtml' style\x3d'width:10;height:10;'\x3esup\x3c/div\x3e\x3c/foreignObject\x3e\x3c/svg\x3e";
try{h.drawImage(a,0,0),g.toDataURL()}catch(m){return!1}k.Util.log("html2canvas: Parse: SVG powered rendering available");return!0}return{rangeBounds:function(){var a,b,d=!1;c.createRange&&(a=c.createRange(),a.getBoundingClientRect&&(b=c.createElement("boundtest"),b.style.height="123px",b.style.display="block",c.body.appendChild(b),a.selectNode(b),a=a.getBoundingClientRect(),a=a.height,123===a&&(d=!0),c.body.removeChild(b)));return d}(),svgRendering:a.svgRendering&&d()}};a.html2canvas=function(b,c){b=
b.length?b:[b];var d,g,h={logging:!1,elements:b,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"},h=k.Util.Extend(c,h);k.logging=h.logging;h.complete=function(a){if("function"!==typeof h.onpreloaded||!1!==h.onpreloaded(a))if(d=k.Parse(a,h),"function"!==typeof h.onparsed||!1!==h.onparsed(d))if(g=k.Renderer(d,h),"function"===typeof h.onrendered)h.onrendered(g)};
a.setTimeout(function(){k.Preload(h)},0);return{render:function(a,b){return k.Renderer(a,k.Util.Extend(b,h))},parse:function(a,b){return k.Parse(a,k.Util.Extend(b,h))},preload:function(a){return k.Preload(k.Util.Extend(a,h))},log:k.Util.log}};a.html2canvas.log=k.Util.log;a.html2canvas.Renderer={Canvas:b};k.Renderer.Canvas=function(a){function c(a,b){a.beginPath();b.forEach(function(b){a[b.name].apply(a,b.arguments)});a.closePath()}a=a||{};var g=d,h=[],m=d.createElement("canvas"),u=m.getContext("2d"),
r=k.Util,E=a.canvas||g.createElement("canvas");return function(d,k,F,Q,G){var C=E.getContext("2d"),J,H=d.stack;E.width=E.style.width=k.width||H.ctx.width;E.height=E.style.height=k.height||H.ctx.height;J=C.fillStyle;C.fillStyle=r.isTransparent(H.backgroundColor)&&k.background!==b?k.background:d.backgroundColor;C.fillRect(0,0,E.width,E.height);C.fillStyle=J;Q.forEach(function(b){C.textBaseline="bottom";C.save();b.transform.matrix&&(C.translate(b.transform.origin[0],b.transform.origin[1]),C.transform.apply(C,
b.transform.matrix),C.translate(-b.transform.origin[0],-b.transform.origin[1]));b.clip&&(C.beginPath(),C.rect(b.clip.left,b.clip.top,b.clip.width,b.clip.height),C.clip());b.ctx.storage&&b.ctx.storage.forEach(function(b){var d=C;switch(b.type){case "variable":d[b.name]=b.arguments;break;case "function":switch(b.name){case "createPattern":if(0<b.arguments[0].width&&0<b.arguments[0].height)try{d.fillStyle=d.createPattern(b.arguments[0],"repeat")}catch(k){r.log("html2canvas: Renderer: Error creating pattern",
k.message)}break;case "drawShape":c(d,b.arguments);break;case "drawImage":if(0<b.arguments[8]&&0<b.arguments[7]){var s;if(!(s=!a.taintTest)&&(s=a.taintTest))a:{if(-1===h.indexOf(b.arguments[0].src)){u.drawImage(b.arguments[0],0,0);try{u.getImageData(0,0,1,1)}catch(H){m=g.createElement("canvas");u=m.getContext("2d");s=!1;break a}h.push(b.arguments[0].src)}s=!0}s&&d.drawImage.apply(d,b.arguments)}break;default:d[b.name].apply(d,b.arguments)}}});C.restore()});r.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj");
if(1===k.elements.length&&"object"===typeof k.elements[0]&&"BODY"!==k.elements[0].nodeName){d=G.Util.Bounds(k.elements[0]);F=F.createElement("canvas");F.width=Math.ceil(d.width);F.height=Math.ceil(d.height);C=F.getContext("2d");if($.browser.mozilla||$.browser.msie)d.top=Math.max(d.top,0);C.drawImage(E,d.left,d.top,d.width,d.height,0,0,d.width,d.height);E=null;return F}return E}}})(window,document);
(function(){function a(){}function d(a,b){for(var d=a.length;d--;)if(a[d].listener===b)return d;return-1}var b=a.prototype;b.getListeners=function(a){var b,d,m=this._getEvents();if("object"==typeof a)for(d in b={},m)m.hasOwnProperty(d)&&a.test(d)&&(b[d]=m[d]);else b=m[a]||(m[a]=[]);return b};b.flattenListeners=function(a){var b,d=[];for(b=0;a.length>b;b+=1)d.push(a[b].listener);return d};b.getListenersAsObject=function(a){var b,d=this.getListeners(a);return d instanceof Array&&(b={},b[a]=d),b||d};
b.addListener=function(a,b){var h,m=this.getListenersAsObject(a),k="object"==typeof b;for(h in m)m.hasOwnProperty(h)&&-1===d(m[h],b)&&m[h].push(k?b:{listener:b,once:!1});return this};b.on=b.addListener;b.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})};b.once=b.addOnceListener;b.defineEvent=function(a){return this.getListeners(a),this};b.defineEvents=function(a){for(var b=0;a.length>b;b+=1)this.defineEvent(a[b]);return this};b.removeListener=function(a,b){var h,m,k=this.getListenersAsObject(a);
for(m in k)k.hasOwnProperty(m)&&(h=d(k[m],b),-1!==h&&k[m].splice(h,1));return this};b.off=b.removeListener;b.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)};b.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)};b.manipulateListeners=function(a,b,d){var m,k,u=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(m=d.length;m--;)u.call(this,b,d[m]);else for(m in b)b.hasOwnProperty(m)&&(k=
b[m])&&("function"==typeof k?u.call(this,m,k):a.call(this,m,k));return this};b.removeEvent=function(a){var b,d=typeof a,m=this._getEvents();if("string"===d)delete m[a];else if("object"===d)for(b in m)m.hasOwnProperty(b)&&a.test(b)&&delete m[b];else delete this._events;return this};b.emitEvent=function(a,b){var d,m,k,u,z=this.getListenersAsObject(a);for(k in z)if(z.hasOwnProperty(k))for(m=z[k].length;m--;)d=z[k][m],u=d.listener.apply(this,b||[]),u!==this._getOnceReturnValue()&&!0!==d.once||this.removeListener(a,
z[k][m].listener);return this};b.trigger=b.emitEvent;b.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)};b.setOnceReturnValue=function(a){return this._onceReturnValue=a,this};b._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};b._getEvents=function(){return this._events||(this._events={})};"function"==typeof define&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=
a:this.EventEmitter=a}).call(this);
(function(a){var d=document.documentElement,b=function(){};d.addEventListener?b=function(a,b,c){a.addEventListener(b,c,!1)}:d.attachEvent&&(b=function(b,c,d){b[c+d]=d.handleEvent?function(){var b=a.event;b.target=b.target||b.srcElement;d.handleEvent.call(d,b)}:function(){var c=a.event;c.target=c.target||c.srcElement;d.call(b,c)};b.attachEvent("on"+c,b[c+d])});var c=function(){};d.removeEventListener?c=function(a,b,c){a.removeEventListener(b,c,!1)}:d.detachEvent&&(c=function(a,b,c){a.detachEvent("on"+
b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});d={bind:b,unbind:c};"function"==typeof define&&define.amd?define(d):a.eventie=d})(this);
(function(a){function d(a,b){for(var c in b)a[c]=b[c];return a}function b(a){var b=[];if("[object Array]"===k.call(a))b=a;else if("number"==typeof a.length)for(var c=0,d=a.length;d>c;c++)b.push(a[c]);else b.push(a);return b}function c(a,c){function k(a,c,h){if(!(this instanceof k))return new k(a,c);"string"==typeof a&&(a=document.querySelectorAll(a));this.elements=b(a);this.options=d({},this.options);"function"==typeof c?h=c:d(this.options,c);h&&this.on("always",h);this.getImages();g&&(this.jqDeferred=
new g.Deferred);var m=this;setTimeout(function(){m.check()})}function p(a){this.img=a}k.prototype=new a;k.prototype.options={};k.prototype.getImages=function(){this.images=[];for(var a=0,b=this.elements.length;b>a;a++){var c=this.elements[a];"IMG"===c.nodeName&&this.addImage(c);for(var c=c.querySelectorAll("img"),d=0,g=c.length;g>d;d++)this.addImage(c[d])}};k.prototype.addImage=function(a){a=new p(a);this.images.push(a)};k.prototype.check=function(){function a(g,k){return b.options.debug&&m&&h.log("confirm",
g,k),b.progress(g),c++,c===d&&b.complete(),!0}var b=this,c=0,d=this.images.length;if(this.hasAnyBroken=!1,!d)return this.complete(),void 0;for(var g=0;d>g;g++){var k=this.images[g];k.on("confirm",a);k.check()}};k.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a);b.jqDeferred&&b.jqDeferred.notify(b,a)})};k.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(a,
b),b.emit("always",b),b.jqDeferred)b.jqDeferred[b.hasAnyBroken?"reject":"resolve"](b)})};g&&(g.fn.imagesLoaded=function(a,b){return(new k(this,a,b)).jqDeferred.promise(g(this))});var B={};return p.prototype=new a,p.prototype.check=function(){var a=B[this.img.src];if(a)return this.useCached(a),void 0;if(B[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;a=this.proxyImage=new Image;c.bind(a,"load",this);c.bind(a,
"error",this);a.src=this.img.src},p.prototype.useCached=function(a){if(a.isConfirmed)this.confirm(a.isLoaded,"cached was confirmed");else{var b=this;a.on("confirm",function(a){return b.confirm(a.isLoaded,"cache emitted confirmed"),!0})}},p.prototype.confirm=function(a,b){this.isConfirmed=!0;this.isLoaded=a;this.emit("confirm",this,b)},p.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},p.prototype.onload=function(){this.confirm(!0,"onload");this.unbindProxyEvents()},p.prototype.onerror=
function(){this.confirm(!1,"onerror");this.unbindProxyEvents()},p.prototype.unbindProxyEvents=function(){c.unbind(this.proxyImage,"load",this);c.unbind(this.proxyImage,"error",this)},k}var g=a.jQuery,h=a.console,m=void 0!==h,k=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],c):a.imagesLoaded=c(a.EventEmitter,a.eventie)})(window);
$.extend({dmrt:function(){var a={},d=$.DM.getQueryParam(window.location.href,"nee")?!0:!1;$.modules={};return{initReady:function(b){for(var c in a)null!=a[c][b]&&null!=a[c][b].ready?a[c][b].ready(d):a[c]["default"].ready(d)},initLoad:function(b){for(var c in a)null!=a[c][b]&&null!=a[c][b].load?a[c][b].load(d):a[c]["default"].load(d)},refreshComponent:function(b,c,d){a[b][c].ready?a[b][c].ready(d):a[b]["default"].ready(d);a[b][c].load?a[b][c].load(d):a[b]["default"].load(d)},initGoogleMapsWidgets:function(){var b,
c;for(c in a)(b=$.modules[c])&&typeof b.isGoogleMapsWidget&&b.initGoogleMaps&&b.initGoogleMaps(google)},register:function(b,c){a[b]=c},components:a,isEditorMode:d}}()});(function(a){a.extend(a.modules,{basemodule:{}});a.dmrt.register("basemodule",{"default":{ready:function(a){},load:function(a){}},mobile:{},tablet:{},desktop:{}})})(jQuery);
(function(a,d){function b(b){var m=a.layoutDevice?a.layoutDevice.type:"mobile";b=b||d.google;switch(m){case "mobile":g(b);break;case "tablet":c(b);break;case "desktop":c(b);break;default:c(b)}}function c(b){jQuery(".dmGeoLocation").each(function(c,d){function g(c){if(c){a(s).empty().attr("style","");E.hide();if(F.showAll){r.fadeIn("fast");var d=new b.maps.Map(s,{mapTypeId:b.maps.MapTypeId.ROADMAP}),k=new b.maps.LatLngBounds,m;for(c=0;c<q.length;c++)m=new b.maps.LatLng(q[c].latitude,q[c].longitude),
function(c){var k=new b.maps.Marker({position:m,title:q[c].title,map:d,clickable:!0});b.maps.event.addListener(k,"click",function(){z(q[c].uniqueId);y.hide();N.css("visibility","hidden");var b=a(".dmGeoViewStateWrapper");a(".dmStState").removeClass("isOff");b.removeClass("isOff");g(!1)})}(c),k.extend(m);d.fitBounds(k)}else{r.fadeIn("fast");k=new b.maps.LatLngBounds;c={zoom:14,center:new b.maps.LatLng(F.lat,F.lon),mapTypeId:b.maps.MapTypeId.ROADMAP};var n=new b.maps.Map(s,c);(function(){var a=new b.maps.Marker({position:new b.maps.LatLng(F.lat,
F.lon),title:F.title,map:n,clickable:!0});b.maps.event.addListener(a,"click",function(){p.find(".dmGeoViewStateWrapper .dmStState").removeClass("isOff");E.show();r.hide();y.hide()});k.extend(new b.maps.LatLng(F.lat,F.lon))})()}r.fadeIn("fast")}else r.hide(),F.showAll&&p.find(".dmGeoLocBtn").removeClass("geoDisabledState"),F.showAll?y.fadeIn("fast"):E.fadeIn("fast")}function z(b){a(".dmGeoStList").text(a(".dmGeoStList").attr("info"));var c=jQuery.grep(q,function(a){return a.uniqueId==b})[0];F.showAll=
!1;F.lat=c.latitude;F.lon=c.longitude;F.title=c.title;E.find(".dmGeoSVTitle").text(c.title);var d=c.phone?c.formattedAddress+", "+c.phone:c.formattedAddress;E.find(".dmGeoSVAddr").text(d);(c.phone||c.showPhone)&&E.find(".dmGeoSVPhone a").attr({href:"tel:"+c.phone,phone:c.phone});E.find(".dmGeoSVPhone").toggle(c.showPhone);if(c.url){var d=a(c.url),h=d.attr("raw_url");if(isDudaone&&h&&0==h.indexOf("/site/")){var h=a.layoutDevice?a.layoutDevice.type:"mobile",k=d.attr("href");d.attr("href",k+("\x26nee\x3dtrue\x26showOriginal\x3dtrue\x26dm_checkSync\x3d1\x26dm_device\x3d"+
h))}d.addClass("dmGeoSVGoToPage");E.find(".dmGeoSVGoToPage").replaceWith(d);isDudaone&&a.DM.initAjaxLinks(d);d.show()}else E.find(".dmGeoSVGoToPage").hide();E.find(".dmGeoSVMoreInfo").text(c.description||"");E.find(".dmGeoSVSeeAll").unbind("click").click(function(){F.showAll=!0;E.hide();y.show();p.find(".dmGeoLocBtn").removeClass("geoDisabledState");a(".dmGeoStList").text(a(".dmGeoStList").attr("list"));g(!0);a(".dmCall.voipReplacement").removeClass("revealPhoneNum");N.css("visibility","visible")})}
function n(b,c){for(var d=[],g=0;g<q.length;g++)d.push({latitude:q[g].latitude,longitude:q[g].longitude,id:q[g].uniqueId});for(var h=[],g=0;g<d.length;g++){var k=d[g],m=c-k.longitude,n=b-k.latitude,m=Math.sqrt(m*m+n*n);h[g]=k;h[g].distance=m}h.sort(function(a,b){return a.distance>b.distance?1:-1});d=h[0].id;p.find(".dmGeoLocBtn").addClass("geoDisabledState");y.find('li[geoid\x3d"'+d+'"]').data("mode",a(".dmGeoViewStateWrapper").hasClass("isOff")?"map":"list").click()}var p=a(d),B=p.attr("data-editor"),
q=JSON.parse(Base64.decode(B)).locations,y=p.find(".dmGeoMLocList"),r=p.find(".dmGeoMLocMapView"),E=p.find(".dmGeoSingleView").hide(),s=r.find(".dmGeoMLocMapViewMap")[0],B=p.find(".dmGeoMLocList li"),N=p.find(".dmGeoDesktopTitle"),F={},Q=0,G=0;F.showAll=!0;var C=p.find(".dmGeoViewStateWrapper"),J=p.find(".dmGeoStMap");p.find(".dmGeoStList").unbind("click").click(function(){a.dmrt.isEditorMode&&parent.jQuery.onefw&&!parent.jQuery.onefw.inPreviewMode||(J.removeClass("isOff"),C.removeClass("isOff"),
g(!1))});g(!0);J.unbind("click").click(function(){a.dmrt.isEditorMode&&parent.jQuery.onefw&&!parent.jQuery.onefw.inPreviewMode||(a(this).hasClass("isOff")?(J.removeClass("isOff"),C.removeClass("isOff"),g(!1)):(J.addClass("isOff"),C.addClass("isOff"),g(!0)),"undefined"!==typeof _&&_.isUseIscroll()&&a.layoutManager.refreshIscroll())});for(c=0;c<B.length;c++)a(B[c]).unbind("click").click(function(){a.layoutManager._isEditorMode&&parent.jQuery.onefw&&!parent.jQuery.onefw.inPreviewMode||(z(a(this).attr("geoid")),
N.css("visibility","hidden"),g(!0),E.show(),y.hide())});p.on("click",".dmGeoLocBtn",function(b){a.layoutManager._isEditorMode&&parent.jQuery.onefw&&!parent.jQuery.onefw.inPreviewMode||navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){currentUserPos=a;Q=a.coords.latitude;G=a.coords.longitude;p.find(".dmGeoViewStateWrapper .dmStState").removeClass("isOff");n(Q,G)},function(a){_userAgent==Enum.AgentType.Iphone?navigator.userAgent.match(/CriOS/i)?alert("We do not have permission to access your location. Please enable location access to Chrome in 'Settings / Privacy / Location Services'"):
navigator.userAgent.match(/Safari/i)?alert("We do not have permission to access your location. Please enable location access to Safari in 'Settings / Privacy / Location Services'"):alert("We do not have permission to access your location. Please enable access in your settings"):alert("We do not have permission to access your location. Please enable access in your settings")},{timeout:5E4})})})}function g(b){jQuery(".dmGeoLocation").each(function(c,d){function g(c){if(c){a(s).empty().attr("style",
"");E.hide();if(N.showAll){r.fadeIn("fast");var d=new b.maps.Map(s,{mapTypeId:b.maps.MapTypeId.ROADMAP}),k=new b.maps.LatLngBounds,m;for(c=0;c<q.length;c++)m=new b.maps.LatLng(q[c].latitude,q[c].longitude),function(c){var k=new b.maps.Marker({position:m,title:q[c].title,map:d,clickable:!0});b.maps.event.addListener(k,"click",function(){z(q[c].uniqueId);var b=a(".dmGeoViewStateWrapper");a(".dmStState").removeClass("isOff");b.removeClass("isOff");g(!1)})}(c),k.extend(m);d.fitBounds(k)}else{r.fadeIn("fast");
k=new b.maps.LatLngBounds;c={zoom:14,center:new b.maps.LatLng(N.lat,N.lon),mapTypeId:b.maps.MapTypeId.ROADMAP};var n=new b.maps.Map(s,c);(function(){var a=new b.maps.Marker({position:new b.maps.LatLng(N.lat,N.lon),title:N.title,map:n,clickable:!0});b.maps.event.addListener(a,"click",function(){p.find(".dmGeoViewStateWrapper .dmStState").removeClass("isOff");E.show();r.hide();y.hide()});k.extend(new b.maps.LatLng(N.lat,N.lon))})()}r.fadeIn("fast")}else isDudaone||r.hide(),N.showAll?(p.find(".dmGeoLocBtn").removeClass("geoDisabledState"),
y.fadeIn("fast"),E.hide()):(y.hide(),E.fadeIn("fast"))}function z(b){var c;a(".dmGeoStList").text(a(".dmGeoStList").attr("info"));var d=jQuery.grep(q,function(a){return a.uniqueId==b})[0];N.showAll=!1;N.lat=d.latitude;N.lon=d.longitude;N.title=d.title;E.find(".dmGeoSVTitle").text(d.title);c=d.phone?d.formattedAddress+", \x3c/br\x3e"+d.phone:d.formattedAddress;E.find(".dmGeoSVAddr").html(c);(d.phone||d.showPhone)&&E.find(".dmGeoSVPhone a").attr({href:"tel:"+d.phone,phone:d.phone});E.find(".dmGeoSVPhone").toggle(d.showPhone);
if(d.url){c=a(d.url);var g=c.attr("raw_url");if(isDudaone&&0==g.indexOf("/site/")){var g=a.layoutDevice?a.layoutDevice.type:"mobile",h=c.attr("href");c.attr("href",h+("\x26nee\x3dtrue\x26showOriginal\x3dtrue\x26dm_checkSync\x3d1\x26dm_device\x3d"+g))}c.addClass("dmGeoSVGoToPage");E.find(".dmGeoSVGoToPage").replaceWith(c);isDudaone&&a.DM.initAjaxLinks(c);c.show()}else E.find(".dmGeoSVGoToPage").hide();E.find(".dmGeoSVMoreInfo").text(d.description||"");E.find(".dmGeoSVSeeAll").unbind("click").click(function(){N.showAll=
!0;E.hide();y.show();p.find(".dmGeoLocBtn").removeClass("geoDisabledState");a(".dmGeoStList").text(a(".dmGeoStList").attr("list"))})}function n(b,c){for(var d=[],g=0;g<q.length;g++)d.push({latitude:q[g].latitude,longitude:q[g].longitude,id:q[g].uniqueId});for(var h=[],g=0;g<d.length;g++){var k=d[g],m=c-k.longitude,n=b-k.latitude,m=Math.sqrt(m*m+n*n);h[g]=k;h[g].distance=m}h.sort(function(a,b){return a.distance>b.distance?1:-1});d=h[0].id;p.find(".dmGeoLocBtn").addClass("geoDisabledState");y.find('li[geoid\x3d"'+
d+'"]').data("mode",a(".dmGeoViewStateWrapper").hasClass("isOff")?"map":"list").click()}var p=a(d),B=p.attr("data-editor"),q=JSON.parse(Base64.decode(B)).locations,y=p.find(".dmGeoMLocList"),r=p.find(".dmGeoMLocMapView"),E=p.find(".dmGeoSingleView").hide(),s=r.find(".dmGeoMLocMapViewMap")[0],B=p.find(".dmGeoMLocList li"),N={},F=0,Q=0;N.showAll=!0;isDudaone&&g(!0);var G=p.find(".dmGeoViewStateWrapper"),C=p.find(".dmStState"),J=p.find(".dmGeoStList"),H=p.find(".dmGeoStMap");J.unbind("click").click(function(){a.dmrt.isEditorMode&&
parent.jQuery.onefw&&!parent.jQuery.onefw.inPreviewMode||(C.removeClass("isOff"),G.removeClass("isOff"),g(!1))});H.unbind("click").click(function(){a.dmrt.isEditorMode&&parent.jQuery.onefw&&!parent.jQuery.onefw.inPreviewMode||(C.addClass("isOff"),G.addClass("isOff"),g(!0))});C.unbind("click").click(function(){a(this).hasClass("isOff")?(C.removeClass("isOff"),G.removeClass("isOff"),g(!1)):(C.addClass("isOff"),G.addClass("isOff"),g(!0));"undefined"!==typeof _&&_.isUseIscroll()&&a.layoutManager.refreshIscroll()});
for(c=0;c<B.length;c++)a(B[c]).unbind("click").click(function(){a.layoutManager._isEditorMode&&parent.jQuery.onefw&&!parent.jQuery.onefw.inPreviewMode||(z(a(this).attr("geoid")),"map"===a(this).data("mode")?(E.hide(),y.hide(),r.show(),g(!0)):(a.DM.scrollPreviewToElement(y,100),y.hide(),r.hide(),g(!1)),a(this).data("mode","list"))});p.on("click",".dmGeoLocBtn",function(b){a.layoutManager._isEditorMode&&parent.jQuery.onefw&&!parent.jQuery.onefw.inPreviewMode||navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){currentUserPos=
a;F=a.coords.latitude;Q=a.coords.longitude;p.find(".dmGeoViewStateWrapper .dmStState").removeClass("isOff");n(F,Q)},function(a){_userAgent==Enum.AgentType.Iphone?navigator.userAgent.match(/CriOS/i)?alert("We do not have permission to access your location. Please enable location access to Chrome in 'Settings / Privacy / Location Services'"):navigator.userAgent.match(/Safari/i)?alert("We do not have permission to access your location. Please enable location access to Safari in 'Settings / Privacy / Location Services'"):
alert("We do not have permission to access your location. Please enable access in your settings"):alert("We do not have permission to access your location. Please enable access in your settings")})})})}a.extend(a.modules,{geolocation:{initGoogleMaps:b,isGoogleMapsWidget:!0}});a.dmrt.register("geolocation",{"default":{ready:function(c){0<jQuery(".dmGeoLocation").length&&a.DM.loadExternalScriptAsync("https://maps.googleapis.com/maps/api/js?key\x3dAIzaSyBAwUOqPUB1CU31yDztoZYaUE7sPv4ktEI\x26sensor\x3dfalse\x26callback\x3djQuery.dmrt.initGoogleMapsWidgets",
b,!0)},load:function(a){},initGoogleMaps:b},mobile:{ready:function(c){0<jQuery(".dmGeoLocation").length&&(c||a.DM.loadExternalScriptAsync("https://maps.googleapis.com/maps/api/js?key\x3dAIzaSyBAwUOqPUB1CU31yDztoZYaUE7sPv4ktEI\x26sensor\x3dfalse\x26callback\x3djQuery.dmrt.initGoogleMapsWidgets",b,!0))},initGoogleMaps:g},tablet:{},desktop:{}})})(jQuery,window);
(function(a,d){function b(b){b=b||d.google;switch(a.layoutDevice?a.layoutDevice.type:"mobile"){case "mobile":c(b);break;default:c(b)}}function c(b){var c=a(".inlineMap");a.each(c,function(c,d){function h(a){q.center=a;B=new b.maps.Map(d,q);new b.maps.Marker({map:B,position:a})}var z=a(d),n=z.attr("data-lat"),p=z.attr("data-lng"),z=z.attr("data-address"),B,q={zoom:13,mapTypeId:b.maps.MapTypeId.ROADMAP},y=new b.maps.LatLng(n,p);n&&p?h(y):(n=new b.maps.Geocoder,n.geocode({address:z},function(a,c){c==
b.maps.GeocoderStatus.OK?h(a[0].geometry.location):h(new b.maps.LatLng(37.425525,-122.148219))}))})}a.extend(a.modules,{inlinemap:{inlineGMapInit:c,isGoogleMapsWidget:!0,initGoogleMaps:b}});a.dmrt.register("inlinemap",{"default":{ready:function(c){a.DM.loadExternalScriptAsync("https://maps.googleapis.com/maps/api/js?key\x3dAIzaSyBAwUOqPUB1CU31yDztoZYaUE7sPv4ktEI\x26sensor\x3dfalse\x26callback\x3djQuery.dmrt.initGoogleMapsWidgets",b)},load:function(a){},initGoogleMaps:c},mobile:{},tablet:{},desktop:{}})})(jQuery,
window);(function(a){a.extend(a.modules,{mobilekeyboarddetection:{}});a.dmrt.register("mobilekeyboarddetection",{"default":{ready:function(a){},load:function(a){}},mobile:{ready:function(d){a("body").on("focus","input, textarea",function(){a("body").addClass("hasMobileKeyboard")}).on("blur","input, textarea",function(){a("body").removeClass("hasMobileKeyboard")})},load:function(a){}},tablet:{},desktop:{}})})(jQuery);
(function(a){var d=function(){var a=parent&&parent.jQuery&&parent.jQuery.dmfw,c=!parent.jQuery.onefw&&$("body").hasClass("bodyInsideNee"),d=parent.jQuery.onefw&&!parent.jQuery.onefw.inPreviewMode;return!!a&&(c||d)};$.dmrt.register("photogallery",{initPhotoGallery:function(){$.layoutDevice&&$.dmrt.components.photogallery[$.layoutDevice.type].ready?$.dmrt.components.photogallery[$.layoutDevice.type].ready($.layoutManager._isEditorMode):$.dmrt.components.photogallery["default"].ready($.dmrt.isEditorMode)},
"default":{ready:function(b){function c(){var a=0,b=$(".dmPhotoGallery"),c=b.length;for(a;a<c;a++)$.dmrt.components.photogallery.initPhotoGalleryImpl($(b[a]))}0<a(".dmPhotoGallery").length&&$.DM.loadExternalScriptAsync("/_dm/s/rt/scripts/photoSwipe/klass.min.js",c,!0)},load:function(a){},resetImageSizes:function(a,c,d){function h(){$.each(z,function(a,b){$.dmrt.components.photogallery["default"].setImageHeight(b,u)})}var m=a.find("ul.gallery"),k=m.attr("data-dudaone-gallery-type")||"square",u=c?c.data("type"):
null,z=a.find("li.photoGalleryThumbs");a={attrToAdd:{"data-dudaone-gallery-type":u}};if(d||u&&k!==u)if(u&&(window.parent.$.dmsrv.updateElementAttributes(m,a),m.attr({"data-dudaone-gallery-type":u})),d&&(u=k),h(),window.parent.$.dmx)window.parent.$.dmx.events.on("numberOfColumnsChanged",h)},breakColumns:function(a){if(0<a.find("ul.galleryColumn").length){for(var c=a.find("li.photoGalleryThumbs").length,d=a.find("ul.galleryColumn"),h=d.length,m,k=0;k<c;k++)m=d[k%h],$(m).find("li.photoGalleryThumbs").eq(0).appendTo(a.find("ul").eq(0));
d.remove()}},splitToColumns:function(a,c){var d=$("body").hasClass("dmMobileBody"),h=a.children("ul").eq(0).attr("data-dudaone-gallery-type"),m=a.find("li.photoGalleryThumbs"),k,u=$("\x3cli class\x3d'galleryContainer'/\x3e"),z;isNaN(c)?c=d?2:4:2<c&&d&&(c=2);k=function(a){for(var b=[],c=0;c<a;c++){var d=$("\x3cul class\x3d'galleryColumn clearfix'/\x3e");d.css({width:100/a+"%"});b.push($(d))}return b}(c);$.each(m,function(a,b){var d=$(b);z=k[a%c];d.attr({index:a});d.css({opacity:0});d.appendTo(z);d.imagesLoaded(function(a){var b=
a.elements[0];if(0===$(b).width())var c=0,d=setInterval(function(){if(0!==$(b).width()||4<c)clearInterval(d),$.dmrt.components.photogallery["default"].setImageHeight(b,h);c+=1},500);else $.dmrt.components.photogallery["default"].setImageHeight(b,h)})});$.each(k,function(a,b){b.appendTo(u)});a.find(".dmPhotoGalleryHolder").html(u);imagesLoaded(a,function(){$.dmrt.components.photogallery["default"].resetImageSizes(a,null,!0)})},setImageHeight:function(a,c){var d,h=$(a),m=h.parents(".dmPhotoGallery").find("ul.galleryColumn").eq(0),
k=h.find("img").get(0),u=k.naturalWidth,k=k.naturalHeight;h.attr({"data-naturalWidth":u,"data-naturalHeight":k,"data-ratio":k/u});"asymetric"===c?(d=h.attr("data-ratio"),d=Math.ceil(h.parent().width()*d)-2):"square"===c&&(d=m.width());h.css({height:d}).animate({opacity:1},500)}},mobile:{},tablet:{},desktop:{},initPhotoGalleryImpl:function(a){function c(a){a=a.find("li:not(.galleryContainer)");for(var b=0;b<a.length;b++){var c=$(a[b]),d=c.find("img");d.data().parent=c;c.children("a").css({"background-image":"url('"+
g(d.attr("src"))+"')"});c.children("a").attr("href",h(c.children("a").attr("href")))}}function g(a){var b="mobile";$.layoutDevice&&$.layoutDevice.type&&"mobile"!==$.layoutDevice.type||(b="thumbnail");return a.getMultisizedPath(b)}function h(a){return $.layoutDevice&&$.layoutDevice.type?a.getMultisizedPath($.layoutDevice.type):a}function m(a,b){function c(){h.attr("isAll","false");h.html(h.data("viewless"));k.find("li").show()}function d(){h.attr("isAll","true");h.html(h.data("viewall"));isDudaone?
u(k):k.find("li:gt("+n+")").hide()}var g=b||{},h=g.viewAll||$(this),k=g.gallery||h.closest(".dmPhotoGallery"),m=k.attr("galleryOptionsParams"),n,m=eval("("+m+")");n=m.thumbnailsPerRow*m.rowsToShow-1;g.dontToggle?"true"==h.attr("isAll")?d():c():"true"==h.attr("isAll")?c():d();$.DM.isUseIscroll()&&$.layoutManager.refreshIscroll();if(-1!==window.location.href.indexOf("nee\x3d"))try{parent.jQuery.dmops.redrawSelection()}catch(p){}}function k(a,b){var c=b.thumbnailsPerRow*b.rowsToShow,d=a.find("li").length;
a.find("li").hide();5==b.thumbnailsPerRow?(c=b.rowsToShow,a.find(".gallery").removeClass("unEvenImages"),setTimeout(function(){for(var b=0;b<c;b++)$(a.find("li")[b]).show()},0),setTimeout(function(){a.find(".gallery").addClass("unEvenImages");$.browser.msie&&8<$.browser.version&&10>$.browser.version&&a.find(".gallery").addClass("ieFixes")},0)):(a.find("li:lt("+c+")").show(),setTimeout(function(){a.find(".gallery").removeClass("unEvenImages ieFixes")},0));d>c?(a.find(".photoGalleryViewAll").show(),
a.find(".photogalleryviewall").addClass("photoGalleryViewAll").show()):(a.find(".photoGalleryViewAll").hide(),a.find(".photogalleryviewall").hide());setTimeout(function(){-1!=window.location.href.indexOf("nee\x3d")&&parent.jQuery.dmops.redrawSelection()},0);return{numToShow:c,allLiElem:d}}function u(a){var b;b=a.children("ul");var c=a.attr("galleryOptionsParams"),d=b.attr("data-dudaone-gallery-cols")||4,g,h,c=eval("("+c+")");g=c.thumbnailsPerRow*c.rowsToShow;b=a.find("li:not(.galleryContainer)");
a.find("li:not(.galleryContainer)").hide();isDudaone&&(g=d*c.rowsToShow,h=0===g,p?n.find("li:lt("+g+")").show():$.each(b,function(a,b){($(b).attr("index")<g||h)&&$(b).show()}))}function z(a){B.captionAndToolbarHide=!0;B.captionAndToolbarAutoHideDelay=0;B.backButtonHideEnabled=!1;return r=$(a).photoSwipe(B)}var n,p,B,q,y,r,E;E=a.find(".photoGalleryViewAll, .photogalleryviewall");E.off("click.showAll").on("click.showAll",m);n=a;p="dm_fb_gallery"==n.attr("dmle_extension");B=n.attr("galleryOptionsParams");
B=eval("("+B+")");B=$.extend({},{enableMouseWheel:!1,enableKeyboard:!1},B);B.imageScaleMethod="fitNoUpscale";B.allowUserZoom=!1;B.backButtonHideEnabled=!1;if(0<n.find("li:not(.galleryContainer)").length){c(n);if(isDudaone&&!p){var s=n.find("ul.dmPhotoGalleryHolder").attr("data-dudaone-gallery-cols")||4;$.dmrt.components.photogallery["default"].breakColumns(n);$.dmrt.components.photogallery["default"].splitToColumns(n,s)}y=n.find("li:not(.galleryContainer)");q=B.thumbnailsPerRow*B.rowsToShow;isDudaone&&
s?(q=s*B.rowsToShow,u(n)):(n.find("li:not(.galleryContainer)").hide(),n.find("li:not(.galleryContainer):lt("+q+")").show());y.length>q?E.addClass("photoGalleryViewAll").show():E.hide();if(parent.jQuery.dmops)try{parent.jQuery.dmops.redrawSelection()}catch(N){}isDudaone||k(n,B);q=-1!==window.location.href.indexOf("nee\x3d");r={};if((!q||isDudaone)&&!p){var F,Q;q=n.find(".gallery a");q.sort(function(a,b){F=parseInt($(a).parent().attr("index"));Q=parseInt($(b).parent().attr("index"));return F<Q?-1:1});
r=q.photoSwipe(B)}else if(p){var G=$(n).find(".dmSocialGalleryHolder"),C=G.parent(".dmFacebookGallery"),J=C.find(".photoGalleryViewAll");r=n.find(".gallery a").on("click",function(c){if(d())isDudaone&&parent.jQuery&&parent.jQuery.onefw&&!parent.jQuery.onefw.inPreviewMode&&$dmfw().fireEventFromPreview(event,event.target);else{c.preventDefault();var p=$(this).find("img").attr("id"),q=z($(this)),r=C.find("h3.socialgalleryheader"),s=$(this).find("p.caption").html();$.ajax({url:"/_dm/s/rt/api/public/rt/getonlinephotos?id\x3d"+
p+"\x26platform\x3dfb\x26limit\x3d30"}).done(function(d){function p(){$(this).centerImageWithin($(".photoGalleryThumbs").eq(0),{stretch:!0})}function u(a){var b=q.cache.images[q.currentIndex].caption,c=C[q.currentIndex].likes;a=$(".ps-uilayer");var c=$("\x3cdiv class\x3d'statusContainer' /\x3e").append(c+" Likes  "),d=$("\x3cdiv class\x3d'caption' /\x3e").append(b),g=$("\x3ca class\x3d'closeBtn' /\x3e").html("done").on("click",function(){q.hide();$(".uiSocialContainer").html("").remove()}),b=$("\x3cdiv class\x3d'uiSocialContainer' /\x3e");
b.append(d,c,g);c=$(".uiSocialContainer");0<c.length&&c.remove();a.html("").after(b.css({opacity:1,"background-color":"transparent"}))}var y=$(n);y.data.albumDisplay=G.html();y.data.title=r.html();G.html("");r.html(s);var C=[];$(d).each(function(a){var b=d[a];a=$("\x3cimg /\x3e").attr({src:b.source,alt:b.caption}).get(0);var c=$('\x3cdiv class\x3d"statusContainer" /\x3e'),k;k=b.likes.toString();var m=k.length,n=k[0],r=k[1];3<m&&(k=7>m?4===m?n+"."+r+"k":n+""+r+"k":7===m?n+"."+r+"m":n+""+r+"m");m=$('\x3cspan class\x3d"likes" /\x3e').html(k);
$(m).appendTo(c);b=$('\x3ca class\x3d"thumb" /\x3e').attr({href:h(b.source),dm_dont_rewrite_url:"true"}).css("background-image","url('"+g(b.source)+"')").append(a,c);$('\x3cli class\x3d"photoGalleryThumbs" /\x3e').append(b).appendTo(G);c=q.settings.getImageSource(b[0]);m=q.settings.getImageCaption(a);a.onload=p;q.cache.images.push(new Code.PhotoSwipe.Image.ImageClass(b,c,m));C.push({likes:k})});q=z(G.find("a"));q.addEventHandler(window.Code.PhotoSwipe.EventTypes.onDisplayImage,function(a){u(a)});
k(n,B);y=$("\x3ca /\x3e").attr({"class":"backBtn"}).html("back to albums");1>$(n).find("a.backBtn").length&&$(n).append(y);y.on("click",function(c){$(this).remove();r.html($(n).data.title);var d=$(n).data.albumDisplay;G.html(d);$.dmrt.components.photogallery.initPhotoGalleryImpl(a);k(n,B);m(c,{gallery:n,viewAll:J,dontToggle:!0})});m(c,{gallery:n,viewAll:J,dontToggle:!0})})}})}}}})})($);
(function(a){$.dmrt.register("restmenu",{"default":{ready:function(a){},load:function(a){}},mobile:{ready:function(){if(isDudaone){var d=a(".dmRestaurantMenu .menuCategory");if(0<d.length)for(var b=0;b<d.length;b++)$(d[b]).unbind("click").click(function(a){a=$(this);a.find(".menuItemsWrapper").toggleClass("hidden");a=a.find(".menuCatArrow");a.hasClass("icon-chevron-up")?a.removeClass("icon-chevron-up").addClass("icon-chevron-down"):a.removeClass("icon-chevron-down").addClass("icon-chevron-up")})}}},
tablet:{},desktop:{ready:function(a){$(".dmRestaurantMenuDesktopLeftSideList li").each(function(a){$(this).off("click.goto").on("click.goto",function(a){return function(){var b=$(".dmRestaurantMenuDesktopRightSide li.menuCategory").eq(a);$.DM.scrollPreviewToElement(b)}}(a))})}}})})($);
(function(a){var d=function(a,b,d,m){d=d||600;m=m||560;if(a)return window.open(a,b,"toolbar\x3dno, location\x3dno, directories\x3dno, status\x3dno, menubar\x3dno, scrollbars\x3dno, resizable\x3dno, copyhistory\x3dno, width\x3d"+d+", height\x3d"+m+", top\x3d"+(screen.height/2-m/2)+", left\x3d"+(screen.width/2-d/2))},b=function(b){var d=window.parent.jQuery.onefw&&window.parent.jQuery.onefw.inPreviewMode;return!parent||!parent.jQuery||!parent.jQuery.dmfw||parent.jQuery.onefw&&parent.jQuery.onefw.inPreviewMode?
d?(d={relativeDirection:"top",tipsContainer:window.parent.$("#_preview_w"),bodyText:"You can't use the this widget to share a site from Preview mode.",title:"Share"},window.parent.$.dmpages&&window.parent.$.dmpages.showOuterLinkPrompt(null,"_blank",a(b.target),d),!1):!0:!1};a.dmrt.register("shareModule",{"default":{ready:function(a){},load:function(a){}},mobile:{},tablet:{ready:function(c){a(".dmOuter").off("click.showSharePopup",".shareLink").on("click.showSharePopup",".shareLink",function(c){b(c)&&
(c=a(this),d(c.data("href")))})}},desktop:{ready:function(c){a(".dmOuter").off("click.showSharePopup",".shareLink").on("click.showSharePopup",".shareLink",function(c){b(c)&&(c=a(this),d(c.data("href")))})}}})})(jQuery);(function(a){a.dmrt.register("twitterfeed",{"default":{ready:function(d){a.DM.initTwitterFeed({})},load:function(a){}},mobile:{},tablet:{},desktop:{}})})(jQuery);
(function(a){a.fn.makeParallax=function(d){var b,c=a(window),g=a(this),h=a(window).height(),m=[];a.each(g,function(b,c){m.push(function(a){var b,c=a.offset().top,g=a.outerHeight();return function(k){k+h>c&&c+g>k-g&&(b=Math.floor(-1*(k-c)*d),a.css({backgroundPosition:"50% "+b+"px"}))}}(a(c)))});b=m.length;c.off("scroll.parallax").on("scroll.parallax",function(){var a=0,d=c.scrollTop();for(a;a<b;a++)m[a](d)});0===c.scrollTop()&&c.scrollTop(1);return g}})(jQuery);
(function(a){"function"===typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],a):a(jQuery)})(function(a){function d(c){!c||void 0!==c.allowPageScroll||void 0===c.swipe&&void 0===c.swipeStatus||(c.allowPageScroll=z);void 0!==c.click&&void 0===c.tap&&(c.tap=c.click);c||(c={});c=a.extend({},a.fn.swipe.defaults,c);return this.each(function(){var d=a(this),g=d.data(X);g||(g=new b(this,c),d.data(X,g))})}function b(b,d){function fa(b){if(!0!==f.data(X+"_intouch")&&!(0<a(b.target).closest(d.excludedElements,
f).length)){var k=b.originalEvent?b.originalEvent:b,n,p=H?k.touches[0]:k;v=Q;H?A=k.touches.length:b.preventDefault();L=0;ia=R=null;ka=l=I=0;ma=1;ga=0;b=[];for(var q=0;5>=q;q++)b.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});ba=b;b={};b[c]=M(c);b[g]=M(g);b[h]=M(h);b[m]=M(m);e=b;Aa=ya=0;if(!H||A===d.fingers||d.fingers===N||ea()){if(t(0,p),za=D(),2==A&&(t(1,k.touches[1]),l=ka=Z(ba[0].start,ba[1].start)),d.swipeStatus||d.pinchStatus)n=da(k,v)}else n=!1;if(!1===n)return v=J,da(k,v),n;la(!0);return null}}
function U(b){var f,p,q,r=b.originalEvent?b.originalEvent:b;if(v!==C&&v!==J&&!na()){var w,y=K(H?r.touches[0]:r);xa=D();H&&(A=r.touches.length);v=G;2==A&&(0==l?(t(1,r.touches[1]),l=ka=Z(ba[0].start,ba[1].start)):(K(r.touches[1]),ka=Z(ba[0].end,ba[1].end),ia=1>ma?u:k),ma=(ka/l*1).toFixed(2),ga=Math.abs(l-ka));if(A===d.fingers||d.fingers===N||!H||ea()){f=y.start;p=y.end;f=Math.atan2(p.y-f.y,f.x-p.x);f=Math.round(180*f/Math.PI);0>f&&(f=360-Math.abs(f));f=R=45>=f&&0<=f?c:360>=f&&315<=f?c:135<=f&&225>=
f?g:45<f&&135>f?m:h;if(d.allowPageScroll===z||ea())b.preventDefault();else switch(p=d.allowPageScroll===n,f){case c:(d.swipeLeft&&p||!p&&d.allowPageScroll!=E)&&b.preventDefault();break;case g:(d.swipeRight&&p||!p&&d.allowPageScroll!=E)&&b.preventDefault();break;case h:(d.swipeUp&&p||!p&&d.allowPageScroll!=s)&&b.preventDefault();break;case m:(d.swipeDown&&p||!p&&d.allowPageScroll!=s)&&b.preventDefault()}L=Math.round(Math.sqrt(Math.pow(y.end.x-y.start.x,2)+Math.pow(y.end.y-y.start.y,2)));I=xa-za;b=
R;f=L;f=Math.max(f,x(b));e[b].distance=f;if(d.swipeStatus||d.pinchStatus)w=da(r,v);if(!d.triggerOnTouchEnd||d.triggerOnTouchLeave){b=!0;if(d.triggerOnTouchLeave){q=a(this);var B=q.offset();b=B.left;f=B.left+q.outerWidth();p=B.top;q=B.top+q.outerHeight();b=y.end.x>b&&y.end.x<f&&y.end.y>p&&y.end.y<q}!d.triggerOnTouchEnd&&b?v=qa(G):d.triggerOnTouchLeave&&!b&&(v=qa(C));v!=J&&v!=C||da(r,v)}}else v=J,da(r,v);!1===w&&(v=J,da(r,v))}}function Y(a){var b=a.originalEvent;if(H&&0<b.touches.length)return ya=D(),
Aa=event.touches.length+1,!0;na()&&(A=Aa);a.preventDefault();xa=D();I=xa-za;oa()?(v=J,da(b,v)):d.triggerOnTouchEnd||!1==d.triggerOnTouchEnd&&v===G?(v=C,da(b,v)):!d.triggerOnTouchEnd&&d.tap?(v=C,ha(b,v,q)):v===G&&(v=J,da(b,v));la(!1);return null}function W(){ka=l=za=xa=A=0;ma=1;Aa=ya=0;la(!1)}function va(a){a=a.originalEvent;d.triggerOnTouchLeave&&(v=qa(C),da(a,v))}function ua(){f.unbind(aa,fa);f.unbind(S,W);f.unbind(V,U);f.unbind(wa,Y);w&&f.unbind(w,va);la(!1)}function qa(a){var b=a,c=d.maxTimeThreshold?
I>=d.maxTimeThreshold?!1:!0:!0,e=ra(),f=oa();!c||f?b=J:!e||a!=G||d.triggerOnTouchEnd&&!d.triggerOnTouchLeave?!e&&a==C&&d.triggerOnTouchLeave&&(b=J):b=C;return b}function da(a,b){var c=void 0;ja()&&ca()||ca()?c=ha(a,b,p):(sa()&&ea()||ea())&&!1!==c&&(c=ha(a,b,B));pa()&&d.doubleTap&&!1!==c?c=ha(a,b,y):I>d.longTapThreshold&&L<F&&d.longTap&&!1!==c?c=ha(a,b,r):!(1!==A&&H||!isNaN(L)&&0!==L)&&d.tap&&!1!==c&&(c=ha(a,b,q));b===J&&W(a);b===C&&(H?0==a.touches.length&&W(a):W(a));return c}function ha(b,e,l){var n=
void 0;if(l==p){f.trigger("swipeStatus",[e,R||null,L||0,I||0,A]);if(d.swipeStatus&&(n=d.swipeStatus.call(f,b,e,R||null,L||0,I||0,A),!1===n))return!1;if(e==C&&ja()){f.trigger("swipe",[R,L,I,A]);if(d.swipe&&(n=d.swipe.call(f,b,R,L,I,A),!1===n))return!1;switch(R){case c:f.trigger("swipeLeft",[R,L,I,A]);d.swipeLeft&&(n=d.swipeLeft.call(f,b,R,L,I,A));break;case g:f.trigger("swipeRight",[R,L,I,A]);d.swipeRight&&(n=d.swipeRight.call(f,b,R,L,I,A));break;case h:f.trigger("swipeUp",[R,L,I,A]);d.swipeUp&&(n=
d.swipeUp.call(f,b,R,L,I,A));break;case m:f.trigger("swipeDown",[R,L,I,A]),d.swipeDown&&(n=d.swipeDown.call(f,b,R,L,I,A))}}}if(l==B){f.trigger("pinchStatus",[e,ia||null,ga||0,I||0,A,ma]);if(d.pinchStatus&&(n=d.pinchStatus.call(f,b,e,ia||null,ga||0,I||0,A,ma),!1===n))return!1;if(e==C&&sa())switch(ia){case k:f.trigger("pinchIn",[ia||null,ga||0,I||0,A,ma]);d.pinchIn&&(n=d.pinchIn.call(f,b,ia||null,ga||0,I||0,A,ma));break;case u:f.trigger("pinchOut",[ia||null,ga||0,I||0,A,ma]),d.pinchOut&&(n=d.pinchOut.call(f,
b,ia||null,ga||0,I||0,A,ma))}}if(l==q){if(e===J||e===C)clearTimeout(Ba),d.doubleTap&&!pa()?(ta=D(),Ba=setTimeout(a.proxy(function(){ta=null;f.trigger("tap",[b.target]);d.tap&&(n=d.tap.call(f,b,b.target))},this),d.doubleTapThreshold)):(ta=null,f.trigger("tap",[b.target]),d.tap&&(n=d.tap.call(f,b,b.target)))}else if(l==y){if(e===J||e===C)clearTimeout(Ba),ta=null,f.trigger("doubletap",[b.target]),d.doubleTap&&(n=d.doubleTap.call(f,b,b.target))}else l!=r||e!==J&&e!==C||(clearTimeout(Ba),ta=null,f.trigger("longtap",
[b.target]),d.longTap&&(n=d.longTap.call(f,b,b.target)));return n}function ra(){var a=!0;null!==d.threshold&&(a=L>=d.threshold);return a}function oa(){var a=!1;null!==d.cancelThreshold&&null!==R&&(a=x(R)-L>=d.cancelThreshold);return a}function sa(){var a=A===d.fingers||d.fingers===N||!H,b=0!==ba[0].end.x,c;c=null!==d.pinchThreshold?ga>=d.pinchThreshold:!0;return a&&b&&c}function ea(){return!!(d.pinchStatus||d.pinchIn||d.pinchOut)}function ja(){var a=d.maxTimeThreshold?I>=d.maxTimeThreshold?!1:!0:
!0,b=ra(),c=A===d.fingers||d.fingers===N||!H,e=0!==ba[0].end.x;return!oa()&&e&&c&&b&&a}function ca(){return!!(d.swipe||d.swipeStatus||d.swipeLeft||d.swipeRight||d.swipeUp||d.swipeDown)}function pa(){if(null==ta)return!1;var a=D();return!!d.doubleTap&&a-ta<=d.doubleTapThreshold}function na(){var a=!1;ya&&D()-ya<=d.fingerReleaseThreshold&&(a=!0);return a}function la(a){!0===a?(f.bind(V,U),f.bind(wa,Y),w&&f.bind(w,va)):(f.unbind(V,U,!1),f.unbind(wa,Y,!1),w&&f.unbind(w,va,!1));f.data(X+"_intouch",!0===
a)}function t(a,b){ba[a].identifier=void 0!==b.identifier?b.identifier:0;ba[a].start.x=ba[a].end.x=b.pageX||b.clientX;ba[a].start.y=ba[a].end.y=b.pageY||b.clientY;return ba[a]}function K(a){var b=void 0!==a.identifier?a.identifier:0;a:{for(var c=0;c<ba.length;c++)if(ba[c].identifier==b){b=ba[c];break a}b=void 0}b.end.x=a.pageX||a.clientX;b.end.y=a.pageY||a.clientY;return b}function x(a){if(e[a])return e[a].distance}function M(a){return{direction:a,distance:0}}function Z(a,b){var c=Math.abs(a.x-b.x),
d=Math.abs(a.y-b.y);return Math.round(Math.sqrt(c*c+d*d))}function D(){return(new Date).getTime()}var O=H||!d.fallbackToMouseEvents,aa=O?"touchstart":"mousedown",V=O?"touchmove":"mousemove",wa=O?"touchend":"mouseup",w=O?null:"mouseleave",S="touchcancel",L=0,R=null,I=0,l=0,ka=0,ma=1,ga=0,ia=0,e=null,f=a(b),v="start",A=0,ba=null,za=0,xa=0,ya=0,Aa=0,ta=0,Ba=null;try{f.bind(aa,fa),f.bind(S,W)}catch(Da){a.error("events not supported "+aa+","+S+" on jQuery.swipe")}this.enable=function(){f.bind(aa,fa);f.bind(S,
W);return f};this.disable=function(){ua();return f};this.destroy=function(){ua();f.data(X,null);return f};this.option=function(b,c){if(void 0!==d[b]){if(void 0===c)return d[b];d[b]=c}else a.error("Option "+b+" does not exist on jQuery.swipe.options");return null}}var c="left",g="right",h="up",m="down",k="in",u="out",z="none",n="auto",p="swipe",B="pinch",q="tap",y="doubletap",r="longtap",E="horizontal",s="vertical",N="all",F=10,Q="start",G="move",C="end",J="cancel",H="ontouchstart"in window,X="TouchSwipe";
a.fn.swipe=function(b){var c=a(this),g=c.data(X);if(g&&"string"===typeof b){if(g[b])return g[b].apply(this,Array.prototype.slice.call(arguments,1));a.error("Method "+b+" does not exist on jQuery.swipe")}else if(!(g||"object"!==typeof b&&b))return d.apply(this,arguments);return c};a.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,
swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};a.fn.swipe.phases={PHASE_START:Q,PHASE_MOVE:G,PHASE_END:C,PHASE_CANCEL:J};a.fn.swipe.directions={LEFT:c,RIGHT:g,UP:h,DOWN:m,IN:k,OUT:u};a.fn.swipe.pageScroll={NONE:z,HORIZONTAL:E,VERTICAL:s,AUTO:n};a.fn.swipe.fingers=
{ONE:1,TWO:2,THREE:3,ALL:N}});(function(a,d,b){var c=function(a,b,c){var d=/.*(dms3rep\/multi\/)(thumbnail\/|mobile\/|tablet\/|desktop\/)?[^.]*(-\d+x\d+)\.?.*/;if(!d.test(a))return a;var d=d.exec(a),u=d[2]?d[2]:"";return a=c?d[0].replace(d[3],"").replace(d[1]+u,""):a.replace("dms3rep/multi/"+u,"dms3rep/multi/"+(b?b+"/":""))};String.prototype.getMultisizedPath=function(a){return c(this.toString(),a,!1)};String.prototype.revertMultisizedPath=function(){return c(this.toString(),null,!0)}})(jQuery,window);