(function(){var a=Math,k=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",m="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,h="ontouchstart"in window,n=k+"Transform"in document.documentElement.style,c=/android/gi.test(navigator.appVersion),d=/iphone|ipad/gi.test(navigator.appVersion),f=/playbook/gi.test(navigator.appVersion),l=d||f,q=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||
window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,1)}}(),A=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,w="onorientationchange"in window?"orientationchange":"resize",x=h?"touchstart":"mousedown",t=h?"touchmove":"mousemove",u=h?"touchend":"mouseup",v=h?"touchcancel":"mouseup",y="Moz"==k?"DOMMouseScroll":
"mousewheel",r="translate"+(m?"3d(":"("),s=m?",0)":")",f=function(a,b){var e=this,f=document,z;e.wrapper="object"==typeof a?a:f.getElementById(a);e.wrapper.style.overflow="hidden";e.scroller=e.wrapper.children[0];e.options={hScroll:!0,vScroll:!0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:c,hideScrollbar:d,fadeScrollbar:d&&m,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,
wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(z in b)e.options[z]=b[z];e.options.useTransform=n?e.options.useTransform:!1;e.options.hScrollbar=e.options.hScroll&&e.options.hScrollbar;e.options.vScrollbar=e.options.vScroll&&e.options.vScrollbar;e.options.zoom=
e.options.useTransform&&e.options.zoom;e.options.useTransition=l&&e.options.useTransition;e.scroller.style[k+"TransitionProperty"]=e.options.useTransform?"-"+k.toLowerCase()+"-transform":"top left";e.scroller.style[k+"TransitionDuration"]="0";e.scroller.style[k+"TransformOrigin"]="0 0";e.options.useTransition&&(e.scroller.style[k+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)");e.options.useTransform?e.scroller.style[k+"Transform"]=r+"0,0"+s:e.scroller.style.cssText+=";position:relative;top:0;left:0";
e.options.useTransition&&(e.options.fixedScrollbar=!0);e.refresh();e._bind(w,window);e._bind(x);h||(e._bind("mouseout",e.wrapper),e._bind(y));e.options.checkDOMChanges&&(e.checkDOMTime=setInterval(function(){e._checkDOMChanges()},500))};f.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(a){switch(a.type){case x:if(!h&&0!==a.button)break;this._start(a);break;case t:this._move(a);break;case u:case v:this._end(a);
break;case w:this._resize();break;case y:this._wheel(a);break;case "mouseout":this._mouseout(a);break;case "webkitTransitionEnd":this._transitionEnd(a)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(g){var b=document,e;this[g+"Scrollbar"]?(this[g+"ScrollbarWrapper"]||(e=b.createElement("div"),this.options.scrollbarClass?e.className=
this.options.scrollbarClass+g.toUpperCase():e.style.cssText="position:absolute;z-index:100;"+("h"==g?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?"7":"2")+"px;top:2px;right:1px"),e.style.cssText+=";pointer-events:none;-"+k+"-transition-property:opacity;-"+k+"-transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?"0":"1"),this.wrapper.appendChild(e),this[g+"ScrollbarWrapper"]=
e,e=b.createElement("div"),this.options.scrollbarClass||(e.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+k+"-background-clip:padding-box;-"+k+"-box-sizing:border-box;"+("h"==g?"height:100%":"width:100%")+";-"+k+"-border-radius:3px;border-radius:3px"),e.style.cssText+=";pointer-events:none;-"+k+"-transition-property:-"+k+"-transform;-"+k+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+k+"-transition-duration:0;-"+k+
"-transform:"+r+"0,0"+s,this.options.useTransition&&(e.style.cssText+=";-"+k+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),this[g+"ScrollbarWrapper"].appendChild(e),this[g+"ScrollbarIndicator"]=e),"h"==g?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,this.hScrollbarIndicatorSize=a.max(a.round(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW),8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=this.hScrollbarSize-this.hScrollbarIndicatorSize,
this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=a.max(a.round(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH),8),this.vScrollbarIndicator.style.height=this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY),this._scrollbarPos(g,!0)):this[g+"ScrollbarWrapper"]&&(n&&(this[g+"ScrollbarIndicator"].style[k+
"Transform"]=""),this[g+"ScrollbarWrapper"].parentNode.removeChild(this[g+"ScrollbarWrapper"]),this[g+"ScrollbarWrapper"]=null,this[g+"ScrollbarIndicator"]=null)},_resize:function(){var a=this;setTimeout(function(){a.refresh()},c?200:0)},_pos:function(g,b){g=this.hScroll?g:0;b=this.vScroll?b:0;this.options.useTransform?this.scroller.style[k+"Transform"]=r+g+"px,"+b+"px"+s+" scale("+this.scale+")":(g=a.round(g),b=a.round(b),this.scroller.style.left=g+"px",this.scroller.style.top=b+"px");this.x=g;this.y=
b;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(g,b){var e="h"==g?this.x:this.y;this[g+"Scrollbar"]&&(e*=this[g+"ScrollbarProp"],0>e?(this.options.fixedScrollbar||(e=this[g+"ScrollbarIndicatorSize"]+a.round(3*e),8>e&&(e=8),this[g+"ScrollbarIndicator"].style["h"==g?"width":"height"]=e+"px"),e=0):e>this[g+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?e=this[g+"ScrollbarMaxScroll"]:(e=this[g+"ScrollbarIndicatorSize"]-a.round(3*(e-this[g+"ScrollbarMaxScroll"])),8>e&&(e=
8),this[g+"ScrollbarIndicator"].style["h"==g?"width":"height"]=e+"px",e=this[g+"ScrollbarMaxScroll"]+(this[g+"ScrollbarIndicatorSize"]-e))),this[g+"ScrollbarWrapper"].style[k+"TransitionDelay"]="0",this[g+"ScrollbarWrapper"].style.opacity=b&&this.options.hideScrollbar?"0":"1",this[g+"ScrollbarIndicator"].style[k+"Transform"]=r+("h"==g?e+"px,0":"0,"+e+"px")+s)},_start:function(g){var b=h?g.touches[0]:g,e,c;this.enabled&&(this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,
g),(this.options.useTransition||this.options.zoom)&&this._transitionTime(0),this.zoomed=this.animating=this.moved=!1,this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0,this.options.zoom&&h&&1<g.touches.length&&(c=a.abs(g.touches[0].pageX-g.touches[1].pageX),e=a.abs(g.touches[0].pageY-g.touches[1].pageY),this.touchesDistStart=a.sqrt(c*c+e*e),this.originX=a.abs(g.touches[0].pageX+g.touches[1].pageX-2*this.wrapperOffsetLeft)/2-this.x,this.originY=a.abs(g.touches[0].pageY+g.touches[1].pageY-
2*this.wrapperOffsetTop)/2-this.y,this.options.onZoomStart&&this.options.onZoomStart.call(this,g)),this.options.momentum&&(this.options.useTransform?(e=getComputedStyle(this.scroller,null)[k+"Transform"].replace(/[^0-9-.,]/g,"").split(","),c=1*e[4],e=1*e[5]):(c=1*getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,""),e=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),c!=this.x||e!=this.y)&&(this.options.useTransition?this._unbind("webkitTransitionEnd"):A(this.aniTime),
this.steps=[],this._pos(c,e)),this.absStartX=this.x,this.absStartY=this.y,this.startX=this.x,this.startY=this.y,this.pointX=b.pageX,this.pointY=b.pageY,this.startTime=g.timeStamp||Date.now(),this.options.onScrollStart&&this.options.onScrollStart.call(this,g),this._bind(t),this._bind(u),this._bind(v))},_move:function(g){var b=h?g.touches[0]:g,e=b.pageX-this.pointX,c=b.pageY-this.pointY,f=this.x+e,d=this.y+c,l=g.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,
g);if(this.options.zoom&&h&&1<g.touches.length)f=a.abs(g.touches[0].pageX-g.touches[1].pageX),d=a.abs(g.touches[0].pageY-g.touches[1].pageY),this.touchesDist=a.sqrt(f*f+d*d),this.zoomed=!0,b=1/this.touchesDistStart*this.touchesDist*this.scale,b<this.options.zoomMin?b=0.5*this.options.zoomMin*Math.pow(2,b/this.options.zoomMin):b>this.options.zoomMax&&(b=2*this.options.zoomMax*Math.pow(0.5,this.options.zoomMax/b)),this.lastScale=b/this.scale,f=this.originX-this.originX*this.lastScale+this.x,d=this.originY-
this.originY*this.lastScale+this.y,this.scroller.style[k+"Transform"]=r+f+"px,"+d+"px"+s+" scale("+b+")",this.options.onZoom&&this.options.onZoom.call(this,g);else{this.pointX=b.pageX;this.pointY=b.pageY;if(0<f||f<this.maxScrollX)f=this.options.bounce?this.x+e/2:0<=f||0<=this.maxScrollX?0:this.maxScrollX;if(d>this.minScrollY||d<this.maxScrollY)d=this.options.bounce?this.y+c/2:d>=this.minScrollY||0<=this.maxScrollY?this.minScrollY:this.maxScrollY;6>this.absDistX&&6>this.absDistY?(this.distX+=e,this.distY+=
c,this.absDistX=a.abs(this.distX),this.absDistY=a.abs(this.distY)):(this.options.lockDirection&&(this.absDistX>this.absDistY+5?(d=this.y,c=0):this.absDistY>this.absDistX+5&&(f=this.x,e=0)),this.moved=!0,this._pos(f,d),this.dirX=0<e?-1:0>e?1:0,this.dirY=0<c?-1:0>c?1:0,300<l-this.startTime&&(this.startTime=l,this.startX=this.x,this.startY=this.y),this.options.onScrollMove&&this.options.onScrollMove.call(this,g),$.DM.onIscrollScrolls(g))}},_end:function(g){if(!h||0==g.touches.length){var b=this,e=h?
g.changedTouches[0]:g,c,f,d={dist:0,time:0},l={dist:0,time:0},q=(g.timeStamp||Date.now())-b.startTime,p=b.x,m=b.y;b._unbind(t);b._unbind(u);b._unbind(v);b.options.onBeforeScrollEnd&&b.options.onBeforeScrollEnd.call(b,g);if(b.zoomed)p=b.scale*b.lastScale,p=Math.max(b.options.zoomMin,p),p=Math.min(b.options.zoomMax,p),b.lastScale=p/b.scale,b.scale=p,b.x=b.originX-b.originX*b.lastScale+b.x,b.y=b.originY-b.originY*b.lastScale+b.y,b.scroller.style[k+"TransitionDuration"]="200ms",b.scroller.style[k+"Transform"]=
r+b.x+"px,"+b.y+"px"+s+" scale("+b.scale+")",b.zoomed=!1,b.refresh(),b.options.onZoomEnd&&b.options.onZoomEnd.call(b,g);else{if(b.moved){if(300>q&&b.options.momentum){d=p?b._momentum(p-b.startX,q,-b.x,b.scrollerW-b.wrapperW+b.x,b.options.bounce?b.wrapperW:0):d;l=m?b._momentum(m-b.startY,q,-b.y,0>b.maxScrollY?b.scrollerH-b.wrapperH+b.y-b.minScrollY:0,b.options.bounce?b.wrapperH:0):l;p=b.x+d.dist;m=b.y+l.dist;if(0<b.x&&0<p||b.x<b.maxScrollX&&p<b.maxScrollX)d={dist:0,time:0};if(b.y>b.minScrollY&&m>b.minScrollY||
b.y<b.maxScrollY&&m<b.maxScrollY)l={dist:0,time:0}}d.dist||l.dist?(d=a.max(a.max(d.time,l.time),10),b.options.snap&&(l=p-b.absStartX,q=m-b.absStartY,a.abs(l)<b.options.snapThreshold&&a.abs(q)<b.options.snapThreshold?b.scrollTo(b.absStartX,b.absStartY,200):(l=b._snap(p,m),p=l.x,m=l.y,d=a.max(l.time,d))),b.scrollTo(a.round(p),a.round(m),d)):b.options.snap?(l=p-b.absStartX,q=m-b.absStartY,a.abs(l)<b.options.snapThreshold&&a.abs(q)<b.options.snapThreshold?b.scrollTo(b.absStartX,b.absStartY,200):(l=b._snap(b.x,
b.y),l.x==b.x&&l.y==b.y||b.scrollTo(l.x,l.y,l.time))):b._resetPos(200)}else h&&(b.doubleTapTimer&&b.options.zoom?(clearTimeout(b.doubleTapTimer),b.doubleTapTimer=null,b.options.onZoomStart&&b.options.onZoomStart.call(b,g),b.zoom(b.pointX,b.pointY,1==b.scale?b.options.doubleTapZoom:1),b.options.onZoomEnd&&setTimeout(function(){b.options.onZoomEnd.call(b,g)},200)):b.doubleTapTimer=setTimeout(function(){b.doubleTapTimer=null;for(c=e.target;1!=c.nodeType;)c=c.parentNode;"SELECT"!=c.tagName&&"INPUT"!=
c.tagName&&"TEXTAREA"!=c.tagName&&(f=document.createEvent("MouseEvents"),f.initMouseEvent("click",!0,!0,g.view,1,e.screenX,e.screenY,e.clientX,e.clientY,g.ctrlKey,g.altKey,g.shiftKey,g.metaKey,0,null),f._fake=!0,c.dispatchEvent(f))},b.options.zoom?250:0)),b._resetPos(200);b.options.onTouchEnd&&b.options.onTouchEnd.call(b,g)}}},_resetPos:function(a){var b=0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,e=this.y>=this.minScrollY||0<this.maxScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:
this.y;b==this.x&&e==this.y?(this.moved&&(this.moved=!1,this.options.onScrollEnd&&this.options.onScrollEnd.call(this)),this.hScrollbar&&this.options.hideScrollbar&&("webkit"==k&&(this.hScrollbarWrapper.style[k+"TransitionDelay"]="300ms"),this.hScrollbarWrapper.style.opacity="0"),this.vScrollbar&&this.options.hideScrollbar&&("webkit"==k&&(this.vScrollbarWrapper.style[k+"TransitionDelay"]="300ms"),this.vScrollbarWrapper.style.opacity="0")):this.scrollTo(b,e,a||0)},_wheel:function(a){if($.DM.isUseLayout()&&
"none"==this.options.wheelAction||0<this.maxScrollY||parseInt(a.currentTarget.style.height)<this.wrapperH)return!1;var b=this,e,c;"wheelDeltaX"in a?(e=a.wheelDeltaX/12,c=a.wheelDeltaY/2):"wheelDelta"in a?e=c=a.wheelDelta:"detail"in a&&(2===a.axis?(c=10*-a.detail,e=0):(e=3*-a.detail,c=0));"zoom"==b.options.wheelAction?(c=b.scale*Math.pow(2,1/3*(c?c/Math.abs(c):0)),c<b.options.zoomMin&&(c=b.options.zoomMin),c>b.options.zoomMax&&(c=b.options.zoomMax),c!=b.scale&&(!b.wheelZoomCount&&b.options.onZoomStart&&
b.options.onZoomStart.call(b,a),b.wheelZoomCount++,b.zoom(a.pageX,a.pageY,c,400),setTimeout(function(){b.wheelZoomCount--;!b.wheelZoomCount&&b.options.onZoomEnd&&b.options.onZoomEnd.call(b,a)},400))):(parent.$.deselectAllEditableElements&&null!=parent.NEFW&&null!=parent.jQuery.dmfw.setPreviewEditPolicy&&0==parent.jQuery.dmfw.getPreviewElement(".dmLocked").length&&parent.$.deselectAllEditableElements(),$.DM.onIscrollScrolls(a),e=b.x+e,c=b.y+c,0<e?e=0:e<b.maxScrollX&&(e=b.maxScrollX),c>b.minScrollY?
c=b.minScrollY:c<b.maxScrollY&&(c=b.maxScrollY),b.scrollTo(e,c,0),a.stopPropagation(),a.preventDefault())},_mouseout:function(a){var b=a.relatedTarget;if(b)for(;b=b.parentNode;)if(b==this.wrapper)return;this._end(a)},_transitionEnd:function(a){a.target==this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var g=this,b=g.x,e=g.y,c=Date.now(),f,d;g.animating||(g.steps.length?(f=g.steps.shift(),f.x==b&&f.y==e&&(f.time=0),g.animating=!0,g.moved=!0,g.options.useTransition?
(g._transitionTime(f.time),g._pos(f.x,f.y),g.animating=!1,f.time?g._bind("webkitTransitionEnd"):g._resetPos(0)):function B(){var l=Date.now(),h;l>=c+f.time?(g._pos(f.x,f.y),g.animating=!1,g.options.onAnimationEnd&&g.options.onAnimationEnd.call(g),g._startAni()):(l=(l-c)/f.time-1,d=a.sqrt(1-l*l),l=(f.x-b)*d+b,h=(f.y-e)*d+e,g._pos(l,h),g.animating&&(g.aniTime=q(B)))}()):g._resetPos(400))},_transitionTime:function(a){a+="ms";this.scroller.style[k+"TransitionDuration"]=a;this.hScrollbar&&(this.hScrollbarIndicator.style[k+
"TransitionDuration"]=a);this.vScrollbar&&(this.vScrollbarIndicator.style[k+"TransitionDuration"]=a)},_momentum:function(g,b,e,c,f){b=a.abs(g)/b;var d=b*b/0.0012;0<g&&d>e?(e+=f/(6/(d/b*6E-4)),b=b*e/d,d=e):0>g&&d>c&&(c+=f/(6/(d/b*6E-4)),b=b*c/d,d=c);return{dist:d*(0>g?-1:1),time:a.round(b/6E-4)}},_offset:function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;a!=this.wrapper&&(b*=this.scale,c*=this.scale);return{left:b,top:c}},_snap:function(c,b){var e,f,
d;d=this.pagesX.length-1;e=0;for(f=this.pagesX.length;e<f;e++)if(c>=this.pagesX[e]){d=e;break}d==this.currPageX&&0<d&&0>this.dirX&&d--;c=this.pagesX[d];f=(f=a.abs(c-this.pagesX[this.currPageX]))?a.abs(this.x-c)/f*500:0;this.currPageX=d;d=this.pagesY.length-1;for(e=0;e<d;e++)if(b>=this.pagesY[e]){d=e;break}d==this.currPageY&&0<d&&0>this.dirY&&d--;b=this.pagesY[d];e=(e=a.abs(b-this.pagesY[this.currPageY]))?a.abs(this.y-b)/e*500:0;this.currPageY=d;d=a.round(a.max(f,e))||200;return{x:c,y:b,time:d}},_bind:function(a,
b,c){(b||this.scroller).addEventListener(a,this,!!c)},_unbind:function(a,b,c){(b||this.scroller).removeEventListener(a,this,!!c)},destroy:function(){this.scroller.style[k+"Transform"]="";this.vScrollbar=this.hScrollbar=!1;this._scrollbar("h");this._scrollbar("v");this._unbind(w,window);this._unbind(x);this._unbind(t);this._unbind(u);this._unbind(v);this.options.hasTouch&&(this._unbind("mouseout",this.wrapper),this._unbind(y));this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.checkDOMChanges&&
clearInterval(this.checkDOMTime);this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var c,b,e,f=0;b=0;this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin);this.wrapperW=this.wrapper.clientWidth||1;this.wrapperH=this.wrapper.clientHeight||1;this.minScrollY=-this.options.topOffset||0;this.scrollerW=a.round(this.scroller.offsetWidth*this.scale);this.scrollerH=a.round((this.scroller.offsetHeight+this.minScrollY)*this.scale);this.maxScrollX=this.wrapperW-this.scrollerW;
this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY;this.dirY=this.dirX=0;this.options.onRefresh&&this.options.onRefresh.call(this);this.hScroll=this.options.hScroll&&0>this.maxScrollX;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);this.hScrollbar=this.hScroll&&this.options.hScrollbar;this.vScrollbar=this.vScroll&&this.options.vScrollbar&&this.scrollerH>this.wrapperH;c=this._offset(this.wrapper);this.wrapperOffsetLeft=-c.left;this.wrapperOffsetTop=
-c.top;if("string"==typeof this.options.snap)for(this.pagesX=[],this.pagesY=[],e=this.scroller.querySelectorAll(this.options.snap),c=0,b=e.length;c<b;c++)f=this._offset(e[c]),f.left+=this.wrapperOffsetLeft,f.top+=this.wrapperOffsetTop,this.pagesX[c]=f.left<this.maxScrollX?this.maxScrollX:f.left*this.scale,this.pagesY[c]=f.top<this.maxScrollY?this.maxScrollY:f.top*this.scale;else if(this.options.snap){for(this.pagesX=[];f>=this.maxScrollX;)this.pagesX[b]=f,f-=this.wrapperW,b++;this.maxScrollX%this.wrapperW&&
(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]);b=f=0;for(this.pagesY=[];f>=this.maxScrollY;)this.pagesY[b]=f,f-=this.wrapperH,b++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h");this._scrollbar("v");this.zoomed||(this.scroller.style[k+"TransitionDuration"]="0",this._resetPos(200))},scrollTo:function(a,b,c,f){var d=
a;this.stop();d.length||(d=[{x:a,y:b,time:c,relative:f}]);a=0;for(b=d.length;a<b;a++)d[a].relative&&(d[a].x=this.x-d[a].x,d[a].y=this.y-d[a].y),this.steps.push({x:d[a].x,y:d[a].y,time:d[a].time||0});this._startAni()},getScrollY:function(){return this.y},getScrollX:function(){return this.x},scrollToElement:function(c,b){var f;if(c=c.nodeType?c:this.scroller.querySelector(c))f=this._offset(c),f.left+=this.wrapperOffsetLeft,f.top+=this.wrapperOffsetTop,f.left=0<f.left?0:f.left<this.maxScrollX?this.maxScrollX:
f.left,f.top=f.top>this.minScrollY?this.minScrollY:f.top<this.maxScrollY?this.maxScrollY:f.top,b=void 0===b?a.max(2*a.abs(f.left),2*a.abs(f.top)):b,this.scrollTo(f.left,f.top+36,b)},scrollToPage:function(a,b,c){this.options.onScrollStart&&this.options.onScrollStart.call(this);this.options.snap?(a="next"==a?this.currPageX+1:"prev"==a?this.currPageX-1:a,b="next"==b?this.currPageY+1:"prev"==b?this.currPageY-1:b,a=0>a?0:a>this.pagesX.length-1?this.pagesX.length-1:a,b=0>b?0:b>this.pagesY.length-1?this.pagesY.length-
1:b,this.currPageX=a,this.currPageY=b,a=this.pagesX[a],b=this.pagesY[b]):(a*=-this.wrapperW,b*=-this.wrapperH,a<this.maxScrollX&&(a=this.maxScrollX),b<this.maxScrollY&&(b=this.maxScrollY));this.scrollTo(a,b,c||400)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(t);this._unbind(u);this._unbind(v)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind("webkitTransitionEnd"):A(this.aniTime);this.steps=[];this.animating=this.moved=!1},
zoom:function(a,b,c,f){var d=c/this.scale;this.options.useTransform&&(this.zoomed=!0,f=void 0===f?200:f,a=a-this.wrapperOffsetLeft-this.x,b=b-this.wrapperOffsetTop-this.y,this.x=a-a*d+this.x,this.y=b-b*d+this.y,this.scale=c,this.refresh(),this.x=0<this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y,this.scroller.style[k+"TransitionDuration"]=f+"ms",this.scroller.style[k+"Transform"]=r+this.x+"px,"+this.y+
"px"+s+" scale("+c+")",this.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};"undefined"!==typeof exports?exports.iScroll=f:window.iScroll=f})();
(function(a){function k(c){return(c=a(c).attr("href"))?0===c.indexOf("http://"):!1}function m(a){return 0==a?function(a){return!a.hasClass("dmSub")}:function(d){return d.hasClass("dmSub"+(2==a?"2":""))}}var h={_is_touch_device:"ontouchstart"in document.documentElement,_layoutDomReady:!1,_isEditorMode:!1,_variationClassPrefix:"-var",_widgetClassPrefix:"widgetStyle-",_NEW_PAGES_PREFIX:"dmwlp://",_NEW_PAGE_LOC:"http://bfs._dudamobile.com",_layoutParams:{_navigationAnimationStyle:"slide"}};a.extend(h._layoutParams,
Parameters.LayoutParams);a.extend({layoutManager:h});var n=void 0;a(document).ready(function(c){a.layoutManager._isEditorMode=a.DM.getQueryParam(window.location.href,"nee")?!0:!1;a.extend(a.layoutDevice.components,a.commonComponents);for(var d in a.layoutDevice.components){var f="#";a.layoutDevice.components[d].getByClass&&(f=".");0==a(f+d).length?a.layoutDevice.components[d]=null:a.layoutDevice.components[d].element=a(f+d)}-1==navigator.userAgent.indexOf("Mac OS X")&&a("body").addClass("pcCustomScrollbar");
d=a("body");a.layoutManager._isEditorMode&&d.addClass("bodyInsideNee");isDudaone&&d.addClass("bodyInsideDudaone");a.layoutDevice.onReady(a.layoutManager._isEditorMode,c);a.layoutManager.initNavigation();a.layoutDevice.components.iscrollBody&&a.layoutDevice.components.iscrollBody.isUseIscroll&&!a.layoutManager._isEditorMode?(a("body").addClass("dmBodyUseIscroll"),a("body").removeClass("dmBodyNoIscroll")):(a("body").addClass("dmBodyNoIscroll"),a("body").removeClass("dmBodyUseIscroll"));a.ua?(c="Android"===
a.ua.os.name&&2.4>a.ua.os.version,d="Windows Phone OS"===a.ua.os.name&&7.5>=a.ua.os.version):(c=-1!=navigator.userAgent.indexOf("Android 2"),d=-1!=navigator.userAgent.indexOf("Windows Phone OS 7"));(c||d)&&a(".supportsFontIcons").removeClass("supportsFontIcons").addClass("noFontIcons");a.layoutManager._layoutDomReady=!0});a(window).load(function(c){a.layoutDevice.onLoad(a.layoutManager._isEditorMode,c)});a(window).resize(function(){h.refreshIscroll()});h.detectUserAgent=function(){var a=navigator.userAgent;
return a.match(/(iPhone|iPod)/)&&a.match(/CriOS/)?"iPhone-chrome":a.match(/(iPhone|iPod|iPad)/)?"iPhone":a.match(/Android/)?"android":a.match(/BlackBerry/)?"blackberry":a.match(/Windows Phone/i)||a.match(/iEMobile/i)?"windowsmobile":""};h.initLayout=function(){a.layoutDevice.onReady(a.layoutManager._isEditorMode);a.layoutDevice.onLoad(a.layoutManager._isEditorMode)};h.refreshIscroll=function(c){null==c&&(c=a.layoutDevice.components.iscrollBody);c&&c.iscrollObject&&c.iscrollObject.refresh()};h.reinitIscroll=
function(c){null==c&&(c=a.layoutDevice.components.iscrollBody);c&&c.iscrollObject&&c.refresh()};h.getLayoutElement=function(){return a.layoutDevice.components};h.isNee=function(){return a.layoutManager._isEditorMode};h.setCurrentVariation=function(c,d,f){f=f||"mobile";for(var l=a(".dm_wrapper").attr("class").split(" "),h="",k="",m=0;m<l.length;m++){var n=l[m];-1!=n.indexOf(a.layoutManager._variationClassPrefix)&&(h=n,k=n.substr(0,n.indexOf(a.layoutManager._variationClassPrefix))+a.layoutManager._variationClassPrefix+
c);d&&-1!=n.indexOf(a.layoutManager._widgetClassPrefix)&&a(".dm_wrapper").removeClass(n)}a(".dm_wrapper").removeClass(h);a(".dm_wrapper").addClass(k);a(".dm_wrapper").addClass(d?d[k]:"");Parameters.LayoutVariationID[f]=c;a.DM.restoreDefaultNavigationStyles();a.DM.initNavbar(!0);a.layoutDevice.components.dmNav.cssCalculations()};h.getCurrentVariation=function(a){return Parameters.LayoutVariationID[a||"mobile"]};h.setCurrentLayout=function(a,d){Parameters.LayoutID[d||"mobile"]=a};h.getCurrentLayout=
function(a){return Parameters.LayoutID[a||"mobile"]};h.setCurrentWidgetStyleID=function(a){Parameters.WidgetStyleID=a};h.getCurrentWidgetStyleID=function(){return Parameters.WidgetStyleID};h.cssCalculations=function(){a.layoutDevice.components.dmNav.cssCalculations()};h.afterDropPositionFoundHook=function(){};h.isLayoutDomReady=function(){return a.layoutManager._layoutDomReady};h.afterInitNav=function(){a.layoutDevice.components.dmNav&&a.layoutDevice.components.dmNav.cssCalculations()};h.isMobileBrowser=
function(){var a=navigator.userAgent||navigator.vendor||window.opera,d=!1;if(/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,
4)))d=!0;return d};h.isWebkitMobileBrowser=function(){var c={},d=a.uaMatch(navigator.userAgent);c[d.browser]=!0;c.version=d.version;d=!1;if(c.chrome||c.webkit||c.safari)d=!0;"blackberry"==h.detectUserAgent()&&(d=!1);return d};h._is_touch_device=h._is_touch_device&&"blackberry"!=h.detectUserAgent();h.hideAllSubItems=function(){a(".dmNavigation li").each(function(){a(this).find(".navItemArrowBg").removeClass("pointDown");a(this).hasClass("dmSub")&&(a(this).css({"-webkit-transform":"translate(0px,0px, 0px)",
"-moz-transform":"translate(0px,0px)","-ms-transform":"translate(0px,0px)","-o-transform":"translate(0px,0px)"}),a(this).css("opacity","0"),a(this).addClass("dmDisplay_None"))});a.layoutDevice.components.slideDownNav?a.layoutDevice.components.slideDownNav.refresh():a.layoutDevice.components.slideUpNav?a.layoutDevice.components.slideUpNav.refresh():a.layoutDevice.components.slideRightNav&&a.layoutDevice.components.slideRightNav.refresh()};h.openAppropriateSub=function(){var c=window.location.hash.slice(1),
d=a.DM.getPageUrlByPageId(c);a(".dmNavigation li:not(.listBtnHidden) a").each(function(){var f=a(this),l=unescape(a.DM.getQueryParam(f.attr("href"),"url")||f.attr("href"));if(null!=l&&null!=d&&!(l!=d||a.dmrt.isEditorMode&&l.match(/(http(s?)\:\/\/){1}[^\/]+(\/?)$/g))||a.dmrt.isEditorMode&&""!=c&&a(this).attr("raw_url")&&a.DM.getPageFromCache(c).pageContent.alias==a(this).attr("raw_url").split("/").last()||(null==d||"null"==d||d.startsWith(a.layoutManager._NEW_PAGES_PREFIX)||d==a.layoutManager._NEW_PAGE_LOC)&&
a(this).is(".dmNavItemSelected\x3ea")){var h=f.parent();if(h.hasClass("hasdmSub"))a.layoutManager.showSpecificSubs(a(this).parent());else if(h.hasClass("dmSub")){for(l=m(h.hasClass("dmSub2")?1:0);!h.hasClass("hasdmSub")||!l(h);)h=h.prev();a.layoutManager.showSpecificSubs(h)}f.parents(".dmNavigation").find("a").removeClass("currentPage");f.addClass("currentPage");return!1}});a.layoutDevice.components.dmNav&&a.layoutDevice.components.dmNav.cssCalculations()};h.getCurrentNavigationItemSelected=function(){var c=
null,d=a.DM.getCurrentPageUrl();a(".dmNavWrapper a, .dmNavigation a, .dmNavigationWithLink a").each(function(){var f=a(this).attr("href");f&&-1!=f.indexOf("?url\x3d")&&(f=unescape(a.DM.getQueryParam(a(this).attr("href"),"url")));f&&"DUDAONE"==Parameters.SiteType&&(-1<f.indexOf("?")&&(f=f.substr(0,f.indexOf("?"))),-1<f.indexOf("/")&&(f=f.substr(f.lastIndexOf("/")+1,f.length)));null!=f&&null!=d&&f==d&&null==c&&(c=a(this))});return c};h.markCurrentSelectedNavigation=function(c){if(isDudaone||!a.layoutManager.markedSelected){c=
c&&n?n:a.layoutManager.getCurrentNavigationItemSelected();if(!a(".dmNavItemSelected").hasClass("dmNavKeepSelected")){var d=a(".navItemSelectedServer");0<d.size()?(a(".dmNavWrapper li, .dmNavigation li , .dmNavigationWithLink li").removeClass("dmNavItemSelected"),a(".dmNavWrapper a, .dmNavigation a").removeClass("currentPage"),d.removeClass("navItemSelectedServer"),d.addClass("dmNavItemSelected"),d.find(" \x3e a").addClass("currentPage"),n=d.find(" \x3e a")):c&&(a(".dmNavWrapper li, .dmNavigation li , .dmNavigationWithLink li").removeClass("dmNavItemSelected"),
a(".dmNavWrapper a, .dmNavigation a").removeClass("currentPage"),c.addClass("currentPage"),c.closest("li").addClass("dmNavItemSelected"),n=c);a.layoutManager.finalizeMenu()}a(".dmNavKeepSelected").removeClass("dmNavKeepSelected");a.layoutManager.markedSelected=!0}};h.finalizeMenu=function(){0<a(".dmNavigation .dmNavItemSelected").length&&a(".dmNavigationWithLink .slideDownTrigger, .dmNavigationWithLink .slideUpTrigger").addClass("dmNavItemSelected");0<a(".desktopTopNavMoreBtn .dmNavItemSelected").length&&
a("#upperFloatingNav .desktopTopNavMoreBtn").addClass("dmNavItemSelected");0<a("#upperFloatingNav .dmNavItemSelected.dmSub").length&&a("#upperFloatingNav .dmNavItemSelected.dmSub").parents("li").addClass("dmNavItemSelected")};h.onAjaxLinkClick=function(c,d){c.attr("href")&&"#"!=c.attr("href")&&a.layoutManager.closeAllOpenedNavs();a(".navItemSelectedServer, .dmNavItemSelected").removeClass("navItemSelectedServer dmNavItemSelected");c.is(".dmNavWrapper *")&&(c.closest("li").addClass("dmNavItemSelected"),
c.addClass("currentPage"));a.layoutDevice.handlePageSeoSettingsPerDevice&&a.layoutDevice.handlePageSeoSettingsPerDevice()};h.layoutAfterAjax=function(c){a.layoutManager.markCurrentSelectedNavigation();styleImages()};h.initNavigation=function(){var c=!1;a("#slideDownNav a, #slideUpNav a").off("touchstart.menu").on("touchstart.menu",function(a){c=!1}).off("touchmove.menu").on("touchmove.menu",function(a){c=!0}).off("click.menu touchend.menu").on("click.menu touchend.menu",function(d){c||(a(this).parent().hasClass("hasdmSub")?
(d.stopPropagation(),a(this).attr("href")&&""!=a(this).attr("href")&&"#"!=a(this).attr("href"))?k(a(this))||(a.layoutManager.closeAllOpenedNavs(),a.layoutManager.isNee()&&(a.DM.isAjaxLink(a(this))&&parent.jQuery.dmfw.showLoadingInEmulator(),parent.jQuery.dmfw.previewNavigateTo({url:a(this).attr("href")}))):(d.preventDefault(),"0"==a(this).parent().next(".dmSub").css("opacity")?a.layoutManager.showSpecificSubs(a(this).parent()):"1"==a(this).parent().next(".dmSub").css("opacity")&&a.layoutManager.hideSpacificSubs(a(this).parent())):
(a.layoutManager.isNee()&&(d.preventDefault(),a.DM.isAjaxLink(a(this))&&parent.jQuery.dmfw.showLoadingInEmulator(),k(this)||parent.jQuery.dmfw.previewNavigateTo({url:a(this).attr("href")})),Parameters.AllowAjax&&(a.layoutManager.closeAllOpenedNavs(),a(".navItemSelectedServer").removeClass("navItemSelectedServer"),a(this).parent().addClass("dmNavItemSelected"),a(this).addClass("currentPage"))),a.layoutManager.markCurrentSelectedNavigation())});isDudaone&&a.layoutManager.handleEmptyNavigation()};h.handleEmptyNavigation=
function(){var c=a(".dmNavWrapper").eq(0),d=a("div.dmNavTriggerButton"),d=a().add(c).add(d);0<c.length&&(c=c.children().filter(function(){var c=a(this),d=!c.is(".dmHideFromNav, .dmDisplay_None, .dmNavTriggerButton, .slideDownTrigger");d&&a.layoutDevice&&a.layoutDevice.type&&(d=d&&!c.is(".dmHideFromNav-"+a.layoutDevice.type));return d}),d.toggleClass("dmDisplay_None",0===c.length))};h.showSpecificSubs=function(c){a.layoutManager.hideAllSubItems();c.find(".navItemArrowBg").addClass("pointDown");var d=
0,f=c.index();if(c.is(".dmSub")){for(f=c;f.is(".dmSub");)f=f.prev();f=f.index()}a(".dmNavigation li:gt("+f+")").each(function(){0==d&&a(this).is(".dmSub")&&!a(this).is(".dmSub2")?(a(this).removeClass("dmDisplay_None").css({opacity:"0"}),a(this).css({"-webkit-transform":"translate3d(0px, 0px, 0px)","-moz-transform":"translate(0px,0px)","-ms-transform":"translate(0px, 0px)","-o-transform":"translate(0px, 0px)",opacity:"1"}),a(this).index()==c.index()&&(d=1)):1==d&&a(this).is(".dmSub")?(a(this).removeClass("dmDisplay_None").css("opacity",
"0"),a(this).css({"-webkit-transform":"translate3d(0px, 0px, 0px)","-moz-transform":"translate(0px,0px)","-ms-transform":"translate(0px, 0px)","-o-transform":"translate(0px, 0px)",opacity:"1"}),a(this).is(".dmSub2")||(d=0)):a(this).is(".dmSub2")||(d=2)});a.layoutDevice.components.slideDownNav?(a.layoutDevice.components.slideDownNav.refresh(),a.layoutDevice.components.slideDownNav.element.find("li").eq(-1).addClass("liRemoveBorder")):a.layoutDevice.components.slideUpNav?a.layoutDevice.components.slideUpNav.refresh():
a.layoutDevice.components.slideRightNav&&a.layoutDevice.components.slideRightNav.refresh()};h.hideSpacificSubs=function(c){c.find(".navItemArrowBg").removeClass("pointDown");c.index();var d=c.is(".dmSub")?"dmSub2":"dmSub";c.nextUntil(":not(."+d+")").each(function(){1==a(this).css("opacity")&&(a(this).css({"-webkit-transform":"translate3d(0px,0px, 0px)","-moz-transform":"translate(0px,0px)","-ms-transform":"translate(0px,0px)","-o-transform":"translate(0px,0px)"}),a(this).css("opacity","0"),a(this).addClass("dmDisplay_None"))});
a.layoutDevice.components.slideDownNav?(a.layoutDevice.components.slideDownNav.refresh(),a.layoutDevice.components.slideDownNav.element.find("li").filter(function(){return 1==a(this).css("opacity")}).eq(-1).addClass("liRemoveBorder")):a.layoutDevice.components.slideUpNav?a.layoutDevice.components.slideUpNav.refresh():a.layoutDevice.components.slideRightNav&&a.layoutDevice.components.slideRightNav.refresh()};h.initHomeLinkAnchor=function(){a.layoutManager._is_touch_device?a("#dm-logo-anchor").unbind("touchstart.t").bind("touchstart.t",
function(c){a.layoutManager.closeAllOpenedNavs()}):a("#dm-logo-anchor").unbind("click.menu").bind("click.menu",function(c){a.layoutManager.closeAllOpenedNavs()})};h.closeAllOpenedNavs=function(c){a.layoutDevice.components.slideDownNav&&a.layoutDevice.components.slideDownNav.slideDownNavHandlerImpl(!1,!0);a.layoutDevice.components.slideUpNav&&a.layoutDevice.components.slideUpNav.slideUpNavHandlerImpl(!1,!0);a.layoutDevice.components.slideRightNav&&a.layoutDevice.components.slideRightNav.toggleMenu("close");
a.layoutDevice.components.upperFloatingNav&&a.layoutDevice.components.upperFloatingNav.hideSubnav();c&&c()};h.initInnerPageTitle=function(c){if(c&&a.layoutDevice.components.innerBar){var d=a.layoutDevice.components.innerBar.element.find(".innerPageTitle"),f=a.layoutDevice.components.innerBar.element.find("#dmBackBtn"),h=a.layoutDevice.components.innerBar.element.find("#pageTitleText");0==d.length&&(d=a("\x3cdiv\x3e\x3c/div\x3e"),0<h.length?h.append(d):0<f.length?d.insertAfter(f):a.layoutDevice.components.innerBar.element.append(d),
d.addClass("innerPageTitle"));d.text(c.page_title)}a.layoutDevice.initInnerPageTitle&&a.layoutDevice.initInnerPageTitle(c)};h.setSelected=function(a,d){a.toggleClass("dmNavItemSelected",d);return a};h.isIOS7=function(){return-1!=a.layoutManager.detectUserAgent().indexOf("iPhone")&&navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i)};h.isPortrait=function(){return window.innerHeight>window.innerWidth?!0:!1};h.updateContainerMinimumHeight=function(){var c=a(".dmRespRowsWrapper"),d=a(window).height();
0<a(".dmFooterContainer").length&&(d-=a(".dmFooterContainer").outerHeight());0<a("#mobileFooter").length&&(d-=a("#mobileFooter").outerHeight());0<a("#desktopHeaderBox").length&&(d-=a("#desktopHeaderBox").outerHeight());c.css("min-height",d+"px")}})(jQuery);
var layoutDeviceComponentInterface={onReadyGlobal:function(a){},onReadyEditorMode:function(a){},onReadyPreviewMode:function(a){},onLoadGlobal:function(a){},onLoadEditorMode:function(a){},onLoadPreviewMode:function(a){},afterAjaxCommand:function(a){},onAjaxLinkClick:function(a,k){},onAjaxLinkBeforeClick:function(a,k){return!0}},layoutDeviceInterface={type:"",components:{},onReady:function(a,k){},onLoad:function(a,k){},getTopFixedElementsOffset:function(){return 0},getBottomFixedElementsOffset:function(){return 0},
initInnerBar:function(){},onAjaxLinkClick:function(a,k){}};
(function(a){function k(){this.element=null}function m(){this.element=a("#upperFloatingNav")}function h(){this.slideTrigger=this.iscrollObject=this.element=null;this.slideDownNavHandlerImpl=function(c,d,h){null==c&&(c=!0);null==d&&(d=!1);null==h&&(h=!1);this.element.stop();this.element.unbind("webkitTransitionEnd").off("transitionend").off("oTransitionEnd").off("msTransitionEnd");this.element.css("display","block");_menuItemHeight=a(".dmNavigation .dmSub").outerHeight(!0);c?a("#slideDownNav").css({"-webkit-transition-duration":".5s",
"-moz-transition-duration":".5s","-o-transition-duration":".5s","-ms-transition-duration":".5s"}):a("#slideDownNav").css({"-webkit-transition-duration":"0s","-moz-transition-duration":"0s","-o-transition-duration":"0s","-ms-transition-duration":"0s"});if(0<a("#slideDownNav").length&&a("#slideDownNav").hasClass("dmSlideNavClose")&&!d||h)a("#slideDownNav").removeClass("dmSlideNavClose").removeClass("menuClosed"),a("#slideDownNav").addClass("dmSlideNavOpen"),a.layoutManager.isNee()&&a(".inlineEditorNewSelectionBarsLocked, .inlineEditorNewSelectionBarsSelected, .inlineEditorNewContext").addClass("inlineEditorBarsLowZindex"),
a("#slideDownNav").show(),this.element.css("overflow","visible"),a.layoutManager.hideAllSubItems(),a.layoutManager.setSelected(a(".slideDownTrigger"),!0).siblings("li").removeClass("dmNavItemSelected"),a.layoutManager.openAppropriateSub(),a.layoutDevice.components.slideDownNav.element.find("li").filter(function(){return 1==a(this).css("opacity")}).eq(-1).addClass("liRemoveBorder"),"slide"==a.layoutManager._layoutParams._navigationAnimationStyle?a("#slideDownNav").css({"-webkit-transform":"translate3d(0px, 0px, 0px)",
"-o-transform":"translate(0px, 0px)","-moz-transform":"translate(0px, 0px)","-ms-transform":"translate(0px, 0px)"}):"scale"==a.layoutManager._layoutParams._navigationAnimationStyle&&a("#slideDownNav").css({"-webkit-transform":"scale3d(1, 1, 1)","-o-transform":"scale(1, 1)","-moz-transform":"scale(1, 1)","-ms-transform":"scale(1, 1)","-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%"});else if(a("#slideDownNav").hasClass("dmSlideNavOpen")&&
!h||d)a("#slideDownNav").addClass("dmSlideNavClose").addClass("menuClosed"),a("#slideDownNav").removeClass("dmSlideNavOpen"),a.layoutManager.isNee()&&a(".inlineEditorNewSelectionBarsLocked, .inlineEditorNewSelectionBarsSelected, .inlineEditorNewContext").removeClass("inlineEditorBarsLowZindex"),this.element.css("overflow","hidden"),h=function(){a("#slideDownNav").hide();a("#slideDownNav").off("webkitTransitionEnd").off("transitionend").off("oTransitionEnd").off("msTransitionEnd")},c&&(this.element.off("webkitTransitionEnd").on("webkitTransitionEnd",
h),this.element.off("transitionend").on("transitionend",h),this.element.off("oTransitionEnd").on("oTransitionEnd",h),this.element.off("msTransitionEnd").on("msTransitionEnd",h)),a.layoutManager.setSelected(a(".slideDownTrigger"),!1),null==c&&(c=!0),"slide"==a.layoutManager._layoutParams._navigationAnimationStyle?(h=this.element.find("ul").outerHeight(!0),a("#slideDownNav").css({"-webkit-transform":"translate3d(0px, "+(0-h)+"px, 0px)","-o-transform":"translate(0px, "+(0-h)+"px)","-moz-transform":"translate(0px, "+
(0-h)+"px)","-ms-transform":"translate(0px, "+(0-h)+"px)"})):"scale"==a.layoutManager._layoutParams._navigationAnimationStyle&&a("#slideDownNav").css({"-webkit-transform":"scale3d(1, 0, 1)","-o-transform":"scale(1, 0)","-moz-transform":"scale(1, 0)","-ms-transform":"scale(1, 0)","-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%"}),c||a("#slideDownNav").hide(),a.layoutManager.hideAllSubItems(),this.slideTrigger&&0<this.slideTrigger.find(".navItemArrowBg").length&&
this.slideTrigger.find(".navItemArrowBg").addClass("pointDown"),d?a.layoutManager.markCurrentSelectedNavigation():a.layoutManager.markCurrentSelectedNavigation(!0)};this.initSlideDownTrigger=function(){this.slideTrigger&&0<this.slideTrigger.find(".navItemArrowBg").length&&c.slideTrigger.find(".navItemArrowBg").addClass("pointDown");var c=this;a.layoutManager._is_touch_device?this.slideTrigger&&this.slideTrigger.unbind("touchstart.t").bind("touchstart.t",function(a){c.slideDownNavHandlerImpl();a.preventDefault();
a.stopPropagation()}):this.slideTrigger&&this.slideTrigger.unbind("click.c").bind("click.c",function(a){c.slideDownNavHandlerImpl();a.preventDefault();a.stopPropagation()})}}function n(){this.iscrollObject=this.element=null;this.isUseIscroll=!1;this.isBodyScrollable=!0;this.afterAjaxCommand=null}function c(){this.startY=this.bambooObject=this.scrollObject=this.element=null;this.scrolled=!1}k.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);k.prototype.onReadyPreviewMode=function(){this.element=
a("#innerBar");a.layoutDevice.initInnerBar()};k.prototype.onReadyEditorMode=function(){this.onReadyPreviewMode()};k.prototype.onLoadPreviewMode=function(){};k.prototype.onLoadEditorMode=function(){};k.prototype.afterAjaxCommand=function(c){a.layoutDevice.initInnerBar(c)};m.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);m.prototype.onReadyEditorMode=function(a){this.onReadyGlobal()};m.prototype.onReadyPreviewMode=function(a){this.onReadyGlobal()};m.prototype.onLoadEditorMode=function(a){};
m.prototype.onLoadPreviewMode=function(a){};m.prototype.hideSubnav=function(){"tablet"==a.layoutDevice.type&&a("ul#upperFloatingNavigation \x3e li \x3e ul").stop(!0).fadeOut()};m.prototype.onReadyGlobal=function(){a("#upperFloatingNavigation a").off("click.menu").on("click.menu",function(c){a.layoutManager.isNee()&&!window.parent.$.dmpages.isExternalLink(a(this).attr("href"))&&parent.jQuery.dmfw.previewNavigateTo({url:a(this).attr("href")})});if("tablet"==a.layoutDevice.type)a("ul#upperFloatingNavigation").off("touchend.subnav click.subnav",
"\x3eli.hasdmSub:not(:has(\x3ea)), \x3eli.desktopTopNavMoreBtn").on("touchend.subnav click.subnav","\x3eli.hasdmSub:not(:has(\x3ea)), \x3eli.desktopTopNavMoreBtn",function(c){c=a(this).find("\x3eul");c.is(":not(:visible)")&&(a.commonComponents.upperFloatingNav.hideSubnav(),c.fadeIn().delay(3E3).fadeOut())}).off("mouseenter","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseenter","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn",function(c){c=a(this).find("\x3eul");c.is(":not(:visible)")&&c.fadeIn()}).off("mouseleave",
"\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseleave","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn",function(c){a.commonComponents.upperFloatingNav.hideSubnav()})};m.prototype.onAjaxLinkBeforeClick=function(c,d){if(c.is("#upperFloatingNavigation li *")&&"tablet"==a.layoutDevice.type&&c.parent().is(".desktopTopNav.hasdmSub")){var h=c.parent().find("\x3eul");if(h.is(":visible"))h.delay(1E3).fadeOut();else return this.hideSubnav(),h.fadeIn().delay(3E3).fadeOut(),!1}return!0};m.prototype.onAjaxLinkClick=
function(c,d){c.is("#upperFloatingNavigation li *")&&(a("#upperFloatingNavigation .navItemSelectedServer, #upperFloatingNavigation .dmNavItemSelected").removeClass("navItemSelectedServer").removeClass("dmNavItemSelected"),c.closest("li").addClass("dmNavItemSelected"))};h.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);h.prototype.initIscroll=function(){null!=this.iscrollObject&&(this.iscrollObject.destroy(),this.iscrollObject=null);0<a.layoutDevice.getTopFixedElementsOffset()&&(a("#slideDownNav").height(a.DM.getPageHeight()-
a.layoutDevice.getTopFixedElementsOffset()),this.iscrollObject=new iScroll("slideDownNav",{bounce:!1}))};h.prototype.initLoadGlobal=function(){this.initSlideDownTrigger()};h.prototype.onLoadEditorMode=function(){this.initIscroll();this.initLoadGlobal()};h.prototype.onLoadPreviewMode=function(){this.initIscroll();this.initLoadGlobal()};h.prototype.onReadyPreviewMode=function(){this.element=a("#slideDownNav").addClass("dmNavTriggerButton");this.slideTrigger=a(".slideDownTrigger");var c=0;this.element.addClass("dmSlideNavClose").addClass("menuClosed");
a.DM.isBodyScrollable()&&(a.layoutManager._is_touch_device&&this.element.find(".dmNavigation").unbind("touchstart").bind("touchstart",function(a){c=event.touches[0].pageY}),this.element.find(".dmNavigation").unbind("mousewheel DOMMouseScroll touchmove").bind("mousewheel DOMMouseScroll touchmove",function(d){d.preventDefault();if(a.layoutManager._is_touch_device)h=c-event.touches[0].pageY,a("html, body").scrollTop(document.body.scrollTop+h);else{d=document.body.scrollTop;var h=event.wheelDelta||-event.detail;
d=0<h?d-40:d+40;a("html, body").scrollTop(d)}}));0===a("#innerBar:visible").length&&10!==a.layoutManager.getCurrentLayout()&&1!==a.layoutManager.getCurrentLayout()&&this.element.find(".dmNavWrapper").removeClass("dmNavWrapper");this.initSlideDownTrigger()};h.prototype.onReadyEditorMode=function(){this.onReadyPreviewMode()};h.prototype.refresh=function(){this.initIscroll()};n.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);c.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);
c.prototype.onReadyEditorMode=function(a){this.onReadyGlobal(a)};c.prototype.onReadyPreviewMode=function(a){this.onReadyGlobal(a);this.initIscroll()};c.prototype.onLoadEditorMode=function(a){this.onLoadGlobal(a);this.initIscroll()};c.prototype.onLoadPreviewMode=function(a){this.onLoadGlobal(a)};c.prototype.onReadyGlobal=function(c){var d=this;a("#leftSidebar a").off("click.menu").on("click.menu",function(c){c=a(this).attr("href");c&&0===c.indexOf("http://")||(d.bambooObject.toggleMenu("close"),a("#leftSidebar .navItemSelectedServer").removeClass("navItemSelectedServer"),
a("#leftSidebar .dmNavItemSelected").removeClass("dmNavItemSelected"),a(this).closest("li").addClass("dmNavItemSelected"),a(this).addClass("currentPage"),a.layoutManager.isNee()&&parent.jQuery.dmfw.previewNavigateTo({url:a(this).attr("href")}))})};c.prototype.initIscroll=function(){var c=this;a.DM.loadExternalScriptAsync("/_dm/s/rt/scripts/bamboo.0.1.mod.js",function(){a.layoutManager.getLayoutElement().iscrollBody.element=a("#iscrollBody");a.layoutManager.getLayoutElement().iscrollBody.isBodyScrollable=
!1;c.bambooObject=new Bamboo({containerSelector:"#dmSlideRightNavRight",openButtonSelector:"#toggleMenuTrigger",scrollerSelector:"#iscrollBody",menu:!0,swipeToOpen:!0,breakpoint:999999,menuWidth:a("body").outerWidth()/("tablet"==a.layoutDevice.type?4:2),headerHeight:a("#slideRightNav").outerHeight(),resize:function(){a("body").css({height:"100%",position:"fixed"});a("#iscrollBody").css({"-webkit-overflow-scrolling":"touch","-webkit-transform":"translate3d(0,0,0)",height:a(window).height()-a.layoutDevice.getTopFixedElementsOffset()})}})})};
c.prototype.onLoadGlobal=function(a){};c.prototype.onAjaxLinkClick=function(c,d){c.is("#leftSidebar li *")&&(a("#leftSidebar .navItemSelectedServer, #leftSidebar .dmNavItemSelected").removeClass("navItemSelectedServer").removeClass("dmNavItemSelected"),c.closest("li").addClass("dmNavItemSelected"));this.toggleMenu("close");a("#dmSlideRightNavRight").animate({scrollTop:0},"fast")};c.prototype.afterAjaxCommand=function(a){};c.prototype.onAjaxLinkBeforeClick=function(a,c){return!this.scrolled};c.prototype.onAjaxLinkTouchStart=
function(a,c){this.startY=c.originalEvent.pageY;this.scrolled=!1};c.prototype.onAjaxLinkTouchMove=function(a,c){20<Math.abs(c.originalEvent.pageY-this.startY)&&(this.scrolled=!0)};c.prototype.toggleMenu=function(a){this.bambooObject&&this.bambooObject.toggleMenu(a)};c.prototype.refresh=function(){this.initIscroll()};var d={iscrollBody:new n,innerBar:new k,slideDownNav:new h,slideRightNav:new c,upperFloatingNav:new m};a.extend({commonComponents:d})})(jQuery);